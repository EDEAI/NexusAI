"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7735],{36711:function(C,f,e){e.r(f),e.d(f,{waitTime:function(){return A},waitTimePromise:function(){return p}});var P=e(97857),E=e.n(P),h=e(5574),D=e.n(h),T=e(15009),n=e.n(T),w=e(99289),c=e.n(w),I=e(42237),O=e(29608),v=e(46944),M=e(35312),b=e(67294),t=e(85893),p=function(){var s=c()(n()().mark(function o(){var u,a=arguments;return n()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return u=a.length>0&&a[0]!==void 0?a[0]:100,_.abrupt("return",new Promise(function(j){setTimeout(function(){j(!0)},u)}));case 2:case"end":return _.stop()}},o)}));return function(){return s.apply(this,arguments)}}(),A=function(){var s=c()(n()().mark(function o(){var u,a=arguments;return n()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return u=a.length>0&&a[0]!==void 0?a[0]:100,_.next=3,p(u);case 3:case"end":return _.stop()}},o)}));return function(){return s.apply(this,arguments)}}();f.default=function(){var s=(0,M.useIntl)(),o=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:s.formatMessage({id:"workflow.toName",defaultMessage:""}),dataIndex:"app_runs_name",ellipsis:!0,fieldProps:{onChange:function(l){var r;i==null||(r=i.current)===null||r===void 0||r.submit()}}},{title:s.formatMessage({id:"workflow.created_time",defaultMessage:""}),dataIndex:"created_time",ellipsis:!0,width:180,tooltip:s.formatMessage({id:"workflow.created_time_des",defaultMessage:s.formatMessage({id:"workflow.created_time_des",defaultMessage:""})}),search:!1},{disable:!0,title:s.formatMessage({id:"workflow.status",defaultMessage:""}),dataIndex:"app_runs_status",filters:!0,onFilter:!0,ellipsis:!0,width:120,valueType:"select",fieldProps:{onChange:function(l){var r;i==null||(r=i.current)===null||r===void 0||r.submit()}},valueEnum:{1:{text:s.formatMessage({id:"workflow.running",defaultMessage:""}),status:"Processing"},2:{text:s.formatMessage({id:"workflow.runSc",defaultMessage:""}),status:"Success"},3:{text:s.formatMessage({id:"workflow.runF",defaultMessage:""}),status:"Error"}}},{title:"".concat(s.formatMessage({id:"workflow.elapsed_time",defaultMessage:""}),"S"),dataIndex:"elapsed_time",ellipsis:!0,width:100,tooltip:s.formatMessage({id:"workflow.run_time"}),search:!1},{title:"Tokens",key:"showTime",dataIndex:"total_tokens",width:100,hideInSearch:!0},{title:s.formatMessage({id:"workflow.user"}),dataIndex:"nickname",search:!1,width:120,ellipsis:!0,key:"user"}],u=(0,M.useSearchParams)(),a=D()(u,1),R=a[0],_=(0,O.Z)(function(d){return d.setRunPanelLogRecord}),j=R.get("app_id"),i=(0,b.useRef)(null);return(0,t.jsx)("div",{className:"h-full w-screen pl-[60px] box-border",children:(0,t.jsx)("div",{children:(0,t.jsx)(v.Z,{columns:o,formRef:i,form:{submitter:!1},cardBordered:!0,style:{height:"calc(100% - 20px)"},scroll:{y:"calc(100vh - 380px)",x:"100%"},request:function(){var d=c()(n()().mark(function l(r,B,U){var g;return n()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return console.log(r,B,U),m.next=3,(0,I.bB)(E()(E()({app_runs_name:"",app_runs_status:0},r),{},{app_id:j}));case 3:return g=m.sent,console.log(g),m.abrupt("return",{data:g.data.list,success:!0,total:g.data.total_count});case 6:case"end":return m.stop()}},l)}));return function(l,r,B){return d.apply(this,arguments)}}(),onRow:function(l){return{onClick:function(){console.log("Row clicked:",l),_(l)}}},editable:{type:"multiple"},rowKey:"app_runs_id",search:{labelWidth:"auto"},options:{setting:{listsHeight:600}},pagination:{pageSize:12,showSizeChanger:!1},dateFormatter:"string",headerTitle:s.formatMessage({id:"workflow.workflowLog",defaultMessage:""})})})})}},79697:function(C,f,e){var P=e(39473),E=e(83970),h=e(29169),D=e(27771),T=e(50585),n=e(77008),w=e(72764),c=e(18843),I="[object Map]",O="[object Set]",v=Object.prototype,M=v.hasOwnProperty;function b(t){if(t==null)return!0;if((0,T.Z)(t)&&((0,D.Z)(t)||typeof t=="string"||typeof t.splice=="function"||(0,n.Z)(t)||(0,c.Z)(t)||(0,h.Z)(t)))return!t.length;var p=(0,E.Z)(t);if(p==I||p==O)return!t.size;if((0,w.Z)(t))return!(0,P.Z)(t).length;for(var A in t)if(M.call(t,A))return!1;return!0}f.Z=b}}]);
