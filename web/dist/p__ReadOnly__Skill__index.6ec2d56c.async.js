(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[630],{82826:function(z,N,t){"use strict";t.d(N,{Z:function(){return k}});var b=t(1413),i=t(67294),R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},j=R,w=t(91146),o=function(A,E){return i.createElement(w.Z,(0,b.Z)((0,b.Z)({},A),{},{ref:E,icon:j}))},Z=i.forwardRef(o),k=Z},89035:function(z,N,t){"use strict";t.d(N,{Z:function(){return k}});var b=t(1413),i=t(67294),R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M516 673c0 4.4 3.4 8 7.5 8h185c4.1 0 7.5-3.6 7.5-8v-48c0-4.4-3.4-8-7.5-8h-185c-4.1 0-7.5 3.6-7.5 8v48zm-194.9 6.1l192-161c3.8-3.2 3.8-9.1 0-12.3l-192-160.9A7.95 7.95 0 00308 351v62.7c0 2.4 1 4.6 2.9 6.1L420.7 512l-109.8 92.2a8.1 8.1 0 00-2.9 6.1V673c0 6.8 7.9 10.5 13.1 6.1zM880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"code",theme:"outlined"},j=R,w=t(91146),o=function(A,E){return i.createElement(w.Z,(0,b.Z)((0,b.Z)({},A),{},{ref:E,icon:j}))},Z=i.forwardRef(o),k=Z},81644:function(z,N,t){"use strict";t.d(N,{Z:function(){return k}});var b=t(1413),i=t(67294),R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-792 72h752v120H136V232zm752 560H136V440h752v352zm-237-64h165c4.4 0 8-3.6 8-8v-72c0-4.4-3.6-8-8-8H651c-4.4 0-8 3.6-8 8v72c0 4.4 3.6 8 8 8z"}}]},name:"credit-card",theme:"outlined"},j=R,w=t(91146),o=function(A,E){return i.createElement(w.Z,(0,b.Z)((0,b.Z)({},A),{},{ref:E,icon:j}))},Z=i.forwardRef(o),k=Z},2068:function(z,N,t){"use strict";t.d(N,{Z:function(){return k}});var b=t(1413),i=t(67294),R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm376 116c-119.3 0-216 96.7-216 216s96.7 216 216 216 216-96.7 216-216-96.7-216-216-216zm107.5 323.5C750.8 868.2 712.6 884 672 884s-78.8-15.8-107.5-44.5C535.8 810.8 520 772.6 520 732s15.8-78.8 44.5-107.5C593.2 595.8 631.4 580 672 580s78.8 15.8 107.5 44.5C808.2 653.2 824 691.4 824 732s-15.8 78.8-44.5 107.5zM761 656h-44.3c-2.6 0-5 1.2-6.5 3.3l-63.5 87.8-23.1-31.9a7.92 7.92 0 00-6.5-3.3H573c-6.5 0-10.3 7.4-6.5 12.7l73.8 102.1c3.2 4.4 9.7 4.4 12.9 0l114.2-158c3.9-5.3.1-12.7-6.4-12.7zM440 852H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"file-done",theme:"outlined"},j=R,w=t(91146),o=function(A,E){return i.createElement(w.Z,(0,b.Z)((0,b.Z)({},A),{},{ref:E,icon:j}))},Z=i.forwardRef(o),k=Z},15360:function(z,N,t){"use strict";t.d(N,{Z:function(){return k}});var b=t(1413),i=t(67294),R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},j=R,w=t(91146),o=function(A,E){return i.createElement(w.Z,(0,b.Z)((0,b.Z)({},A),{},{ref:E,icon:j}))},Z=i.forwardRef(o),k=Z},24805:function(z,N,t){"use strict";t.d(N,{Hb:function(){return A},Ur:function(){return ue},cN:function(){return de},ej:function(){return E}});var b=t(15009),i=t.n(b),R=t(99289),j=t.n(R),w=t(47520),o="/v1/skill/skill_info/",Z="/v1/skill/skill_update/",k="/v1/skill/skill_publish/",U="/v1/skill/skill_run",A=function(){var C=j()(i()().mark(function l(h,M){var X;return i()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,(0,w.ZP)("".concat(o).concat(h),{method:"GET",data:{publish_status:M=="true"?1:0}});case 2:return X=G.sent,G.abrupt("return",X);case 4:case"end":return G.stop()}},l)}));return function(h,M){return C.apply(this,arguments)}}(),E=function(){var C=j()(i()().mark(function l(h){var M;return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,w.ZP)("".concat(Z).concat(h.app_id),{method:"PUT",data:h.data});case 2:return M=a.sent,a.abrupt("return",M);case 4:case"end":return a.stop()}},l)}));return function(h){return C.apply(this,arguments)}}(),de=function(){var C=j()(i()().mark(function l(h){var M;return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,w.ZP)("".concat(k).concat(h),{method:"PUT"});case 2:return M=a.sent,a.abrupt("return",M);case 4:case"end":return a.stop()}},l)}));return function(h){return C.apply(this,arguments)}}(),ue=function(){var C=j()(i()().mark(function l(h){var M;return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,w.ZP)("".concat(U),{method:"POST",data:h});case 2:return M=a.sent,a.abrupt("return",M);case 4:case"end":return a.stop()}},l)}));return function(h){return C.apply(this,arguments)}}()},23924:function(z,N,t){"use strict";t.r(N),t.d(N,{default:function(){return He}});var b=t(15009),i=t.n(b),R=t(99289),j=t.n(R),w=t(5574),o=t.n(w),Z=t(24805),k=t(10759),U=t(2068),A=t(89035),E=t(81644),de=t(15360),ue=t(82826),C=t(35312),l=t(40741),h=t(45360),M=t(28036),X=t(50136),a=t(67294),G=t(97857),u=t.n(G),se=t(92939),D=t(26915),oe=t(72269),ce=t(34041),e=t(85893),at=D.Z.TextArea,we=function(s){var Y=s.FirstValue,S=s.FirstSkillref,c=s.Skillinfo,y=s.setSkillInfo,H=s.Operationbentate,r=(0,C.useIntl)();(0,a.useEffect)(function(){},[]);var p={readOnly:!0},P={disabled:!0};return(0,e.jsxs)("div",{style:{height:"100%"},children:[(0,e.jsx)("div",{className:"flex align-center justify-between mt-[30px]",children:(0,e.jsx)("div",{className:"text-base font-medium mb-[30px] text-[#333333]",children:r.formatMessage({id:"skill.inputsetting"})})}),(0,e.jsx)(l.Z,{name:"dynamic_form_nest_item",onFinish:function(B){Y(B)},style:{width:900},autoComplete:"off",form:S,children:c&&c.attrs_are_visible==0?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(l.Z.Item,{className:"mb-[30px]",children:[(0,e.jsx)("div",{className:"text-[#555555] text-xs font-medium  mb-[15px]",children:r.formatMessage({id:"skill.appname"})}),(0,e.jsxs)("div",{className:"text-[#555555] w-full my-2 p-[15px] flex text-xs  items-center bg-[#F7F7F7] rounded-lg",children:[(0,e.jsxs)("div",{children:[c&&c.name,"\xA0"]}),(0,e.jsx)("div",{className:"",children:H==="true"?r.formatMessage({id:"skill.toast.waring"}):""})]})]}),(0,e.jsxs)(l.Z.Item,{className:"mb-[30px]",children:[(0,e.jsx)("div",{className:"text-[#555555] text-xs  mb-[15px]",children:r.formatMessage({id:"skill.appdescription"})}),(0,e.jsx)("div",{className:"text-[#555555] w-full my-2 p-[15px] flex text-xs  items-center bg-[#F7F7F7] rounded-lg",children:c&&c.description})]})]}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(l.Z.Item,{className:"mb-[30px]",children:[(0,e.jsx)("div",{className:"text-[#555555] text-xs font-medium  mb-[15px]",children:r.formatMessage({id:"skill.appname"})}),(0,e.jsxs)("div",{className:"text-[#555555] w-full my-2 p-[15px] flex text-xs  items-center bg-[#F7F7F7] rounded-lg",children:[(0,e.jsxs)("div",{children:[c&&c.name,"\xA0"]}),(0,e.jsx)("div",{className:"",children:H==="true"?r.formatMessage({id:"skill.toast.waring"}):""})]})]}),(0,e.jsxs)(l.Z.Item,{className:"mb-[30px]",children:[(0,e.jsx)("div",{className:"text-[#555555] text-xs  mb-[15px]",children:r.formatMessage({id:"skill.appdescription"})}),(0,e.jsx)("div",{className:"text-[#555555] w-full my-2 p-[15px] flex text-xs  items-center bg-[#F7F7F7] rounded-lg",children:c&&c.description})]}),(0,e.jsxs)(l.Z.Item,{className:"mb-[30px]",children:[(0,e.jsx)("div",{className:"mb-[15px]",children:(0,e.jsx)(se.Z,{className:"font-medium text-xs text-[#555555]",name:r.formatMessage({id:"skill.teamvisibility"}),title:r.formatMessage({id:"skill.Callword.title"})})}),(0,e.jsx)(oe.Z,u()(u()({},P),{},{size:"small",checked:!!(c&&c.is_public==1)}))]}),(0,e.jsxs)(l.Z.Item,{className:"mb-[30px]",children:[(0,e.jsx)("div",{className:"mb-[15px] text-[#555555] text-xs",children:r.formatMessage({id:"agent.attrVisible"})}),(0,e.jsx)(oe.Z,u()(u()({},P),{},{size:"small",checked:!!(c&&c.attrs_are_visible==1)}))]}),(0,e.jsx)("div",{className:"mb-[15px] text-xs font-bold flex justify-between items-center",children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-medium",children:(0,e.jsx)(se.Z,{name:r.formatMessage({id:"skill.inputvariable"}),title:r.formatMessage({id:"skill.Callword.inputvariable"})})})}),(0,e.jsxs)("div",{className:"w-full flex justify-start items-center text-xs font-medium px-2.5 text-[#555555] h-12 bg-[#F7F7F7]  rounded-t-lg",children:[(0,e.jsx)("div",{className:"w-[300px] ml-2.5",children:r.formatMessage({id:"skill.variable.name"})}),(0,e.jsx)("div",{className:"w-[300px]",children:r.formatMessage({id:"skill.variable.display"})}),(0,e.jsx)("div",{className:"w-[230px]",children:r.formatMessage({id:"skill.variable.type"})}),(0,e.jsx)("div",{className:"w-[70px]",children:r.formatMessage({id:"skill.variable.required"})})]}),(0,e.jsx)("div",{children:S&&S.getFieldValue().users&&S.getFieldValue().users.map(function(O,B){return(0,e.jsxs)("div",{className:"w-full h-20 flex justify-start  px-2.5 border-b border-x pt-7 last:rounded-b-lg",children:[(0,e.jsx)(l.Z.Item,{className:"m-0",rules:[{required:!0,message:""},{pattern:/^[a-zA-Z0-9_]+$/,message:""}],children:(0,e.jsx)(D.Z,u()(u()({},P),{},{value:O.name,className:"w-[280px] mr-[20px]"}))}),(0,e.jsx)(l.Z.Item,{className:"m-0",rules:[{required:!0,message:""}],children:(0,e.jsx)(D.Z,u()(u()({},P),{},{value:O.content,className:"w-[270px] mr-[20px]"}))}),(0,e.jsx)(l.Z.Item,{className:" mr-[80px] m-0",children:(0,e.jsx)(ce.Z,u()(u()({},P),{},{style:{width:"150px"},defaultValue:"string",value:O.type,options:[{value:"string",label:"String"},{value:"number",label:"Number"},{value:"json",label:"Object"}]}))}),(0,e.jsx)(l.Z.Item,{className:"w-12 mr-14 m-0",children:(0,e.jsx)(oe.Z,u()(u()({},P),{},{size:"small",checked:O.status}))})]},B)})}),(0,e.jsx)("div",{className:"h-[30px] w-1"})]})})]})},Ze=we,he=t(92485),Me=function(s){var Y=s.SecondValue,S=s.handleBack,c=s.Skillinfo,y=s.setSkillInfo,H=s.SkillRelyOn,r=s.setSkillRelyOn,p=s.Secondref,P=s.setskillcodestate,O=s.setNewcode,B=(0,C.useIntl)();(0,a.useEffect)(function(){},[]);var ae={readOnly:!0},W={disabled:!0},$=function(Q){console.log(Q),r(Q)};return(0,e.jsxs)("div",{style:{height:"100%"},children:[(0,e.jsx)("div",{className:"flex align-center justify-between mt-[30px]",children:(0,e.jsx)("div",{className:"text-base font-medium mb-[30px] text-[#333333]",children:B.formatMessage({id:"skill.codesetting"})})}),(0,e.jsxs)(l.Z,{name:"dynamic_form_nest_item",style:{width:900},autoComplete:"off",form:p,children:[(0,e.jsxs)(l.Z.Item,{className:"mb-[30px]",children:[(0,e.jsx)("div",{className:"text-[#555555] text-xs mb-[15px] font-medium",children:(0,e.jsx)(se.Z,{name:B.formatMessage({id:"skill.dependency"}),title:B.formatMessage({id:"skill.Callword.dependency"})})}),(0,e.jsx)(ce.Z,u()(u()({},W),{},{mode:"tags",variant:"filled",style:{width:"100%"},value:H,tokenSeparators:[","]}))]}),(0,e.jsxs)(l.Z.Item,{children:[(0,e.jsx)("div",{className:"text-[#555555] text-xs mb-[15px] font-medium",children:B.formatMessage({id:"skill.code"})}),(0,e.jsx)("div",{className:"h-80",children:(0,e.jsx)(he.Z,{readOnly:!0,language:"python3",value:c&&c.code?JSON.parse(c.code).python3:`def main(arg1: int) -> dict:
    return {
        "result": (arg1 + 2) * 3,
    }`,title:"python3"})})]})]})]})},Oe=Me,le=t(78045),rt=D.Z.TextArea,nt=D.Z.Search,Ie=function(s){var Y=s.ThirdlyValue,S=s.Thirdlyref,c=s.handleBack,y=s.Skillinfo,H=s.setSkillInfo,r=s.Operationbentate,p=(0,C.useIntl)(),P=(0,a.useState)(null),O=o()(P,2),B=O[0],ae=O[1],W={readOnly:!0},$={disabled:!0};(0,a.useEffect)(function(){},[]);var K=function(J){H(u()(u()({},y),{},{output_type:J.target.value}))},Q=function(J){var L=new k.Kr("output","","");J.users.forEach(function(v){var F=new k._w(v.name,v.type?v.type:"string","",v.content,!1);L.addProperty(v.name,F)});var f={output_type:y.output_type,output_variables:L};Y(f)};return(0,e.jsxs)("div",{style:{height:"100%"},children:[(0,e.jsx)("div",{className:"flex align-center justify-between mt-[30px]",children:(0,e.jsx)("div",{className:"text-base font-medium mb-[30px] text-[#333333]",children:p.formatMessage({id:"skill.menu.output"})})}),(0,e.jsx)(l.Z,{name:"dynamic_form_nest_item",onFinish:Q,style:{width:900},autoComplete:"off",form:S,children:(0,e.jsx)(l.Z.List,{name:"users",children:function(J,L){var f=L.add,v=L.remove;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(l.Z.Item,{className:"mb-[30px]",children:[(0,e.jsx)("div",{className:"text-[#555555] text-xs mb-[15px] font-medium",children:(0,e.jsx)(se.Z,{name:p.formatMessage({id:"skill.outputvariable"}),title:p.formatMessage({id:"skill.Callword.outputvariable"})})}),(0,e.jsxs)(le.ZP.Group,u()(u()({},$),{},{value:y&&y.output_type,children:[(0,e.jsx)(le.ZP,{value:1,children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-normal",children:p.formatMessage({id:"skill.radio.text"})})}),(0,e.jsx)(le.ZP,{value:2,children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-normal",children:p.formatMessage({id:"skill.radio.database"})})}),(0,e.jsx)(le.ZP,{value:3,children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-normal",children:p.formatMessage({id:"skill.radio.code"})})}),(0,e.jsx)(le.ZP,{value:4,children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-normal",children:p.formatMessage({id:"skill.radio.file"})})})]}))]}),(0,e.jsx)("div",{className:"mb-[15px] text-[#555555] text-xs font-medium flex justify-between items-center",children:(0,e.jsx)("div",{children:(0,e.jsx)(se.Z,{name:p.formatMessage({id:"skill.outputv"}),title:p.formatMessage({id:"skill.Callword.outputv"})})})}),(0,e.jsxs)("div",{className:"w-full flex justify-start items-center text-xs font-medium px-2.5 text-[#555555] h-12 bg-[#F7F7F7] rounded-t-lg",children:[(0,e.jsx)("div",{className:"w-[300px] mr-[60px] ml-2.5",children:p.formatMessage({id:"skill.variable.name"})}),(0,e.jsx)("div",{className:"w-[300px] mr-[50px]",children:p.formatMessage({id:"skill.variable.display"})}),(0,e.jsx)("div",{className:"",children:p.formatMessage({id:"skill.variable.type"})})]}),S&&S.getFieldValue("users")&&S.getFieldValue("users").map(function(F,I){return(0,e.jsxs)("div",{className:"w-full h-20 flex justify-start  px-2.5 border-b border-x pt-7 last:rounded-b-lg",children:[(0,e.jsx)(l.Z.Item,{className:"m-0",children:(0,e.jsx)(D.Z,u()(u()({},$),{},{placeholder:p.formatMessage({id:"skill.variable.name"}),value:F.name,className:"w-[280px] mr-[80px]"}))}),(0,e.jsx)(l.Z.Item,{className:"m-0",rules:[{required:!0,message:p.formatMessage({id:"skill.rules.name"})}],children:(0,e.jsx)(D.Z,u()(u()({},$),{},{placeholder:p.formatMessage({id:"skill.variable.display"}),value:F.content,className:"w-[270px] mr-[80px]"}))}),(0,e.jsx)(l.Z.Item,{className:"w-36 mr-16 m-0",children:(0,e.jsx)(ce.Z,u()(u()({},$),{},{style:{width:"150px"},value:F.type,placeholder:"Please select",defaultValue:"string",options:[{value:"string",label:"String"},{value:"number",label:"Number"},{value:"json",label:"Object"},{value:"file",label:"File"}]}))})]})})]})}})})]})},Ce=Ie,Pe=t(13769),Te=t.n(Pe),Ve=t(49677),Re=t.n(Ve),Ae=t(74330),Ee=["key","name"],it=D.Z.TextArea,dt=D.Z.Search,Be=function(s){var Y=s.FourthlyValue,S=s.Fourthlyref,c=s.handleBack,y=s.Skillinfo,H=s.Operationbentate,r=(0,C.useIntl)(),p=(0,a.useState)(null),P=o()(p,2),O=P[0],B=P[1],ae=(0,a.useState)(!1),W=o()(ae,2),$=W[0],K=W[1];(0,a.useEffect)(function(){},[]);var Q=function(){var f=j()(i()().mark(function v(){var F;return i()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,Z.cN)(y.app_id);case 2:F=m.sent,F.code==0?h.ZP.success(r.formatMessage({id:"skill.publishsuccess"})):h.ZP.error(r.formatMessage({id:"skill.select.value"}));case 4:case"end":return m.stop()}},v)}));return function(){return f.apply(this,arguments)}}(),te=function(v){var F=v.users.filter(function(x,_){return x.type=="number"&&!Number(x.value)&&!!x.value});if(F.length>0)h.ZP.warning(r.formatMessage({id:"skill.message.warning.vlaue"}));else{K(!0);var I=new k.Kr("output","","");v.users.forEach(function(x){var _=new k._w(x.name,x.type,x.type=="string"?x.value:Number(x.value),x.content,x.status);I.addProperty(x.name,_)});var m={skill_id:y.id,input_dict:I};J(m)}},J=function(){var f=j()(i()().mark(function v(F){return i()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:(0,Z.Ur)(F).then(function(x){h.ZP.success(r.formatMessage({id:"skill.run.success"})),B(x.data.outputs),K(!1)}).catch(function(x){K(!1)});case 1:case"end":return m.stop()}},v)}));return function(F){return f.apply(this,arguments)}}(),L=function(){var f=j()(i()().mark(function v(){return i()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:C.history.push("/Skill?app_id=".concat(y==null?void 0:y.app_id,"&type=false")),location.reload();case 2:case"end":return I.stop()}},v)}));return function(){return f.apply(this,arguments)}}();return(0,e.jsxs)("div",{style:{height:"100%"},children:[(0,e.jsx)("div",{className:"flex align-center justify-between mt-[30px]",children:(0,e.jsx)("div",{className:"text-base font-medium mb-[30px] text-[#333333]",children:r.formatMessage({id:"skill.operationrun"})})}),(0,e.jsxs)(l.Z,{name:"dynamic_form_nest_item",onFinish:te,style:{width:900},autoComplete:"off",form:S,children:[(0,e.jsx)("div",{className:"text-[#555555] text-xs font-medium  mb-[15px]",children:(0,e.jsx)("div",{children:r.formatMessage({id:"skill.inputvariable"})})}),(0,e.jsxs)("div",{className:"w-full flex justify-start items-center text-xs font-medium px-[10px] text-[#213044] h-12 bg-[#F7F7F7]  rounded-t-lg",children:[(0,e.jsx)("div",{className:"w-48 mr-5 ml-2.5",children:r.formatMessage({id:"skill.variable.name"})}),(0,e.jsx)("div",{className:"w-52 mr-5",children:r.formatMessage({id:"skill.variable.display"})})]}),(0,e.jsx)(l.Z.List,{name:"users",children:function(v,F){return Re()(F),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:"mb-[30px]",children:v.map(function(I){var m=I.key,x=I.name,_=Te()(I,Ee);return(0,e.jsxs)("div",{className:"w-full h-20 flex justify-start  px-2.5 border-b border-x pt-7 last:rounded-b-lg",children:[(0,e.jsx)(l.Z.Item,u()(u()({},_),{},{name:[x,"content"],children:(0,e.jsx)(D.Z,{className:"w-48 mr-5",style:{color:"#213044",fontWeight:"400",fontSize:"12px"},variant:"borderless",disabled:!0})})),(0,e.jsx)(l.Z.Item,u()(u()({},_),{},{name:[x,"value"],rules:[{required:!!(S.getFieldsValue()&&S.getFieldsValue().users[m].status==!0),message:r.formatMessage({id:"skill.message.variantcontent"})}],children:(0,e.jsx)(D.Z,{placeholder:S.getFieldsValue()&&S.getFieldsValue().users[m].status==!0?r.formatMessage({id:"skill.variantcontent.required"}):r.formatMessage({id:"skill.variantcontent"}),style:{width:"660px"}})}))]})})})})}}),(0,e.jsxs)(l.Z.Item,{rules:[{required:!0,message:r.formatMessage({id:"skill.rules.callword"})}],children:[(0,e.jsx)("div",{className:"mb-[15px] text-[#555555] text-xs font-medium",children:r.formatMessage({id:"skill.runpreview"})}),(0,e.jsx)(Ae.Z,{spinning:$,children:(0,e.jsxs)("div",{className:"bg-[#F7F7F7] p-3.5 rounded-lg",children:[(0,e.jsxs)("div",{className:"h-[345px] mb-[30px]",children:[" ",O?(0,e.jsx)(he.Z,{language:"python3",value:O&&JSON.stringify(O)}):null]}),(0,e.jsx)("div",{className:"w-full flex justify-end items-center",children:(0,e.jsx)("div",{className:" h-8 bg-[#e8effc] rounded-md",children:(0,e.jsx)(M.ZP,{className:"bg-[#fff]",icon:(0,e.jsx)("img",{src:"/icons/fs.svg"}),type:"link",htmlType:"submit",block:!0,children:r.formatMessage({id:"skill.run"})})})})]})})]}),(0,e.jsx)("div",{className:"w-28",children:(y==null?void 0:y.publish_status)===1&&(y==null?void 0:y.is_creator)===1?(0,e.jsx)("div",{children:(0,e.jsx)(M.ZP,{type:"primary",htmlType:"submit",className:"w-full",onClick:L,children:r.formatMessage({id:"skill.amend"})})}):(0,e.jsx)("div",{children:(0,e.jsx)(M.ZP,{type:"primary",htmlType:"submit",className:"w-full",onClick:Q,disabled:H!="false",children:r.formatMessage({id:"skill.publish"})})})}),(0,e.jsx)("div",{className:"h-[30px] w-1"})]})]})},ze=Be,De=function(){var s=(0,C.useIntl)(),Y=l.Z.useForm(),S=o()(Y,1),c=S[0],y=l.Z.useForm(),H=o()(y,1),r=H[0],p=l.Z.useForm(),P=o()(p,1),O=P[0],B=l.Z.useForm(),ae=o()(B,1),W=ae[0],$=(0,a.useState)(0),K=o()($,2),Q=K[0],te=K[1],J=(0,a.useState)("1"),L=o()(J,2),f=L[0],v=L[1],F=(0,a.useState)(null),I=o()(F,2),m=I[0],x=I[1],_=(0,a.useState)(null),pe=o()(_,2),Le=pe[0],$e=pe[1],Ue=(0,a.useState)(null),ge=o()(Ue,2),me=ge[0],je=ge[1],Ge=(0,a.useState)(null),ye=o()(Ge,2),ie=ye[0],We=ye[1],Ke=(0,a.useState)(!1),be=o()(Ke,2),ut=be[0],Je=be[1],Xe=(0,a.useState)(null),ke=o()(Xe,2),ot=ke[0],Ye=ke[1],Qe=[{key:"1",icon:(0,e.jsx)(U.Z,{}),label:s.formatMessage({id:"skill.menu.input"}),style:{padding:"15px",width:"100%",margin:"0px",marginBottom:"10px",fontSize:"16px",fontWeight:"500",color:f=="1"?"#1B64F3":"#213044"}},{key:"2",icon:(0,e.jsx)(A.Z,{}),label:s.formatMessage({id:"skill.menu.code"}),disabled:me&&m.attrs_are_visible==0,style:{padding:"15px",width:"100%",margin:"0px",marginBottom:"10px",fontSize:"16px",fontWeight:"500",color:f=="2"?"#1B64F3":"#213044"}},{key:"3",icon:(0,e.jsx)(E.Z,{}),label:s.formatMessage({id:"skill.menu.output"}),disabled:me&&m.attrs_are_visible!==1,style:{padding:"15px",width:"100%",margin:"0px",marginBottom:"10px",fontSize:"16px",fontWeight:"500",color:f=="3"?"#1B64F3":"#213044"}},{key:"4",icon:(0,e.jsx)(de.Z,{}),label:s.formatMessage({id:"skill.menu.debug"}),style:{padding:"15px",width:"100%",margin:"0px",marginBottom:"10px",fontSize:"16px",fontWeight:"500",color:f=="4"?"#1B64F3":"#213044"}}];(0,a.useEffect)(function(){Se()},[]);var Se=function(){var T=j()(i()().mark(function d(){var g,n,V,q;return i()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return g=new URLSearchParams(window.location.search),$e(g.get("app_id")),re.next=4,(0,Z.Hb)(g.get("app_id"),g.get("type"));case 4:n=re.sent,console.log(n,"res-===>"),n.code==0?(x(n.data),We(n.data.publish_status===1?"true":"false"),n.data.publish_status==1&&h.ZP.warning(s.formatMessage({id:"skill.message.listwarning"}),5),V=fe(n.data.input_variables),c.setFieldsValue(V),je(n.data.dependencies?n.data.dependencies.python3:[]),q=fe(n.data.output_variables),O.setFieldsValue(q)):h.ZP.error(s.formatMessage({id:"skill.message.listerror"}));case 7:case"end":return re.stop()}},d)}));return function(){return T.apply(this,arguments)}}(),fe=function(d){console.log(!!d&&!!d.properties,"obj");var g={users:d&&d.properties?Object.values(d.properties).map(function(n){return{name:n.name,type:n.type,content:n.display_name,status:n.required}}):[{name:"",content:"",output_format:0,status:!0,type:"string"}]};return g},ve=function(){var T=j()(i()().mark(function d(g){var n,V;return i()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(ie!=="false"){ee.next=7;break}return n={app_id:Le,data:g},ee.next=4,(0,Z.ej)(n);case 4:V=ee.sent,console.log(V),V.code==0&&Se();case 7:case"end":return ee.stop()}},d)}));return function(g){return T.apply(this,arguments)}}(),_e=function(){Ne({key:f,keyPath:[],item:void 0,domEvent:void 0}),history.back()},Fe=function(d){var g=fe(d.input_variables);W.setFieldsValue(g)},qe=function(d){ve(d)},et=function(d){ve(d)},tt=function(d){ve(d)},xe=function(d){te(d)},Ne=function(d){if(f=="1"){var g={input_variables:lt(c.getFieldValue()),is_public:m.is_public};Fe(g),v(d.key)}v(d.key)},ct=function(d,g){console.log(d,"users");var n=d.filter(function(V){return!V||!V.name||!V.content});if(console.log("firstusers",n,!d[0]),d[0]){if(n.length!==0)return h.ZP.warning("".concat(g===1?s.formatMessage({id:"skill.message.inputerror3"}):s.formatMessage({id:"skill.message.inputerror4"}))),!0}else return h.ZP.warning("".concat(g===1?s.formatMessage({id:"skill.message.inputerror1"}):s.formatMessage({id:"skill.message.inputerror2"}))),!0;return st(d,"name")?(h.ZP.warning(s.formatMessage({id:"skill.message.inputerror5"})),!0):!1},st=function(d,g){var n=new Set;return d.some(function(V){var q=V[g];return n.has(q)?n.add(q):n.add(q)&&!1})},lt=function(d){var g=new k.Kr("output","","");return d.users.forEach(function(n){var V=new k._w(n.name,n.type?n.type:"string",n.value?n.value:"",n.content,n.status?n.status:!1);g.addProperty(n.name,V)}),g};return(0,e.jsxs)("div",{className:"flex bg-white",style:{height:"calc(100vh - 56px)"},children:[(0,e.jsxs)("div",{className:"flex flex-col h-full w-[300px]",style:{height:"calc(100vh - 56px)"},children:[(0,e.jsx)("div",{className:"flex w-full items-center bg-white px-[30px] pt-[30px] border-[#e5e7eb] border-solid border-r",children:(0,e.jsxs)(M.ZP,{type:"link",shape:"circle",size:"middle",className:"",onClick:_e,children:[(0,e.jsx)(ue.Z,{}),(0,e.jsx)("span",{className:"text-sm font-medium text-[#213044]",children:s.formatMessage({id:"skill.back"})})]})}),(0,e.jsx)("div",{className:"w-full flex-1 px-[30px] py-[30px] bg-white border-[#e5e7eb] border-solid border-r",children:(0,e.jsx)(X.Z,{selectedKeys:[f],onClick:Ne,style:{width:"100%",borderInlineEnd:"1px solid rgba(0,0,0,0)"},defaultSelectedKeys:[f],mode:"inline",items:Qe})})]}),(0,e.jsx)("div",{className:"flex flex-col ",style:{height:"calc(100vh - 56px)",width:"calc(100vw - 230px)",overflowY:"scroll",scrollbarWidth:"none"},children:(0,e.jsxs)("div",{className:"px-[30px] ",style:{overflowX:"auto",minWidth:"960px",height:"100%"},children:[(0,e.jsx)("div",{className:"w-full flex justify-center  mt-[30px]",children:(0,e.jsxs)("div",{className:"flex items-center  w-[900px]",children:[(0,e.jsx)("div",{className:"mr-[10px] w-[16px] h-[16px]",children:(0,e.jsx)("img",{src:"/icons/flag.svg",alt:"",className:"w-[16px] h-[16px]"})}),(0,e.jsxs)("div",{className:"mr-[6px]  text-lg text-[#213044] font-medium",children:[m?m.nickname:"",s.formatMessage({id:"skill.skills"})]})]})}),(0,e.jsx)("div",{style:{display:f==="1"?"flex":"none",height:"calc(100vh - 146px)",justifyContent:"center"},children:(0,e.jsx)(Ze,{FirstValue:Fe,Skillinfo:m,setSkillInfo:x,FirstSkillref:c,Operationbentate:ie})}),(0,e.jsx)("div",{style:{display:f==="2"?"flex":"none",height:"calc(100vh - 146px)",justifyContent:"center"},children:(0,e.jsx)(Oe,{SecondValue:qe,handleBack:xe,Skillinfo:m,setSkillInfo:x,SkillRelyOn:me,setSkillRelyOn:je,Secondref:r,setskillcodestate:Je,setNewcode:Ye})}),(0,e.jsx)("div",{style:{display:f==="3"?"flex":"none",height:"calc(100vh - 146px)",justifyContent:"center"},children:(0,e.jsx)(Ce,{ThirdlyValue:et,handleBack:xe,Thirdlyref:O,Skillinfo:m,setSkillInfo:x,Operationbentate:ie})}),(0,e.jsx)("div",{style:{display:f==="4"?"flex":"none",height:"calc(100vh - 146px)",justifyContent:"center"},children:(0,e.jsx)(ze,{FourthlyValue:tt,handleBack:xe,Fourthlyref:W,Skillinfo:m,Operationbentate:ie})})]})})]})},He=De},49677:function(z){function N(t){if(t==null)throw new TypeError("Cannot destructure "+t)}z.exports=N,z.exports.__esModule=!0,z.exports.default=z.exports}}]);
