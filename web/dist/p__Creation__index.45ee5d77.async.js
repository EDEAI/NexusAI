"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[928],{72406:function(Ye,W,a){var Z=a(58533),A=a(99702),q=a(74330),v=a(85893),ee=function(k){var d=k.children,te=k.elid,m=k.dataLength,p=k.ishasMore,r=k.upSlide,t=k.isFooter,l=k.pageNumber,h=l===void 0?2:l;return(0,v.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,v.jsx)(Z.Z,{dataLength:m,scrollableTarget:te,next:r,hasMore:p,loader:(0,v.jsx)("div",{className:"flex justify-center h-[60px] items-center",children:h>1?(0,v.jsx)(q.Z,{}):(0,v.jsx)(v.Fragment,{})}),children:d}),t&&(0,v.jsx)("div",{className:"mt-[30px] flex-1 flex ",style:{alignItems:"flex-end"},children:(0,v.jsx)(A.Z,{className:"relative"})})]})};W.Z=ee},426:function(Ye,W,a){a.r(W),a.d(W,{default:function(){return Zt}});var Z=a(97857),A=a.n(Z),q=a(15009),v=a.n(q),ee=a(99289),E=a.n(ee),k=a(5574),d=a.n(k),te=a(40110),m=a(47389),p=a(82061),r=a(43425),t=a(71471),l=a(26915),h=a(85576),T=a(45360),K=a(78045),Me=a(74330),ue=a(71230),pe=a(15746),V=a(4393),he=a(55241),U=a(28036),c=a(67294),fe=a(83510),ze=a(42237),Ge=a(78697),gt=a(72406),Ue=a(22352),vt=a(26474),L=a(29608),x=a(32332),J=a(35312),xt=a(27484),yt=a.n(xt),He=a(21446),St=a(47520),jt=a(33914),We=a(1413),wt={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM653.3 424.6l52.2 52.2a8.01 8.01 0 01-4.7 13.6l-179.4 21c-5.1.6-9.5-3.7-8.9-8.9l21-179.4c.8-6.6 8.9-9.4 13.6-4.7l52.4 52.4 256.2-256.2c3.1-3.1 8.2-3.1 11.3 0l42.4 42.4c3.1 3.1 3.1 8.2 0 11.3L653.3 424.6z"}}]},name:"import",theme:"outlined"},Mt=wt,Tt=a(91146),Ct=function(i,R){return c.createElement(Tt.Z,(0,We.Z)((0,We.Z)({},i),{},{ref:R,icon:Mt}))},Nt=c.forwardRef(Ct),Et=Nt,kt=a(46822),e=a(85893),Lt=function(i){var R=i.optionsModalId,M=(0,J.useIntl)(),C=(0,c.useState)(!0),ne=d()(C,2),Je=ne[0],me=ne[1],Q=l.Z.TextArea,Y=[{name:M.formatMessage({id:"creation.agent"}),path:"Agents",icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",unselected:"/icons/creation/unselectedrobot.svg",apps_mode:1},{name:M.formatMessage({id:"creation.workflow"}),path:"workspace/workflow",icon:"/icons/creation/gongzuoliu1.svg",pitchicon:"/icons/creation/pitchgongzuoliu.svg",signicon:"/icons/creation/signgongzuoliu.svg",unselected:"/icons/creation/unselectedprocess.svg",apps_mode:2},{name:M.formatMessage({id:"creation.skill"}),path:"Skill",icon:"/icons/creation/jienng1.svg",pitchicon:"/icons/creation/pitchzhishik.svg",signicon:"/icons/creation/signzhishik.svg",unselected:"/icons/creation/unselectedrepository.svg",apps_mode:4}];location.pathname=="/knowledgebase"&&Y.push({name:M.formatMessage({id:"creation.repository"}),path:"Createkb",icon:"/icons/creation/jienng1.svg",pitchicon:"/icons/creation/pitchzhishik.svg",signicon:"/icons/creation/signzhishik.svg",unselected:"/icons/creation/unselectedrepository.svg",apps_mode:3});var Te=(0,c.useState)(!1),se=d()(Te,2),Ce=se[0],P=se[1],Ne=(0,c.useState)({name:M.formatMessage({id:"creation.agent"}),path:"Agents",icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",apps_mode:1}),ae=d()(Ne,2),X=ae[0],$=ae[1],Ee=(0,c.useState)(""),oe=d()(Ee,2),ge=oe[0],ve=oe[1],ke=(0,c.useState)(""),ie=d()(ke,2),u=ie[0],xe=ie[1],Le=(0,c.useState)({id:12,icon:"\u{1F612}"}),re=d()(Le,2),De=re[0],Qe=re[1];(0,c.useEffect)(function(){location.pathname=="/knowledgebase"&&me(!1)});var ye=function(y){var j=Y.filter(function(_){return _.apps_mode==y});P(!0),$(j[0]?j[0]:{name:"Agent",path:"Agents",icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",apps_mode:1})},Oe=function(){P(!1)},Ie=function(y){J.history.push("/".concat(X.path,"?app_id=").concat(y,"&type=false"))},be=function(y){Y.map(function(j){j.name==y.target.value&&(console.log(j,"item"),$(j))})},Xe=function(y){ve(y.target.value)},Pe=function(y){xe(y.target.value)},$e=function(){var g=E()(v()().mark(function y(){var j;return v()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,(0,fe.uy)({name:ge,mode:X.apps_mode,description:u,icon:De.icon,icon_background:""});case 2:j=B.sent,j.code===0&&(P(!1),Ie(j.data.app_id));case 4:case"end":return B.stop()}},y)}));return function(){return g.apply(this,arguments)}}(),Se=(0,c.useState)(!1),z=d()(Se,2),Ze=z[0],H=z[1],le=function(){console.log("Import cancelled"),H(!1)},Ae=(0,c.memo)(function(){var g=(0,c.useState)([]),y=d()(g,2),j=y[0],_=y[1],B={icon:(0,e.jsx)(jt.Z,{}),title:M.formatMessage({id:"workflow.uploadFileText",defaultMessage:"Drag file here, or click to upload"}),description:"Upload the exported workflow yml file",accept:".yml,.yaml",fieldProps:{listType:"text",name:"file",multiple:!0,maxCount:1,headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},action:St._n+"/v1/workflow/import",beforeUpload:function(D){return _([D]),!1}},onChange:function(D){var b=D.file.status;if(b==="done"){var N;(D==null||(N=D.file)===null||N===void 0||(N=N.response)===null||N===void 0?void 0:N.code)===0?(T.ZP.success(M.formatMessage({id:"workflow.importSuccess"})),H(!1)):T.ZP.error(M.formatMessage({id:"workflow.importFailed"}))}else b==="error"&&T.ZP.error("".concat(D.file.name," file upload failed."))}},je=function(){if(j.length>0){var D=new FormData;D.append("file",j[0]),(0,ze.Uq)(D).then(function(b){if((b==null?void 0:b.code)==0){var N;J.history.push("/workspace/workflow?app_id=".concat(b==null||(N=b.data)===null||N===void 0?void 0:N.app_id,"&type=false"))}})}H(!1)};return(0,e.jsx)(h.Z,{title:M.formatMessage({id:"creation.importWorkflow"}),open:Ze,onOk:je,okButtonProps:{loading:!1},okText:M.formatMessage({id:"workflow.import"}),onCancel:le,children:(0,e.jsx)(kt.Z,A()({name:"file"},B))})});return(0,e.jsxs)(V.Z,{style:{minWidth:300,marginTop:10,backgroundColor:"#EFF0F2"},bodyStyle:{height:"100%"},hoverable:!1,children:[(0,e.jsx)(Ae,{}),(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"194px"},children:[R===6?(0,e.jsxs)("div",{className:"flex justify-around items-start h-full w-full ",style:{flexDirection:"column",height:"calc(100% + 24px)"},children:[Y.map(function(g,y){return(0,e.jsxs)("div",{className:"hover:bg-[#fff] w-full rounded-lg h-8 cursor-pointer flex items-center",onClick:function(){return ye(g.apps_mode)},children:[(0,e.jsx)("img",{src:g.icon,style:{width:"16px",height:"16px",margin:"0 5px 0 10px"},alt:""}),(0,e.jsxs)("div",{style:{color:"#213044"},children:[M.formatMessage({id:"creation.new"}),g.name]})]})}),(0,e.jsxs)("div",{onClick:function(){return H(!0)},className:"hover:bg-[#fff] w-full rounded-lg h-8 cursor-pointer flex items-center text-[#213044]",children:[(0,e.jsx)(Et,{className:"size-4  mr-[5px] ml-[10px]"})," ",M.formatMessage({id:"creation.importWorkflow"})]})]}):null,(0,e.jsx)("div",{className:" flex-wrap h-full text-[#999] text-[12px] cursor-pointer",style:{width:R===6?"50%":"100%"},onClick:function(){return ye(R)},children:R===6?(0,e.jsxs)("div",{className:"mt-[62px]",children:[(0,e.jsx)("div",{className:"h-[42px] flex justify-center",children:(0,e.jsx)("img",{src:"/icons/creation/add.svg",alt:""})}),(0,e.jsxs)("div",{className:"svg-container w-full text-center",children:[" ",M.formatMessage({id:"creation.addcreation"})]})]}):Y.filter(function(g,y){return g.apps_mode==R}).map(function(g,y){return(0,e.jsxs)("div",{className:"mt-[50px]",children:[(0,e.jsx)("div",{className:"h-[42px] flex justify-center mb-[10px]",children:(0,e.jsx)("img",{src:g.unselected?g.unselected:"/icons/creation/add.svg",alt:""})}),(0,e.jsxs)("div",{className:"svg-container w-full text-center",children:[M.formatMessage({id:"creation.new"}),g.name?g.name:M.formatMessage({id:"creation.adhibition"})]})]})})})]}),(0,e.jsx)(He.Z,{setIsModalOpen:P,isModalOpen:Ce,ModalType:location.pathname!="/knowledgebase",CreationType:X,setcreationType:$,transformData:Y})]})},Dt=Lt,Ot=a(94840),Ke=t.Z.Text,It=t.Z.Paragraph,bt=l.Z.TextArea,Pt=function(){var i=(0,J.useIntl)(),R=(0,c.useState)(null),M=d()(R,2),C=M[0],ne=M[1],Je=(0,c.useState)(1),me=d()(Je,2),Q=me[0],Y=me[1],Te=(0,c.useState)(!1),se=d()(Te,2),Ce=se[0],P=se[1],Ne=(0,c.useState)(""),ae=d()(Ne,2),X=ae[0],$=ae[1],Ee=(0,c.useState)(""),oe=d()(Ee,2),ge=oe[0],ve=oe[1],ke=(0,c.useState)(null),ie=d()(ke,2),u=ie[0],xe=ie[1],Le=(0,c.useState)(!1),re=d()(Le,2),De=re[0],Qe=re[1],ye=(0,c.useState)(!1),Oe=d()(ye,2),Ie=Oe[0],be=Oe[1],Xe=(0,c.useState)({name:"Agent",path:i.formatMessage({id:"creation.agent"}),icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",apps_mode:1}),Pe=d()(Xe,2),$e=Pe[0],Se=Pe[1],z=[{apps_mode:6,name:i.formatMessage({id:"creation.all"}),path:"Agents",icon:"/icons/creation/quanbu.svg",unselected:"/icons/creation/quanbu.svg",pitchicon:"/icons/creation/pitchquanbu.svg",signicon:"/icons/creation/pitchquanbu.svg"},{apps_mode:1,name:i.formatMessage({id:"creation.agent"}),path:"Agents",icon:"/icons/creation/agent.svg",unselected:"/icons/creation/unselectedrobot.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg"},{apps_mode:2,name:i.formatMessage({id:"creation.workflow"}),path:"workspace/workflow",icon:"/icons/creation/gongzuoliu1.svg",unselected:"/icons/creation/unselectedprocess.svg",pitchicon:"/icons/creation/pitchgongzuoliu.svg",signicon:"/icons/creation/signgongzuoliu.svg"},{apps_mode:4,name:i.formatMessage({id:"creation.skill"}),path:"Skill",icon:"/icons/creation/jienng1.svg",unselected:"/icons/creation/unselectedskill.svg",pitchicon:"/icons/creation/pitchskill.svg",signicon:"/icons/creation/signskill.svg"}];location.pathname=="/knowledgebase"&&(z=[{apps_mode:3,name:i.formatMessage({id:"creation.repository"}),path:"Createkb",icon:"/icons/creation/zhishik1.svg",unselected:"/icons/creation/unselectedrepository.svg",pitchicon:"/icons/creation/pitchzhishik.svg",signicon:"/icons/creation/signzhishik.svg"}]);var Ze=(0,c.useState)(6),H=d()(Ze,2),le=H[0],Ae=H[1],g=(0,c.useState)(!1),y=d()(g,2),j=y[0],_=y[1],B=(0,c.useState)(""),je=d()(B,2),G=je[0],D=je[1],b=(0,c.useState)(!1),N=d()(b,2),At=N[0],_e=N[1],Rt=(0,c.useState)([{apps_mode:1,name:i.formatMessage({id:"creation.agent"}),path:"Agents",readOnlypath:"ReadOnlyAgent"},{apps_mode:2,name:i.formatMessage({id:"creation.workflow"}),path:"workspace/workflow"},{apps_mode:3,name:i.formatMessage({id:"creation.repository"}),path:"createkb"},{apps_mode:4,name:i.formatMessage({id:"creation.skill"}),path:"Skill",readOnlypath:"ReadOnlySkill"}]),qe=d()(Rt,2),et=qe[0],ln=qe[1],Bt=(0,c.useState)(!0),tt=d()(Bt,2),Ft=tt[0],nt=tt[1],Yt=(0,c.useState)(-1),st=d()(Yt,2),zt=st[0],ce=st[1],Gt=(0,c.useState)([]),at=d()(Gt,2),ot=at[0],Ut=at[1],Ht=(0,c.useState)(Date.now()),it=d()(Ht,2),Re=it[0],rt=it[1],lt=(0,L.Z)(),Be=lt.shouldComponentUpdate,ct=lt.clearUpdateNotification,Wt=(0,c.useState)(!0),dt=d()(Wt,2),Kt=dt[0],ut=dt[1],O=function(){var n=E()(v()().mark(function o(f,w,I,s,S,Fe,F){var mt,we;return v()().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return mt={page:f||Q,page_size:27,search_type:(0,x.f1)("GET").searchType==!0?2:1,apps_mode:(0,x.f1)("GET").optionsModalId,apps_name:s||s==""?s:G,tag_ids:F?F.join(","):""},nt(!0),de.next=4,(0,fe.go)(mt);case 4:we=de.sent,_e(!0),ne(S?{list:C.list.concat(we.data.list)}:we.data),nt(!1),we.data.list.length<27&&_e(!1);case 9:case"end":return de.stop()}},o)}));return function(f,w,I,s,S,Fe,F){return n.apply(this,arguments)}}();(0,c.useEffect)(function(){if((0,x.op)(),location.pathname=="/knowledgebase"){var n={apps_mode:3,name:i.formatMessage({id:"creation.repository"}),path:"Createkb"};ut(!1),pt(n)}else Qe(!0),O(1,null)},[]);var Vt=function(){Y(Q+1),O(Q+1,j,null,null,!0)},pt=function(o){Ae(o.apps_mode),(0,x.f1)("SET",o.apps_mode,JSON.parse((0,x.f1)("GET").searchType)),O(1,j,o.apps_mode)},Jt=function(o){D(o.target.value),O(1,j,le,o.target.value)};(0,c.useEffect)(function(){O(1,j,le,G,null,null,ot)},[ot]);var Qt=function(){P(!1)},Xt=function(){var n=E()(v()().mark(function o(){var f,w;return v()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return f={name:X,description:ge,app_id:u.app_id,mode:u.mode,icon:(u.id?JSON.stringify(u.id):u.icon)||"0",icon_background:"",avatar:(u==null?void 0:u.avatar)||null},s.prev=1,s.next=4,(0,fe.bs)(f);case 4:w=s.sent,w.code==0?(P(!1),O(1,j,null,null,null,Q*27)):P(!1),s.next=12;break;case 8:s.prev=8,s.t0=s.catch(1),console.log(s.t0),P(!1);case 12:case"end":return s.stop()}},o,null,[[1,8]])}));return function(){return n.apply(this,arguments)}}(),$t=function(o,f){ce(f),P(!0),$(o.name),ve(o.description),xe(o)},_t=function(o){$(o.target.value)},qt=function(o){ve(o.target.value)},ht=function(o){event.stopPropagation(),(0,x.Go)("SET",A()(A()({},o),{},{type:(0,x.f1)("GET").searchType}));var f=et.filter(function(w){return w.apps_mode===o.mode});(o.mode===1||o.mode===4)&&(0,x.f1)("GET").searchType==!0?J.history.push("/".concat(f[0].readOnlypath,"?app_id=").concat(o.app_id?o.app_id:o.apps_id,"&type=").concat((0,x.f1)("GET").searchType)):J.history.push("/".concat(f[0].path,"?app_id=").concat(o.app_id?o.app_id:o.apps_id,"&type=").concat((0,x.f1)("GET").searchType))},en=function(o,f){ce(f),h.Z.confirm({title:i.formatMessage({id:"creation.modal.returnconfirm"}),content:i.formatMessage({id:"creation.modal.deldescribe"}),onOk:function(){var w=E()(v()().mark(function s(){var S;return v()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,(0,fe.LK)(o);case 2:S=F.sent,S&&S.code==0?(T.ZP.success(i.formatMessage({id:"creation.modal.delsuccess"})),O(1,null,null,null,null,Q*27)):T.ZP.error(i.formatMessage({id:"creation.modal.delerror"}));case 4:case"end":return F.stop()}},s)}));function I(){return w.apply(this,arguments)}return I}(),onCancel:function(){}})},tn=function(o){var f=JSON.parse(o.target.value);_(f),(0,x.f1)("SET",null,f),O(1,f)},nn=function(){var o,f=z.filter(function(w){return w.apps_mode==(0,x.f1)("GET").optionsModalId});location.pathname=="/knowledgebase"&&ut(!1),be(!0),Se(((o=f[0])===null||o===void 0?void 0:o.apps_mode)!==6?f[0]:{name:"Agent",path:"Agents",icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",apps_mode:1})},sn=(0,L.Z)(function(n){return n.setRunId}),cn=(0,L.Z)(function(n){return n.setRunPanelLogRecord}),dn=(0,L.Z)(function(n){return n.setDealtWithData}),an=function(o){sn(o.app_id)},ft=(0,vt.v)(),on=ft.tags,rn=ft.fetchTags;return(0,c.useEffect)(function(){},[le]),(0,c.useEffect)(function(){var n=function(){if(Be(L.B.AGENT_LIST,Re)){var w,I=L.Z.getState().updateNotifications.get(L.B.AGENT_LIST);I==null||(w=I.payload)===null||w===void 0||w.action,O(1,null),rt(Date.now()),ct(L.B.AGENT_LIST)}if(Be(L.B.SKILL_LIST,Re)){var s,S=L.Z.getState().updateNotifications.get(L.B.SKILL_LIST);S==null||(s=S.payload)===null||s===void 0||s.action,O(4,null),rt(Date.now()),ct(L.B.SKILL_LIST)}},o=setInterval(n,1e3);return function(){return clearInterval(o)}},[Be,Re]),(0,e.jsxs)("div",{className:" pb-[10px] flex flex-col",style:{height:"calc(-60px + 100vh)",width:"100%",margin:"0 auto"},children:[(0,e.jsxs)("div",{className:"flex px-[30px] py-[20px] mx-[8px] items-center justify-between",children:[(0,e.jsx)("div",{className:"flex items-center",children:De?z.map(function(n,o){return(0,e.jsxs)("div",{onClick:function(){pt(n)},className:"flex justify-center items-center h-8 rounded-lg mr-4 cursor-pointer px-[10px]",style:(0,x.f1)("GET").optionsModalId==n.apps_mode?{color:"#1B64F3",backgroundColor:"#ffffff"}:{color:"#9097a1"},children:[(0,e.jsx)("div",{className:"mr-2",children:(0,e.jsx)("img",{src:(0,x.f1)("GET").optionsModalId==n.apps_mode?n.pitchicon:n.unselected,alt:""})}),(0,e.jsx)("div",{children:n.name})]})}):""}),(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("div",{className:"min-w-[200px] mr-4",children:(0,e.jsx)(Ue.Z,{allowClear:!0,modes:(0,x.f1)("GET").optionsModalId,placeholder:i.formatMessage({id:"creation.placeholder.selectTags"}),onTagChange:function(){rn()},onChange:function(o){Ut(o)}})}),(0,e.jsx)("div",{className:" mr-5",children:(0,e.jsxs)(K.ZP.Group,{onChange:tn,defaultValue:JSON.stringify((0,x.f1)("GET").searchType),children:[(0,e.jsx)(K.ZP.Button,{value:"true",children:i.formatMessage({id:"creation.team"})}),(0,e.jsx)(K.ZP.Button,{value:"false",children:i.formatMessage({id:"creation.individual"})})]})}),(0,e.jsx)(l.Z,{style:{width:300},prefix:(0,e.jsx)(te.Z,{}),placeholder:i.formatMessage({id:"creation.placeholder.searchname"}),variant:"filled",onChange:Jt})]})]}),(0,e.jsx)(Me.Z,{spinning:Ft,size:"large",className:"mt-[112px]",children:(0,e.jsx)("div",{id:"Creation",style:{overflowY:"auto",height:"calc(100vh - 128px)"},children:C&&C.list&&C.list.length>0?(0,e.jsx)(gt.Z,{dataLength:C.list.length,elid:"Creation",ishasMore:At,upSlide:Vt,isFooter:!0,children:(0,e.jsxs)(ue.Z,{gutter:[16,8],wrap:!0,style:{margin:0},className:"px-[30px]",children:[(0,e.jsx)(pe.Z,{sm:24,md:12,lg:12,xl:8,xxl:6,children:(0,e.jsx)(Dt,{optionsModalId:(0,x.f1)("GET").optionsModalId})}),C&&C.list&&C.list.length?C.list.map(function(n,o){var f,w,I;return(0,e.jsx)(pe.Z,{className:"gutter-row",sm:24,md:12,lg:12,xl:8,xxl:6,children:(0,e.jsx)(V.Z,{className:" cursor-pointer transition shadow-lg shadow-gray-100 hover:shadow-gray-200",style:{marginTop:10,minWidth:300},hoverable:!1,styles:{body:{padding:"20px"}},children:(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{onClick:function(){return ht(n)},children:(0,e.jsx)(V.Z.Meta,{title:[(0,e.jsxs)("div",{className:"flex w-full",children:[(0,e.jsx)("div",{className:"mr-[17px] shrink-0",children:(0,e.jsx)(Ge.Z,{Image:(0,x.s9)("single",n.icon),avatar:n.avatar,icon:(0,x.f1)("GET").optionsModalId===6?(f=z.filter(function(s){return s.apps_mode===n.mode})[0])===null||f===void 0?void 0:f.signicon:null})}),(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[" ",(0,e.jsx)("div",{style:{maxWidth:"160px"},className:"text-sm text-[#213044] font-medium truncate",children:(0,e.jsx)(Ke,{ellipsis:{tooltip:n.name},children:n.name})}),(0,e.jsxs)("div",{className:" leading-6 flex items-center justify-end text-xs font-normal text-[#999999]",children:[(0,e.jsxs)("div",{children:[i.formatMessage({id:"creation.numberofcitation"}),":"," "]}),(0,e.jsxs)("div",{className:"text-[#1B64F3] ml-2",children:[" ",n.execution_times?n.execution_times:0]})]})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between w-full text-xs font-normal text-[#999999]",children:[(0,e.jsx)("div",{className:"text-xs font-normal text-[#999999] mt-[7px]",children:et.map(function(s,S){return s.apps_mode===n.mode?s.name:null})}),(0,e.jsxs)("div",{className:" flex items-center justify-end mt-[7px]",children:[(0,e.jsx)("div",{className:"max-w-[56px] mr-2 ",children:(0,e.jsx)(Ke,{ellipsis:{tooltip:n.published_creator},className:"text-base",children:(0,e.jsx)("div",{className:" text-[#999999] text-xs",children:n.published_creator})})}),(0,e.jsx)("div",{children:n.published_time?(0,e.jsxs)("span",{className:"text-[#1B64F3]",children:[yt()(n.published_time).format("YYYY-MM-DD HH:mm:ss")," ",i.formatMessage({id:"creation.publish"})]}):n.mode!==3?(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:"/icons/unpublish.svg",alt:"",className:"mr-[5px]"}),i.formatMessage({id:"creation.unpublish"})]}):null})]})]})]})]})],description:(0,e.jsxs)("div",{style:{height:100,margin:"20px 0 20px 0"},children:[(0,e.jsx)(It,{ellipsis:{rows:4,tooltip:n.description},className:"!mb-0",children:(0,e.jsx)("div",{style:{color:"#999999"},children:n.description})}),(0,e.jsx)("div",{onClick:function(S){S.stopPropagation()},className:"not_has_down_select hover:bg-gray-100 rounded-md",children:(0,e.jsx)(Ue.O,{onBlur:function(S){(0,ze.v_)(n.changeTags,[n.app_id])},listStyle:"horizontal",onChange:function(S){n.changeTags=S},placeholder:i.formatMessage({id:"addTag.addTag"}),defaultValue:(w=n.tags)===null||w===void 0?void 0:w.map(function(s){return s.id}),maxTagCount:5,options:on,className:"!w-full",variant:"borderless"},n.app_id)})]})})}),(0,e.jsxs)("div",{className:"flex justify-between",children:[(0,e.jsx)("div",{className:"flex items-center justify-start",style:{height:"24px"},children:n.list&&n.list.length?(0,e.jsx)(he.Z,{placement:"bottomLeft",content:(0,e.jsx)("div",{className:" overflow-auto",children:n.list.map(function(s,S){return(0,e.jsxs)("div",{className:"w-80 flex items-center justify-start p-1.5 rounded-md  cursor-pointer hover:bg-[#fafafa]",onClick:function(){return ht(s)},children:[(0,e.jsx)("div",{className:"mr-3.5",children:(0,e.jsx)("div",{className:"w-[36px] h-[36px] bg-[#EDF3FE] rounded-lg mr-1.5 flex items-center justify-center ",children:(0,e.jsx)("img",{src:(0,x.s9)("single",s.icon),alt:""})})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-xs font-normal text-[#213044]",children:s.name}),(0,e.jsx)("div",{className:"text-xs font-normal text-[#666]",children:(s==null?void 0:s.mode)==1?i.formatMessage({id:"workflow.agent"}):(s==null?void 0:s.mode)==2?i.formatMessage({id:"component.menu.workflow"}):(s==null?void 0:s.mode)==3?i.formatMessage({id:"component.menu.knowledgeBase"}):i.formatMessage({id:"workflow.skill"})})]})]},S)})}),children:(0,e.jsxs)("div",{className:"flex items-center justify-around text-xs font-normal",children:[i.formatMessage({id:"creation.relevancy.app"})," ",":",n.list.slice(0,4).map(function(s,S){return(0,e.jsx)("div",{className:"ml-1.5",children:(0,e.jsx)(Ge.Z,{Image:(0,x.s9)("single",s.icon),avatar:s.avatar,size:"24"})},S)}),n.list.length>4?(0,e.jsx)("div",{className:"w-8 h-8 bg-[#EDF3FE] rounded-lg ml-1.5 flex items-center justify-center ",children:(0,e.jsx)("img",{src:"/icons/more.svg",alt:""})}):null]})}):null}),(n==null?void 0:n.mode)===2?(0,e.jsx)("div",{className:"flex-1 flex justify-end items-center",children:(n==null?void 0:n.publish_status)==1?(0,e.jsx)("img",{onClick:function(){return an(n)},src:"/icons/operation_icon.svg",className:"mr-2"}):(0,e.jsx)("img",{src:"/icons/operation_disable_icon.svg",className:"mr-2"})}):null,(0,e.jsx)("div",{children:JSON.parse((I=(0,x.f1)("GET"))===null||I===void 0?void 0:I.searchType)?null:(0,e.jsx)(he.Z,{placement:"rightTop",open:zt==o,onOpenChange:function(S){ce(-1)},mouseLeaveDelay:1,content:(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:(0,e.jsxs)(U.ZP,{type:"link",className:"text-[#213044]",onClick:function(){$t(n,-1)},children:[(0,e.jsx)(m.Z,{}),i.formatMessage({id:"creation.redact"})]})}),(0,e.jsx)("div",{children:(0,e.jsxs)(U.ZP,{type:"link",className:"text-[#E12222]",onClick:function(){return en(n,-1)},children:[(0,e.jsx)(p.Z,{}),i.formatMessage({id:"creation.delete"})]})})]}),children:(0,e.jsx)("div",{onMouseEnter:function(){ce(o)},className:"w-[26px] h-[26px] flex items-center justify-center",children:(0,e.jsx)(r.Z,{onClick:function(){ce(o)}},"setting")})})})]})]})})},o)}):null]})}):C&&C.list&&C.list.length==0?(0,e.jsxs)("div",{className:"w-full flex items-center flex-wrap justify-center mt-48",children:[(0,e.jsx)("div",{className:"w-full flex items-center justify-center mb-2.5",children:(0,e.jsx)("img",{src:"/icons/default.svg",alt:""})}),G&&G!==""?(0,e.jsxs)("div",{children:["\u201C",G,"\u201D"]}):(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"w-full text-center mb-3 text-[#666] text-sm",children:[i.formatMessage({id:"creation.margindescribe"})," ~"]}),(0,e.jsxs)("div",{className:"w-full text-center",children:[" ",(0,e.jsx)(U.ZP,{color:"primary",onClick:function(){nn()},children:i.formatMessage({id:"creation.addnewapp"})})," "]})]})]}):null})}),(0,e.jsxs)(h.Z,{title:"",open:Ce,okText:i.formatMessage({id:"creation.conserve"}),onOk:Xt,onCancel:Qt,children:[(0,e.jsxs)("div",{className:"mb-[30px]",children:[(0,e.jsxs)("div",{className:"mb-[15px]",children:[(u==null?void 0:u.mode)==1?i.formatMessage({id:"creation.agent"}):(u==null?void 0:u.mode)==2?i.formatMessage({id:"creation.workflow"}):(u==null?void 0:u.mode)==3?i.formatMessage({id:"creation.repository"}):i.formatMessage({id:"creation.skill"}),i.formatMessage({id:"creation.appiconname"})]}),(0,e.jsxs)("div",{className:"flex items-center justify-around",children:[(0,e.jsx)(Ot.Z,{CardData:u,setCardData:xe}),(0,e.jsx)(l.Z,{showCount:!0,maxLength:50,placeholder:i.formatMessage({id:"creation.placeholder.appname"}),onChange:_t,value:X})]})]}),(0,e.jsxs)("div",{className:"mb-[30px]",children:[(0,e.jsxs)("div",{className:"mb-[15px]",children:[(u==null?void 0:u.mode)==1?i.formatMessage({id:"creation.agent"}):(u==null?void 0:u.mode)==2?i.formatMessage({id:"creation.workflow"}):(u==null?void 0:u.mode)==3?i.formatMessage({id:"creation.repository"}):i.formatMessage({id:"creation.skill"}),i.formatMessage({id:"creation.appdescribe"})]}),(0,e.jsx)(bt,{showCount:!0,maxLength:1e3,rows:4,placeholder:i.formatMessage({id:"creation.placeholder.appdescribe"}),onChange:qt,value:ge})]})]}),(0,e.jsx)(He.Z,{setIsModalOpen:be,isModalOpen:Ie,ModalType:Kt,CreationType:$e,setcreationType:Se,transformData:z.filter(function(n){return n.apps_mode!==6})})]})},Zt=Pt},58533:function(Ye,W,a){var Z=a(67294);var A=function(m,p){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var l in t)t.hasOwnProperty(l)&&(r[l]=t[l])},A(m,p)};function q(m,p){A(m,p);function r(){this.constructor=m}m.prototype=p===null?Object.create(p):(r.prototype=p.prototype,new r)}var v=function(){return v=Object.assign||function(p){for(var r,t=1,l=arguments.length;t<l;t++){r=arguments[t];for(var h in r)Object.prototype.hasOwnProperty.call(r,h)&&(p[h]=r[h])}return p},v.apply(this,arguments)};function ee(m,p,r,t){var l,h=!1,T=0;function K(){l&&clearTimeout(l)}function Me(){K(),h=!0}typeof p!="boolean"&&(t=r,r=p,p=void 0);function ue(){var pe=this,V=Date.now()-T,he=arguments;if(h)return;function U(){T=Date.now(),r.apply(pe,he)}function c(){l=void 0}t&&!l&&U(),K(),t===void 0&&V>m?U():p!==!0&&(l=setTimeout(t?c:U,t===void 0?m-V:m))}return ue.cancel=Me,ue}var E={Pixel:"Pixel",Percent:"Percent"},k={unit:E.Percent,value:.8};function d(m){return typeof m=="number"?{unit:E.Percent,value:m*100}:typeof m=="string"?m.match(/^(\d*(\.\d+)?)px$/)?{unit:E.Pixel,value:parseFloat(m)}:m.match(/^(\d*(\.\d+)?)%$/)?{unit:E.Percent,value:parseFloat(m)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),k):(console.warn("scrollThreshold should be string or number"),k)}var te=function(m){q(p,m);function p(r){var t=m.call(this,r)||this;return t.lastScrollTop=0,t.actionTriggered=!1,t.startY=0,t.currentY=0,t.dragging=!1,t.maxPullDownDistance=0,t.getScrollableTarget=function(){return t.props.scrollableTarget instanceof HTMLElement?t.props.scrollableTarget:typeof t.props.scrollableTarget=="string"?document.getElementById(t.props.scrollableTarget):(t.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},t.onStart=function(l){t.lastScrollTop||(t.dragging=!0,l instanceof MouseEvent?t.startY=l.pageY:l instanceof TouchEvent&&(t.startY=l.touches[0].pageY),t.currentY=t.startY,t._infScroll&&(t._infScroll.style.willChange="transform",t._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},t.onMove=function(l){t.dragging&&(l instanceof MouseEvent?t.currentY=l.pageY:l instanceof TouchEvent&&(t.currentY=l.touches[0].pageY),!(t.currentY<t.startY)&&(t.currentY-t.startY>=Number(t.props.pullDownToRefreshThreshold)&&t.setState({pullToRefreshThresholdBreached:!0}),!(t.currentY-t.startY>t.maxPullDownDistance*1.5)&&t._infScroll&&(t._infScroll.style.overflow="visible",t._infScroll.style.transform="translate3d(0px, "+(t.currentY-t.startY)+"px, 0px)")))},t.onEnd=function(){t.startY=0,t.currentY=0,t.dragging=!1,t.state.pullToRefreshThresholdBreached&&(t.props.refreshFunction&&t.props.refreshFunction(),t.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){t._infScroll&&(t._infScroll.style.overflow="auto",t._infScroll.style.transform="none",t._infScroll.style.willChange="unset")})},t.onScrollListener=function(l){typeof t.props.onScroll=="function"&&setTimeout(function(){return t.props.onScroll&&t.props.onScroll(l)},0);var h=t.props.height||t._scrollableNode?l.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!t.actionTriggered){var T=t.props.inverse?t.isElementAtTop(h,t.props.scrollThreshold):t.isElementAtBottom(h,t.props.scrollThreshold);T&&t.props.hasMore&&(t.actionTriggered=!0,t.setState({showLoader:!0}),t.props.next&&t.props.next()),t.lastScrollTop=h.scrollTop}},t.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:r.dataLength},t.throttledOnScrollListener=ee(150,t.onScrollListener).bind(t),t.onStart=t.onStart.bind(t),t.onMove=t.onMove.bind(t),t.onEnd=t.onEnd.bind(t),t}return p.prototype.componentDidMount=function(){if(typeof this.props.dataLength=="undefined")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},p.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},p.prototype.componentDidUpdate=function(r){this.props.dataLength!==r.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},p.getDerivedStateFromProps=function(r,t){var l=r.dataLength!==t.prevDataLength;return l?v(v({},t),{prevDataLength:r.dataLength}):null},p.prototype.isElementAtTop=function(r,t){t===void 0&&(t=.8);var l=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,h=d(t);return h.unit===E.Pixel?r.scrollTop<=h.value+l-r.scrollHeight+1:r.scrollTop<=h.value/100+l-r.scrollHeight+1},p.prototype.isElementAtBottom=function(r,t){t===void 0&&(t=.8);var l=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,h=d(t);return h.unit===E.Pixel?r.scrollTop+l>=r.scrollHeight-h.value:r.scrollTop+l>=h.value/100*r.scrollHeight},p.prototype.render=function(){var r=this,t=v({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),l=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),h=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return Z.createElement("div",{style:h,className:"infinite-scroll-component__outerdiv"},Z.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(T){return r._infScroll=T},style:t},this.props.pullDownToRefresh&&Z.createElement("div",{style:{position:"relative"},ref:function(T){return r._pullDown=T}},Z.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!l&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},p}(Z.Component);W.Z=te}}]);
