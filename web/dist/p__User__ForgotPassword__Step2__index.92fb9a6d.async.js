"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[286],{68262:function(Y,B,e){e.d(B,{U:function(){return U}});var d=e(1413),y=e(91),D=e(10915),F=e(21532),W=e(93967),E=e.n(W),I=e(67294),w=e(34994),f=e(4942),O=e(98082),H=function(i){return(0,f.Z)((0,f.Z)({},i.componentCls,{"&-container":{display:"flex",flex:"1",flexDirection:"column",height:"100%",paddingInline:32,paddingBlock:24,overflow:"auto",background:"inherit"},"&-top":{textAlign:"center"},"&-header":{display:"flex",alignItems:"center",justifyContent:"center",height:"44px",lineHeight:"44px",a:{textDecoration:"none"}},"&-title":{position:"relative",insetBlockStart:"2px",color:"@heading-color",fontWeight:"600",fontSize:"33px"},"&-logo":{width:"44px",height:"44px",marginInlineEnd:"16px",verticalAlign:"top",img:{width:"100%"}},"&-desc":{marginBlockStart:"12px",marginBlockEnd:"40px",color:i.colorTextSecondary,fontSize:i.fontSize},"&-main":{minWidth:"328px",maxWidth:"580px",margin:"0 auto","&-other":{marginBlockStart:"24px",lineHeight:"22px",textAlign:"start"}}}),"@media (min-width: @screen-md-min)",(0,f.Z)({},"".concat(i.componentCls,"-container"),{paddingInline:0,paddingBlockStart:32,paddingBlockEnd:24,backgroundRepeat:"no-repeat",backgroundPosition:"center 110px",backgroundSize:"100%"}))};function V(n){return(0,O.Xj)("LoginForm",function(i){var a=(0,d.Z)((0,d.Z)({},i),{},{componentCls:".".concat(n)});return[H(a)]})}var o=e(85893),G=["logo","message","contentStyle","title","subTitle","actions","children","containerStyle","otherStyle"];function U(n){var i,a=n.logo,L=n.message,N=n.contentStyle,A=n.title,z=n.subTitle,b=n.actions,t=n.children,K=n.containerStyle,Q=n.otherStyle,l=(0,y.Z)(n,G),Z=(0,D.YB)(),S=l.submitter===!1?!1:(0,d.Z)((0,d.Z)({searchConfig:{submitText:Z.getMessage("loginForm.submitText","\u767B\u5F55")}},l.submitter),{},{submitButtonProps:(0,d.Z)({size:"large",style:{width:"100%"}},(i=l.submitter)===null||i===void 0?void 0:i.submitButtonProps),render:function(v,h){var M,p=h.pop();if(typeof(l==null||(M=l.submitter)===null||M===void 0?void 0:M.render)=="function"){var r,u;return l==null||(r=l.submitter)===null||r===void 0||(u=r.render)===null||u===void 0?void 0:u.call(r,v,h)}return p}}),j=(0,I.useContext)(F.ZP.ConfigContext),R=j.getPrefixCls("pro-form-login"),C=V(R),m=C.wrapSSR,T=C.hashId,c=function(v){return"".concat(R,"-").concat(v," ").concat(T)},s=(0,I.useMemo)(function(){return a?typeof a=="string"?(0,o.jsx)("img",{src:a}):a:null},[a]);return m((0,o.jsxs)("div",{className:E()(c("container"),T),style:K,children:[(0,o.jsxs)("div",{className:"".concat(c("top")," ").concat(T).trim(),children:[A||s?(0,o.jsxs)("div",{className:"".concat(c("header")),children:[s?(0,o.jsx)("span",{className:c("logo"),children:s}):null,A?(0,o.jsx)("span",{className:c("title"),children:A}):null]}):null,z?(0,o.jsx)("div",{className:c("desc"),children:z}):null]}),(0,o.jsxs)("div",{className:c("main"),style:(0,d.Z)({width:328},N),children:[(0,o.jsxs)(w.A,(0,d.Z)((0,d.Z)({isKeyPressSubmit:!0},l),{},{submitter:S,children:[L,t]})),b?(0,o.jsx)("div",{className:c("main-other"),style:Q,children:b}):null]})]}))}},63406:function(Y,B,e){e.r(B),e.d(B,{default:function(){return l}});var d=e(15009),y=e.n(d),D=e(99289),F=e.n(D),W=e(5574),E=e.n(W),I=e(56264),w=e(1413),f=e(67294),O={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64L128 192v384c0 212.1 171.9 384 384 384s384-171.9 384-384V192L512 64zm312 512c0 172.3-139.7 312-312 312S200 748.3 200 576V246l312-110 312 110v330z"}},{tag:"path",attrs:{d:"M378.4 475.1a35.91 35.91 0 00-50.9 0 35.91 35.91 0 000 50.9l129.4 129.4 2.1 2.1a33.98 33.98 0 0048.1 0L730.6 434a33.98 33.98 0 000-48.1l-2.8-2.8a33.98 33.98 0 00-48.1 0L483 579.7 378.4 475.1z"}}]},name:"safety",theme:"outlined"},H=O,V=e(91146),o=function(S,j){return f.createElement(V.Z,(0,w.Z)((0,w.Z)({},S),{},{ref:j,icon:H}))},G=f.forwardRef(o),U=G,n=e(68262),i=e(5966),a=e(76772),L=e(45360),N=e(28036),A=e(14521),z=e(67610),b=e(32060),t=e(85893),K=(0,A.kc)(function(Z){var S=Z.token;return{container:{display:"flex",flexDirection:"column",height:"100vh",overflow:"auto",backgroundImage:"url('https://mdn.alipayobjects.com/yuyan_qk0oxh/afts/img/V-_oS6r-i7wAAAAAAAAAAAAAFl94AQBr')",backgroundSize:"100% 100%"}}}),Q=function(){var S=(0,f.useState)(!1),j=E()(S,2),R=j[0],C=j[1],m=(0,f.useRef)(!1),T=K(),c=T.styles,s=(0,a.useIntl)(),X=(0,a.useLocation)(),v=X.state,h=(v==null?void 0:v.email)||"",M=function(){var p=F()(y()().mark(function r(u){var P;return y()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(!m.current){g.next=3;break}return m.current=!1,g.abrupt("return");case 3:return C(!0),g.prev=4,g.next=7,(0,b.tW)({email:h,verification_code:u.code});case 7:P=g.sent,P.code===0?(L.ZP.success(s.formatMessage({id:"pages.forgotPassword.step2.verifySuccess"})),localStorage.removeItem("forgotPasswordEmail"),a.history.push("/user/forgot-password/step3",{email:h,code:u.code})):L.ZP.error(P.message||s.formatMessage({id:"pages.forgotPassword.step2.verifyFailed"}));case 9:return g.prev=9,C(!1),g.finish(9);case 12:case"end":return g.stop()}},r,null,[[4,,9,12]])}));return function(u){return p.apply(this,arguments)}}();return(0,t.jsxs)("div",{className:c.container,children:[(0,t.jsx)(a.Helmet,{children:(0,t.jsxs)("title",{children:[s.formatMessage({id:"pages.forgotPassword.step2.title"}),"- ",z.Z.title]})}),(0,t.jsx)("div",{style:{flex:"1",padding:"32px 0"},children:(0,t.jsxs)(n.U,{contentStyle:{minWidth:280,maxWidth:"75vw"},logo:(0,t.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:"NexusAI",subTitle:s.formatMessage({id:"pages.forgotPassword.step2.subtitle"}),onSubmitCapture:function(r){m.current&&(r.preventDefault(),r.stopPropagation(),m.current=!1)},onFinish:function(){var p=F()(y()().mark(function r(u){return y()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,M(u);case 2:case"end":return x.stop()}},r)}));return function(r){return p.apply(this,arguments)}}(),submitter:{render:function(r,u){return(0,t.jsxs)("div",{style:{marginTop:24},children:[(0,t.jsx)(N.ZP,{type:"primary",htmlType:"submit",loading:R,style:{width:"100%"},children:s.formatMessage({id:"pages.forgotPassword.step2.verifyCode"})}),(0,t.jsx)(N.ZP,{style:{width:"100%",marginTop:8},htmlType:"button",onMouseDown:function(x){x.preventDefault()},onClick:function(){m.current=!0,localStorage.setItem("forgotPasswordEmail",h),a.history.push("/user/forgot-password")},children:s.formatMessage({id:"pages.forgotPassword.step2.resend"})})]})}},children:[(0,t.jsx)(i.Z,{name:"code",fieldProps:{size:"large",prefix:(0,t.jsx)(U,{}),maxLength:6},placeholder:s.formatMessage({id:"pages.forgotPassword.step2.code.placeholder"}),rules:[{required:!0,message:(0,t.jsx)(a.FormattedMessage,{id:"pages.forgotPassword.step2.code.required"})},{pattern:/^[A-Za-z0-9]{6}$/,message:(0,t.jsx)(a.FormattedMessage,{id:"pages.forgotPassword.step2.code.format"})}],validateTrigger:["onChange","onBlur","onSubmit"]}),(0,t.jsxs)("div",{style:{marginTop:16,textAlign:"center",color:"#666"},children:[s.formatMessage({id:"pages.forgotPassword.step2.emailSent"},{email:h}),(0,t.jsx)("br",{}),s.formatMessage({id:"pages.forgotPassword.step2.emailSentNotice"})]})]})}),(0,t.jsx)(I.$_,{})]})},l=Q}}]);
