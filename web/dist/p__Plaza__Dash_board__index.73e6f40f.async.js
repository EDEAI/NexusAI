"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7493],{11475:function(re,T,t){t.d(T,{Z:function(){return P}});var D=t(1413),l=t(67294),L={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},_=L,j=t(91146),v=function(B,z){return l.createElement(j.Z,(0,D.Z)((0,D.Z)({},B),{},{ref:z,icon:_}))},$=l.forwardRef(v),P=$},35790:function(re,T,t){var D=t(1413),l=t(67294),L=t(19369),_=t(91146),j=function(P,C){return l.createElement(_.Z,(0,D.Z)((0,D.Z)({},P),{},{ref:C,icon:L.Z}))},v=l.forwardRef(j);T.Z=v},43722:function(re,T,t){t.d(T,{Gh:function(){return E},Gn:function(){return C},KH:function(){return q},Rp:function(){return V},cH:function(){return z},dB:function(){return B},j2:function(){return Y},r5:function(){return N},rw:function(){return v},sI:function(){return G},sT:function(){return U},sh:function(){return Q},vu:function(){return P},xM:function(){return I},xT:function(){return J}});var D=t(15009),l=t.n(D),L=t(99289),_=t.n(L),j=t(47520),v=function(){var u=_()(l()().mark(function s(){var n;return l()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,j.ZP)("/v1/index/",{method:"GET"});case 2:return n=c.sent,c.abrupt("return",n);case 4:case"end":return c.stop()}},s)}));return function(){return u.apply(this,arguments)}}(),$=null,P=function(){var u=_()(l()().mark(function s(n){var i;return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,j.ZP)("/v1/chatroom/",{method:"GET",data:n});case 2:return i=a.sent,a.abrupt("return",i);case 4:case"end":return a.stop()}},s)}));return function(n){return u.apply(this,arguments)}}(),C=function(){var u=_()(l()().mark(function s(n){var i;return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,j.ZP)("/v1/chatroom/".concat(n.id),{method:"DELETE"});case 2:return i=a.sent,a.abrupt("return",i);case 4:case"end":return a.stop()}},s)}));return function(n){return u.apply(this,arguments)}}(),B=function(){var u=_()(l()().mark(function s(n){var i;return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,j.ZP)("/v1/chatroom/",{method:"POST",data:n});case 2:return i=a.sent,a.abrupt("return",i);case 4:case"end":return a.stop()}},s)}));return function(n){return u.apply(this,arguments)}}(),z=function(){var u=_()(l()().mark(function s(n){var i;return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,j.ZP)("/v1/chatroom/".concat(n.id,"/details"),{method:"GET"});case 2:return i=a.sent,a.abrupt("return",i);case 4:case"end":return a.stop()}},s)}));return function(n){return u.apply(this,arguments)}}(),Y=function(){var u=_()(l()().mark(function s(n){var i;return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,j.ZP)("/v1/chatroom/recent",{method:"GET",data:{chatroom_id:n.id}});case 2:return i=a.sent,a.abrupt("return",i);case 4:case"end":return a.stop()}},s)}));return function(n){return u.apply(this,arguments)}}(),G=function(){var u=_()(l()().mark(function s(n,i){var c;return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,j.ZP)("/v1/chatroom/".concat(i,"/update_chatroom"),{method:"POST",data:n});case 2:return c=r.sent,r.abrupt("return",c);case 4:case"end":return r.stop()}},s)}));return function(n,i){return u.apply(this,arguments)}}(),N=function(){var u=_()(l()().mark(function s(n,i){var c;return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,j.ZP)("/v1/chatroom/".concat(i,"/smart_selection"),{method:"POST",data:n});case 2:return c=r.sent,r.abrupt("return",c);case 4:case"end":return r.stop()}},s)}));return function(n,i){return u.apply(this,arguments)}}(),U=function(){var u=_()(l()().mark(function s(n,i,c){var a;return l()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,(0,j.ZP)("/v1/chatroom/".concat(i,"/agents/").concat(c,"/setting"),{method:"PUT",data:n});case 2:return a=Z.sent,Z.abrupt("return",a);case 4:case"end":return Z.stop()}},s)}));return function(n,i,c){return u.apply(this,arguments)}}(),q=function(){var u=_()(l()().mark(function s(n,i){var c;return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,j.ZP)("/v1/chatroom/".concat(n,"/chatroom_message"),{method:"GET",data:i});case 2:return c=r.sent,r.abrupt("return",c);case 4:case"end":return r.stop()}},s)}));return function(n,i){return u.apply(this,arguments)}}(),V=function(){var u=_()(l()().mark(function s(n,i){var c;return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,j.ZP)("/v1/chatroom/".concat(n,"/chat_history_message_summary"),{method:"POST",data:i});case 2:return c=r.sent,r.abrupt("return",c);case 4:case"end":return r.stop()}},s)}));return function(n,i){return u.apply(this,arguments)}}(),J=function(){var u=_()(l()().mark(function s(n,i){var c;return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,j.ZP)("/v1/chatroom/".concat(n,"/chat_history_summary"),{method:"POST",data:i});case 2:return c=r.sent,r.abrupt("return",c);case 4:case"end":return r.stop()}},s)}));return function(n,i){return u.apply(this,arguments)}}(),Q=function(){var u=_()(l()().mark(function s(n){var i;return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,j.ZP)("/v1/chatroom/chat_room_history",{method:"GET",data:n});case 2:return i=a.sent,a.abrupt("return",i);case 4:case"end":return a.stop()}},s)}));return function(n){return u.apply(this,arguments)}}(),E=function(){var u=_()(l()().mark(function s(n){var i;return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,j.ZP)("/v1/chatroom/chat_room_history_single",{method:"GET",data:n});case 2:return i=a.sent,a.abrupt("return",i);case 4:case"end":return a.stop()}},s)}));return function(n){return u.apply(this,arguments)}}(),I=function(){var u=_()(l()().mark(function s(n,i){var c;return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,j.ZP)("/v1/chatroom/".concat(n,"/chat_single_message_generation"),{method:"POST",data:i});case 2:return c=r.sent,r.abrupt("return",c);case 4:case"end":return r.stop()}},s)}));return function(n,i){return u.apply(this,arguments)}}()},86:function(re,T,t){var D=t(5574),l=t.n(D),L=t(32332),_=t(38703),j=t(67294),v=t(85893),$=function(C){var B=C.subtitle,z=C.handleClick,Y=C.lineClamp,G=Y===void 0?2:Y,N=C.textDetails,U=C.title,q=C.icon,V=C.iconType,J=V===void 0?"":V,Q=C.operation,E=Q===void 0?"":Q,I=C.progress,u=C.status,s=C.backlogTips,n=C.avatar,i=(0,j.useState)(0),c=l()(i,2),a=c[0],r=c[1],Z=function(){r(I)},ne=function(){r(0)},se=function(e){return"rounded-[4px] border-l-[4px] ".concat(e==1?"border-[#1B64F3]":e==2?"border-[#52C41C]":"border-[#F04444]"," ")};return(0,v.jsxs)("div",{className:"flex  p-[10px] cursor-pointer overflow-hidden relative bg-[#fff] ".concat(u!==void 0?se(u):"graphicbox"),onClick:z,onMouseEnter:function(){I!=null&&Z()},onMouseLeave:function(){I!=null&&ne()},children:[u!==void 0&&(0,v.jsx)("div",{style:{width:"".concat(a,"%"),transition:"width 0.5s "},className:"absolute bottom-0 left-0 top-0 bottom-0 h-full ".concat(u==1?"bg-[#1B64F3]/[.03]":u==2?"bg-[#52c41c]/[.05]":"bg-[#FAFAFA]"," ")}),(0,v.jsxs)("div",{className:"flex gap-x-[20px] w-full relative z-20",children:[(0,v.jsx)("div",{className:"shrink-0 flex gap-x-[7px] items-center",style:{fontSize:0},children:(0,v.jsxs)("div",{className:"w-[40px] h-[40px] rounded-[6px] flex items-center justify-center bg-[#F4F8F1] relative",children:[n?(0,v.jsx)("img",{src:n,className:"w-[40px] h-[40px] rounded-[6px]"}):(0,v.jsx)("img",{src:(0,L.s9)("single",q),className:"w-[22px] h-[22px]"}),J&&(0,v.jsx)("div",{className:"w-[16px] h-[16px] absolute top-[28px] left-[28px] flex items-center justify-center bg-[#fff] rounded-[3px]",style:{boxShadow:"0px 0px 4px 0px rgba(0,0,0,0.1)"},children:(0,v.jsx)("img",{src:"/icons/".concat(J,".svg"),alt:"",className:"w-[12px] h-[12px]"})})]})}),(0,v.jsx)("div",{className:"flex flex-1 min-w-0",children:(0,v.jsxs)("div",{className:"flex justify-center flex-col gap-y-[5px] flex-1 min-w-0",children:[(0,v.jsxs)("span",{className:"text-[12px] flex items-center",style:{color:"#213044"},children:[(0,v.jsx)("span",{className:"truncate",children:U}),(0,v.jsx)("span",{className:"flex items-center flex-1",children:B})]}),(0,v.jsx)("span",{className:"text-[12px] max-w-full truncate",style:{color:"#999999"},children:N})]})}),s||(0,v.jsx)(v.Fragment,{}),E&&(0,v.jsx)("div",{className:"flex items-center w-[24px]",children:(0,v.jsx)("span",{className:"operation",children:E})}),I!=null&&(0,v.jsx)("div",{className:"graphic_progress flex items-center pl-[30px]",children:(0,v.jsx)(_.Z,{type:"circle",percent:I,size:29})})]})]})};T.Z=$},26621:function(re,T,t){t.r(T),t.d(T,{default:function(){return we}});var D=t(97857),l=t.n(D),L=t(15009),_=t.n(L),j=t(99289),v=t.n(j),$=t(5574),P=t.n($),C=t(43722),B=t(42237),z=t(21446),Y=t(99702),G=t(86),N=t(29608),U=t(55927),q=t(32332),V=t(35790),J=t(11475),Q=t(8751),E=t(76772),I=t(28036),u=t(83062),s=t(32983),n=t(71230),i=t(15746),c=t(66309),a=t(74330),r=t(67294),Z=t(3917),ne=function(){var d=(0,r.useState)(null),o=P()(d,2),m=o[0],p=o[1],f=(0,U.Z)(function(M){return M.filterMessages("workflow_need_human_confirm")}),w=(0,U.Z)(function(M){return M.filterMessages("workflow_run_progress")}),h=(0,N.Z)(function(M){return M.prevConfirmDealtWith}),g=(0,Z.Z)(v()(_()().mark(function M(){var R;return _()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,(0,B.VE)({current:1,pageSize:10});case 2:return R=k.sent,k.abrupt("return",R.data);case 4:case"end":return k.stop()}},M)})),{refreshDeps:[f.length,w.length,h],onSuccess:function(R){p(R)}}),x=g.loading,O=g.runAsync;return{loading:x,data:m,refresh:O}},se=t(54464),K=t(62880),e=t(85893),de=function(d){var o,m=d.subtitle,p="pl-[10px] text-[#1B64F3] text-[12px] ".concat(m.need_human_confirm==1||m.need_human_confirm==null?"text-[#1B64F3]":"text-[#808183] ");return(0,e.jsx)("div",{className:"pr-4",children:(0,e.jsxs)("div",{className:"truncate w-full",children:[(0,e.jsx)("span",{className:"pr-[10px] text-[#666666] text-[12px]",children:m.app_name}),(0,e.jsx)(V.Z,{}),(0,e.jsx)("span",{className:p,children:m.node_name||((o=m.node_exec_data)===null||o===void 0?void 0:o.node_name)})]})})},pe=function(d){var o=d.progressObj,m=function(){return parseFloat(o.elapsed_time).toFixed(6)},p=function(w){var h=new Date(w),g=h.getFullYear(),x=(h.getMonth()+1).toString().padStart(2,"0"),O=h.getDate().toString().padStart(2,"0"),M=h.getHours().toString().padStart(2,"0"),R=h.getMinutes().toString().padStart(2,"0"),F=h.getSeconds().toString().padStart(2,"0");return(0,e.jsx)(e.Fragment,{children:"".concat(g,".").concat(x,".").concat(O," ").concat(M,":").concat(R,":").concat(F)})};return(0,e.jsx)("div",{className:"inline-flex gap-x-4 justify-end max-w-[100%]",children:(0,e.jsxs)("div",{className:"inline-flex gap-x-[20px] max-w-[100%]",children:[(0,e.jsx)("div",{className:"truncate min-w-[70px]",children:o.created_time&&p(o.created_time)}),(0,e.jsx)("div",{className:"truncate",children:o.apps_name||o.app_name}),(0,e.jsxs)("div",{className:"flex items-center gap-x-[7px] truncate min-w-[50px]",children:[(0,e.jsx)("div",{className:"shrink-0 rounded-full ".concat(o.status==1?"bg-blue-600":o.status==2?"bg-green-500":"bg-red-500"),style:{width:"3px",height:"3px"}}),(0,e.jsxs)("div",{className:"truncate",children:[m(),"S"]})]})]})})},me=function(d){var o=d.operationObj,m=(0,E.useIntl)(),p=(0,N.Z)(function(h){return h.setRunId}),f=(0,N.Z)(function(h){return h.setRunPanelLogRecord}),w=(0,N.Z)(function(h){return h.setDealtWithData});return(0,e.jsx)("div",{className:"inline-flex justify-end flex-1",children:(0,e.jsx)("div",{className:"inline-flex gap-x-[10px] items-center",children:(0,e.jsx)(I.ZP,{type:"primary",size:"small",style:{boxShadow:"none",background:"transparent",border:"none"},disabled:o.publish_status==0,icon:o!=null&&o.workflow_published_time?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(u.Z,{title:"".concat(o==null?void 0:o.workflow_published_time," ").concat(m.formatMessage({id:"creation.publish"})),children:(0,e.jsx)("img",{src:o.publish_status==0?"/icons/operation_disable_icon.svg":"/icons/operation_icon.svg"})})}):(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("img",{src:o.publish_status==0?"/icons/operation_disable_icon.svg":"/icons/operation_icon.svg"})}),onClick:function(g){return g.stopPropagation(),f(!1),w(!1),p(o.app_id),!1}})})})},fe=function(d){var o=d.bindAdd,m=d.type,p=d.disabled,f=p===void 0?!1:p;return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{onClick:f?void 0:o,className:f?"cursor-not-allowed":"cursor-pointer",children:(0,e.jsxs)("a",{style:{color:f?"#CCCCCC":"#0077ED",fontSize:"0"},className:"flex items-center  gap-x-[5px]",children:[(0,e.jsx)("img",{src:"/icons/plaza_add.svg",className:"w-[16px] h-[16px] shrink-0 ".concat(f?"opacity-50":"")}),(0,e.jsx)("span",{className:f?"text-[#CCCCCC]":"text-[#1B64F3]",style:{fontSize:"12px"},children:m})]})})})},ie=function(d){var o=(0,E.useIntl)();return(0,e.jsx)("div",{className:"flex items-center h-full justify-center",children:(0,e.jsx)(s.Z,{image:s.Z.PRESENTED_IMAGE_SIMPLE,description:o.formatMessage({id:"app.dashboard.None"})})})},he=function(d){var o=ne(),m=o.data,p=o.loading,f=(0,E.useIntl)(),w=(0,N.Z)(function(x){return x.setRunPanelLogRecord}),h=(0,N.Z)(function(x){return x.setDealtWithData}),g=(0,N.Z)(function(x){return x.setRunId});return(0,e.jsx)(e.Fragment,{children:m&&m.list.length?(0,e.jsx)("div",{className:"cardbox",style:{overflowY:"auto",height:"100%",overflowX:"hidden"},children:(0,e.jsx)(n.Z,{gutter:[30,0],children:m.list.map(function(x,O){return(0,e.jsx)(i.Z,{className:"graphicHoverbox",span:"24",children:(0,e.jsx)(G.Z,{icon:x.icon,avatar:x.avatar,title:x.node_name&&(0,e.jsx)(de,{subtitle:{app_name:x.app_name,node_name:x.node_name}}),textDetails:x.app_run_name,handleClick:function(){x.need_human_confirm!=0&&(h(x),g(null),w(!1))},backlogTips:(0,e.jsx)("div",{className:"flex items-center",children:x.need_human_confirm==1||x.need_human_confirm==null?(0,e.jsx)(u.Z,{title:f.formatMessage({id:"app.workflow.needHumanConfirm"}),children:(0,e.jsx)(J.Z,{className:"text-[#1B64F3]"})}):(0,e.jsx)(u.Z,{title:f.formatMessage({id:"app.workflow.noHumanConfirm"}),children:(0,e.jsx)(Q.Z,{className:"text-[#52C41C]"})})})})},O)})})}):(0,e.jsx)(ie,{})})},le=function(d){var o=d.data,m=d.keyName;return(0,e.jsx)("div",{className:"cardbox",style:{overflowY:"auto",height:"100%",overflowX:"hidden"},children:(0,e.jsx)(n.Z,{gutter:[30,0],children:o.map(function(p,f){return(0,e.jsx)(i.Z,{className:"graphicHoverbox",span:"12",children:(0,e.jsx)(G.Z,{icon:p.icon,avatar:p.avatar,title:p.name,textDetails:p.description,handleClick:function(){m=="my_agent"?E.history.push("/Agents?app_id=".concat(p.app_id,"&type=false")):E.history.push("/ReadOnlyAgent?app_id=".concat(p.app_id,"&type=true"))}})},f)})})})},ue=function(d){var o=d.data,m=d.keyName;return(0,e.jsx)("div",{className:"cardbox",style:{overflowY:"auto",height:"100%",overflowX:"hidden"},children:(0,e.jsx)(n.Z,{gutter:[30,0],children:o.map(function(p,f){return(0,e.jsx)(i.Z,{className:"graphicHoverbox",span:"12",children:(0,e.jsx)(G.Z,{icon:p.icon,avatar:p.avatar,title:p.name,textDetails:p.description,handleClick:function(){m=="my_workflow"?E.history.push("/workspace/workflow?app_id=".concat(p.app_id,"&type=false")):E.history.push("/workspace/workflow?app_id=".concat(p.app_id,"&type=true"))},operation:(0,e.jsx)(me,{operationObj:p}),iconType:m=="my_workflow"?p.publish_status==0?"play_disable_icon":"play_icon":""})},f)})})})},ve=function(d){var o=d.data,m=d.getCardList,p=(0,E.useIntl)(),f=(0,N.Z)(function(y){return y.setRunPanelLogRecord}),w=(0,N.Z)(function(y){return y.setDealtWithData}),h=(0,N.Z)(function(y){return y.setRunId}),g=(0,r.useState)(o),x=P()(g,2),O=x[0],M=x[1],R=function(A){return A.completed_progress?parseInt(A.completed_progress.slice(0,-1)):!1},F=function(){var y=v()(_()().mark(function A(){var H,ee,X;return _()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(H=k==null?void 0:k.filter(function(W){return W.type=="workflow_run_progress"}).map(function(W){var ae=W.data;return ae}),!(H&&H.length)){b.next=13;break}return b.prev=2,b.next=5,(0,B.PE)({current:1,pageSize:10,showStatus:3});case 5:X=b.sent,X.code===0&&(ee=X.data)!==null&&ee!==void 0&&ee.list&&M(X.data.list),b.next=13;break;case 9:b.prev=9,b.t0=b.catch(2),console.error("Failed to refresh workflow process log:",b.t0),m&&m();case 13:case"end":return b.stop()}},A,null,[[2,9]])}));return function(){return y.apply(this,arguments)}}(),k=(0,U.Z)(function(y){return y.flowMessage});return(0,r.useEffect)(function(){F()},[k]),(0,e.jsx)(e.Fragment,{children:O&&O.length?(0,e.jsx)("div",{className:"cardbox px-[10px]",style:{overflowY:"auto",height:"100%",overflowX:"hidden"},children:(0,e.jsx)(n.Z,{gutter:[30,20],children:O.map(function(y,A){return(0,e.jsx)(i.Z,{className:"graphicHoverbox",span:"24",children:(0,e.jsx)(G.Z,{status:y.status,icon:y.icon,avatar:y.avatar,title:(0,e.jsxs)("div",{className:"items-center gap-x-[8px] inline-flex justify-end w-full",children:[(0,e.jsx)("span",{className:"flex-1 truncate",children:y.app_runs_name||y.run_name}),(y==null?void 0:y.need_human_confirm)==1?(0,e.jsx)(c.Z,{className:" text-[12px] flex items-center justify-center margin-0",color:"blue",children:p.formatMessage({id:"app.summaryhistory.tag"})}):(0,e.jsx)(e.Fragment,{})]}),textDetails:(0,e.jsx)(pe,{progressObj:y}),handleClick:function(){f(y),h(null),w(!1)},progress:y.percentage||R(y)})},A)})})}):(0,e.jsx)(ie,{})})},ge=function(d){var o=d.item,m=d.data,p=d.getCardList,f=function(g,x){return g&&g.length?x:(0,e.jsx)(ie,{})},w={backlogs:function(g){return(0,e.jsx)(he,{data:g.data})},my_agent:function(g){return f(m,(0,e.jsx)(le,{data:g.data,keyName:"my_agent"}))},my_workflow:function(g){return f(m,(0,e.jsx)(ue,{data:g.data,keyName:"my_workflow"}))},workflow_log:function(g){return(0,e.jsx)(ve,{data:g.data,getCardList:p})},more_agent:function(g){return f(m,(0,e.jsx)(le,{data:g.data}))},more_workflow:function(g){return f(m,(0,e.jsx)(ue,{data:g.data}))}};return(0,e.jsx)(e.Fragment,{children:w[o.key]({data:m})})},xe=function(d){var o=d.item,m=(0,E.useIntl)(),p=function(){var w=o.key=="my_agent"||o.key=="more_agent"?1:2,h=o.key=="more_agent"||o.key=="more_workflow";(0,q.f1)("SET",w,h),E.history.push("/creation")};return(0,e.jsx)("div",{onClick:p,children:o.key!=="backlogs"&&o.key!=="workflow_log"?(0,e.jsxs)("a",{className:"flex items-center gap-x-[5px]",style:{color:"#0077ED",fontSize:"0"},children:[(0,e.jsx)("img",{src:"/icons/plaza_view.svg",className:"w-[16px] h-[16px]"}),(0,e.jsx)("span",{className:"text-[#1B64F3]",style:{fontSize:"12px"},children:m.formatMessage({id:"app.dashboard.title_button_2"})})]}):(0,e.jsx)(e.Fragment,{})})},_e=function(d){var o=(0,E.useIntl)(),m=(0,se.TE)(),p=m.hasPermission,f=d.item,w=d.setIsModalOpen,h=d.setCreationType,g=function(){var k=f.key=="my_agent"?{name:"Agent",path:"Agents",apps_mode:1}:{name:"WorkFlow",path:"workspace/workflow",apps_mode:2};h(function(y){return l()(l()({},y),k)}),w(!0)},x=p(K.Dg.CREATE_AGENT),O=p(K.Dg.CREATE_WORKFLOW),M=f.key==="my_agent"?x:f.key==="my_workflow"?O:!1,R=f.key=="my_agent"?o.formatMessage({id:"app.dashboard.title_button_1.1"}):f.isAdd?o.formatMessage({id:"app.dashboard.title_button_1.2"}):"";return(0,e.jsxs)("div",{className:"flex gap-x-[30px] items-center",children:[f.isAdd&&(0,e.jsx)(fe,{bindAdd:g,type:f.isAdd&&R,disabled:!M}),(0,e.jsx)(xe,{item:f})]})},ye=function(){var d=(0,E.useIntl)(),o=[{title:d.formatMessage({id:"app.dashboard.backlog"}),key:"backlogs",substitle:!0},{title:d.formatMessage({id:"app.dashboard.myagent"}),key:"my_agent",isAdd:!0,biserial:!0},{title:d.formatMessage({id:"app.dashboard.workflow"}),key:"my_workflow",isAdd:!0,biserial:!0},{title:d.formatMessage({id:"app.dashboard.run_log"}),key:"workflow_log",progress:!0},{title:d.formatMessage({id:"app.dashboard.team_agent"}),key:"more_agent",biserial:!0},{title:d.formatMessage({id:"app.dashboard.team_workflow"}),key:"more_workflow",biserial:!0}],m=(0,r.useState)(!1),p=P()(m,2),f=p[0],w=p[1],h=(0,r.useState)({}),g=P()(h,2),x=g[0],O=g[1],M=(0,r.useState)(!0),R=P()(M,2),F=R[0],k=R[1],y=(0,r.useState)({}),A=P()(y,2),H=A[0],ee=A[1],X=(0,r.useRef)(!1),oe=function(){var b=v()(_()().mark(function W(){var ae,ce;return _()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,(0,C.rw)();case 2:ae=te.sent,ae.code==0&&(ce=ae.data,ee(ce),X.current=!0,k(!0));case 4:case"end":return te.stop()}},W)}));return function(){return b.apply(this,arguments)}}();return(0,r.useEffect)(function(){X.current||oe()},[]),(0,e.jsxs)(e.Fragment,{children:[F&&o.map(function(b,W){return(0,e.jsx)(i.Z,{span:8,xs:24,sm:24,md:24,lg:12,xl:8,style:{height:"calc(50% - 20px)"},children:(0,e.jsxs)("div",{className:"bg-[#fff] rounded-[8px] w-[100%] h-[100%]",style:{boxShadow:"0px 2px 4px 0px rgba(0,0,0,0.05)"},children:[(0,e.jsxs)("div",{className:"text-[14px] p-[20px] text-[#213044] flex",children:[(0,e.jsx)("span",{className:"flex-1 font-[500] text-[#213044]",children:b.title}),(0,e.jsx)("span",{children:(0,e.jsx)(_e,{item:b,setIsModalOpen:w,setCreationType:O})})]}),(0,e.jsx)("div",{className:"pt-[5px] pb-[20px] px-[10px]",style:{height:"calc(100% - 62px)"},children:H[b.key]?(0,e.jsx)(ge,{item:b,data:H[b.key],getCardList:oe}):(0,e.jsx)(e.Fragment,{})})]})},W)}),!F&&(0,e.jsx)("div",{className:"w-full h-full flex items-center justify-center ",style:{height:"calc(100vh - 300px)"},children:(0,e.jsx)(a.Z,{size:"large"})}),(0,e.jsx)(z.Z,{setIsModalOpen:w,isModalOpen:f,ModalType:!1,CreationType:x})]})},je=function(){return(0,e.jsxs)("div",{className:"overflow-auto",style:{height:"calc(100vh - 56px)",maxHeight:"calc(100vh - 56px)"},children:[(0,e.jsx)("div",{className:"px-[30px] pb-[10px] flex flex-col pt-[30px]",style:{width:"100%",height:"calc(100vh - 92px)",maxHeight:"calc(100vh - 92px)",margin:"0 auto"},children:(0,e.jsx)("div",{className:"flex-1",style:{minHeight:0},children:(0,e.jsx)(n.Z,{gutter:[20,20],className:"h-full",style:{overflowX:"hidden",alignContent:"flex-start"},children:(0,e.jsx)(ye,{})})})}),(0,e.jsx)(Y.Z,{})]})},we=je}}]);
