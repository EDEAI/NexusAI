"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[979],{43722:function(Ne,ee,n){n.d(ee,{Gh:function(){return E},Gn:function(){return N},KH:function(){return L},Rp:function(){return W},cH:function(){return le},dB:function(){return M},j2:function(){return ie},r5:function(){return G},rw:function(){return A},sI:function(){return oe},sT:function(){return Z},sh:function(){return ce},vu:function(){return b},xM:function(){return fe},xT:function(){return k}});var se=n(15009),r=n.n(se),d=n(99289),u=n.n(d),v=n(47520),A=function(){var c=u()(r()().mark(function s(){var t;return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,v.ZP)("/v1/index/",{method:"GET"});case 2:return t=o.sent,o.abrupt("return",t);case 4:case"end":return o.stop()}},s)}));return function(){return c.apply(this,arguments)}}(),ne=null,b=function(){var c=u()(r()().mark(function s(t){var l;return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,v.ZP)("/v1/chatroom/",{method:"GET",data:t});case 2:return l=a.sent,a.abrupt("return",l);case 4:case"end":return a.stop()}},s)}));return function(t){return c.apply(this,arguments)}}(),N=function(){var c=u()(r()().mark(function s(t){var l;return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,v.ZP)("/v1/chatroom/".concat(t.id),{method:"DELETE"});case 2:return l=a.sent,a.abrupt("return",l);case 4:case"end":return a.stop()}},s)}));return function(t){return c.apply(this,arguments)}}(),M=function(){var c=u()(r()().mark(function s(t){var l;return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,v.ZP)("/v1/chatroom/",{method:"POST",data:t});case 2:return l=a.sent,a.abrupt("return",l);case 4:case"end":return a.stop()}},s)}));return function(t){return c.apply(this,arguments)}}(),le=function(){var c=u()(r()().mark(function s(t){var l;return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,v.ZP)("/v1/chatroom/".concat(t.id,"/details"),{method:"GET"});case 2:return l=a.sent,a.abrupt("return",l);case 4:case"end":return a.stop()}},s)}));return function(t){return c.apply(this,arguments)}}(),ie=function(){var c=u()(r()().mark(function s(t){var l;return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,v.ZP)("/v1/chatroom/recent",{method:"GET",data:{chatroom_id:t.id}});case 2:return l=a.sent,a.abrupt("return",l);case 4:case"end":return a.stop()}},s)}));return function(t){return c.apply(this,arguments)}}(),oe=function(){var c=u()(r()().mark(function s(t,l){var o;return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,v.ZP)("/v1/chatroom/".concat(l,"/update_chatroom"),{method:"POST",data:t});case 2:return o=i.sent,i.abrupt("return",o);case 4:case"end":return i.stop()}},s)}));return function(t,l){return c.apply(this,arguments)}}(),G=function(){var c=u()(r()().mark(function s(t,l){var o;return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,v.ZP)("/v1/chatroom/".concat(l,"/smart_selection"),{method:"POST",data:t});case 2:return o=i.sent,i.abrupt("return",o);case 4:case"end":return i.stop()}},s)}));return function(t,l){return c.apply(this,arguments)}}(),Z=function(){var c=u()(r()().mark(function s(t,l,o){var a;return r()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(0,v.ZP)("/v1/chatroom/".concat(l,"/agents/").concat(o,"/setting"),{method:"PUT",data:t});case 2:return a=T.sent,T.abrupt("return",a);case 4:case"end":return T.stop()}},s)}));return function(t,l,o){return c.apply(this,arguments)}}(),L=function(){var c=u()(r()().mark(function s(t,l){var o;return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,v.ZP)("/v1/chatroom/".concat(t,"/chatroom_message"),{method:"GET",data:l});case 2:return o=i.sent,i.abrupt("return",o);case 4:case"end":return i.stop()}},s)}));return function(t,l){return c.apply(this,arguments)}}(),W=function(){var c=u()(r()().mark(function s(t,l){var o;return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,v.ZP)("/v1/chatroom/".concat(t,"/chat_history_message_summary"),{method:"POST",data:l});case 2:return o=i.sent,i.abrupt("return",o);case 4:case"end":return i.stop()}},s)}));return function(t,l){return c.apply(this,arguments)}}(),k=function(){var c=u()(r()().mark(function s(t,l){var o;return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,v.ZP)("/v1/chatroom/".concat(t,"/chat_history_summary"),{method:"POST",data:l});case 2:return o=i.sent,i.abrupt("return",o);case 4:case"end":return i.stop()}},s)}));return function(t,l){return c.apply(this,arguments)}}(),ce=function(){var c=u()(r()().mark(function s(t){var l;return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,v.ZP)("/v1/chatroom/chat_room_history",{method:"GET",data:t});case 2:return l=a.sent,a.abrupt("return",l);case 4:case"end":return a.stop()}},s)}));return function(t){return c.apply(this,arguments)}}(),E=function(){var c=u()(r()().mark(function s(t){var l;return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,v.ZP)("/v1/chatroom/chat_room_history_single",{method:"GET",data:t});case 2:return l=a.sent,a.abrupt("return",l);case 4:case"end":return a.stop()}},s)}));return function(t){return c.apply(this,arguments)}}(),fe=function(){var c=u()(r()().mark(function s(t,l){var o;return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,v.ZP)("/v1/chatroom/".concat(t,"/chat_single_message_generation"),{method:"POST",data:l});case 2:return o=i.sent,i.abrupt("return",o);case 4:case"end":return i.stop()}},s)}));return function(t,l){return c.apply(this,arguments)}}()},88864:function(Ne,ee,n){var se=n(32332),r=n(67294),d=n(85893);ee.Z=(0,r.memo)(function(u){var v=u.agentList,A=u.size,ne=A===void 0?"sm":A,b=u.rounded,N=b===void 0?!1:b,M=v==null?void 0:v.map(function(G){return G.avatar?G.avatar:(0,se.s9)("single",G.icon)}),le={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"},ie={sm:"w-[47%] h-[47%]",md:"w-[47%] h-[47%]",lg:"w-[47%] h-[47%]"},oe=function(){var Z=(M==null?void 0:M.length)||0;if(!Z||!M)return(0,d.jsx)("div",{className:"bg-gray-200 w-full h-full ".concat(N?"rounded-full":"")});if(Z===1)return(0,d.jsx)("div",{className:"w-full h-full overflow-hidden ".concat(N?"rounded-full":""),children:(0,d.jsx)("img",{src:M[0],alt:"\u5934\u50CF",className:"w-full h-full object-cover"})});if(Z===2)return(0,d.jsxs)("div",{className:"w-full h-full flex flex-wrap",children:[(0,d.jsx)("div",{className:"w-1/2 h-full pr-[2%]",children:(0,d.jsx)("img",{src:M[0],alt:"\u5934\u50CF",className:"w-full h-full object-cover ".concat(N?"rounded-l-full":"")})}),(0,d.jsx)("div",{className:"w-1/2 h-full pl-[2%]",children:(0,d.jsx)("img",{src:M[1],alt:"\u5934\u50CF",className:"w-full h-full object-cover ".concat(N?"rounded-r-full":"")})})]});if(Z===3)return(0,d.jsxs)("div",{className:"w-full h-full flex flex-wrap",children:[(0,d.jsx)("div",{className:"w-1/2 h-full pr-[2%] flex items-center justify-center",children:(0,d.jsx)("img",{src:M[0],alt:"\u5934\u50CF",className:"w-full h-full object-cover ".concat(N?"rounded-l-full":"")})}),(0,d.jsxs)("div",{className:"w-1/2 h-full pl-[2%] flex flex-col",children:[(0,d.jsx)("div",{className:"h-1/2 pb-[2%]",children:(0,d.jsx)("img",{src:M[1],alt:"\u5934\u50CF",className:"w-full h-full object-cover ".concat(N?"rounded-tr-full":"")})}),(0,d.jsx)("div",{className:"h-1/2 pt-[2%]",children:(0,d.jsx)("img",{src:M[2],alt:"\u5934\u50CF",className:"w-full h-full object-cover ".concat(N?"rounded-br-full":"")})})]})]});if(Z===4)return(0,d.jsx)("div",{className:"w-full h-full flex flex-wrap",children:M.slice(0,4).map(function(ce,E){return(0,d.jsx)("div",{className:"".concat(ie[ne]," p-[3%] ").concat(E===0?"pl-0 pt-0":E===1?"pr-0 pt-0":E===2?"pl-0 pb-0":"pr-0 pb-0"),children:(0,d.jsx)("img",{src:ce,alt:"\u5934\u50CF",className:"w-full h-full object-cover ".concat(N?E===0?"rounded-tl-full":E===1?"rounded-tr-full":E===2?"rounded-bl-full":"rounded-br-full":"")})},E)})});for(var L=M.slice(0,9),W=[],k=0;k<Math.min(9,L.length);k++)W.push((0,d.jsx)("div",{className:"w-1/3 h-1/3",style:{padding:"1.5%"},children:(0,d.jsx)("img",{src:L[k],alt:"\u5934\u50CF",className:"w-full h-full object-cover"})},k));return(0,d.jsx)("div",{className:"w-full h-full flex flex-wrap",children:W})};return(0,d.jsx)("div",{className:"".concat(le[ne]," overflow-hidden bg-white ").concat(N?"rounded-full":""),children:oe()})})},52700:function(Ne,ee,n){n.r(ee),n.d(ee,{default:function(){return Oe}});var se=n(97857),r=n.n(se),d=n(15009),u=n.n(d),v=n(99289),A=n.n(v),ne=n(5574),b=n.n(ne),N=n(43722),M=n(78697),le=n(72406),ie=n(32332),oe=n(82114),G=n(3471),Z=n(35312),L=n(15746),W=n(45360),k=n(85576),ce=n(83159),E=n(71230),fe=n(32983),c=n(74330),s=n(28036),t=n(67294),l=n(19632),o=n.n(l),a=n(28508),i=n(26915),T=n(40741),Se=n(13457),_e=n(96486),Re=n(44010),Ee=n(80459),e=n(85893),Pe=i.Z.TextArea,Ze=function(p){var f=(0,Z.useIntl)(),V=p.show,j=p.id,J=p.close,ue=p.save,F=p.isUpdata,te=T.Z.useForm(),ae=b()(te,1),z=ae[0],O=(0,t.useRef)(!1),H=(0,Z.useLocation)(),de=(0,t.useRef)(null),pe=W.ZP.useMessage(),Y=b()(pe,2),Q=Y[0],$=Y[1],P=(0,t.useState)({name:"",description:"",max_round:10,agent:[]}),I=b()(P,2),m=I[0],C=I[1],ve=(0,t.useState)([]),X=b()(ve,2),B=X[0],me=X[1],K=(0,t.useRef)(!1),je=(0,_e.throttle)(function(){var w=A()(u()().mark(function y(re){var R,U;return u()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!K.current){h.next=2;break}return h.abrupt("return");case 2:if(K.current=!0,R=B.map(function(Me){var Be=Me.agent_id,Ce=Me.active,Ue=Ce===void 0?1:Ce;return{agent_id:Be,active:Ue}}),m.name){h.next=7;break}return K.current=!1,h.abrupt("return");case 7:if(R.length!=0){h.next=11;break}return K.current=!1,Q.open({type:"error",content:f.formatMessage({id:"app.create_chatroom.label_4_tips"})}),h.abrupt("return");case 11:if(C(r()(r()({},m),{},{agent:R})),Q.open({key:"create",type:"loading",content:"Loading..."}),O.current){h.next=19;break}return h.next=16,(0,N.dB)(r()(r()({},m),{},{agent:R}));case 16:h.t0=h.sent,h.next=22;break;case 19:return h.next=21,(0,N.sI)(r()(r()({},m),{},{agent:R}),j);case 21:h.t0=h.sent;case 22:U=h.t0,U.code==0&&(Q.open({key:"create",type:"success",content:O.current?f.formatMessage({id:"app.edit_chatroom.succeed"}):f.formatMessage({id:"app.create_chatroom.succeed"}),duration:2}),ue(!0),ye()),K.current=!1;case 25:case"end":return h.stop()}},y)}));return function(y){return w.apply(this,arguments)}}(),300),we=(0,t.useState)(!1),ge=b()(we,2),g=ge[0],S=ge[1],_=function(y){var re={};return y.slice(1).split("&").forEach(function(R){var U=R.split("=");re[U[0]]=U[1]}),re},x=function(){var w=A()(u()().mark(function y(re){var R,U;return u()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,N.cH)({id:re});case 2:R=h.sent,R.code==0&&(U=R.data.chat_info,C(r()(r()({},m),{},{name:U.name,description:U.description,max_round:R.data.max_round?R.data.max_round:10,agent:R.data.agent_list})),me(R.data.agent_list));case 4:case"end":return h.stop()}},y)}));return function(re){return w.apply(this,arguments)}}(),he=function(){S(!0)},be=function(){S(!1)},q=function(y){me(o()(y.checkItem))},D=function(){O.current=!1,F&&j!=0&&(O.current=!0,x(j))},ye=function(){z.setFieldsValue({Title:"",Description:"",MaxRound:10}),C(r()(r()({},m),{},{name:"",description:"",max_round:10,agent:[]})),me([]),K.current=!1,J()};return(0,t.useEffect)(function(){V&&D()},[V]),(0,t.useEffect)(function(){z.setFieldsValue({Title:m.name,Description:m.description,MaxRound:m.max_round})},[m,z]),(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{ref:de,className:"w-full h-full fixed top-[0] left-[0] bg-[rgba(0,0,0,0.5)] flex items-center justify-center z-20",children:[(0,e.jsxs)("div",{className:"w-[980px] h-[646px] bg-[#fff] rounded-[6px]",children:[$,(0,e.jsx)("div",{className:"w-full flex relative",style:{height:"100%"},children:(0,e.jsx)("div",{className:"w-full relative box-border flex-1",style:{height:"100%"},children:(0,e.jsx)(T.Z,{form:z,className:"h-full",initialValues:{Title:m.name,Description:m.description,MaxRound:m.max_round},children:(0,e.jsxs)("div",{className:"flex flex-col h-full",children:[(0,e.jsxs)("div",{className:"text-[16px] flex items-center p-[20px]",style:{borderBottom:"1px solid #ebebeb"},children:[(0,e.jsx)("span",{className:"flex-1 text-[14px] font-[500] text-[#213044]",children:O.current?f.formatMessage({id:"app.edit_chatroom.title"}):f.formatMessage({id:"app.create_chatroom.title"})}),(0,e.jsx)(a.Z,{className:"text-[16px] cursor-pointer",onClick:ye})]}),(0,e.jsx)("div",{className:"flex-1 min-h-[0] overflow-auto",children:(0,e.jsxs)("div",{className:"pt-[20px] px-[20px]",children:[(0,e.jsxs)("div",{className:"text-[12px] text-[#213044]",children:[(0,e.jsx)("span",{style:{color:"red",paddingRight:"4px"},children:"*"}),f.formatMessage({id:"app.create_chatroom.label_1"})]}),(0,e.jsx)("div",{className:"pt-[15px]",children:(0,e.jsx)(T.Z.Item,{name:"Title",rules:[{required:!0,message:f.formatMessage({id:"app.create_chatroom.label_1_tips"})}],style:{marginBottom:"0px"},children:(0,e.jsx)(i.Z,{placeholder:f.formatMessage({id:"app.create_chatroom.label_1_pl"}),maxLength:50,style:{height:40,background:"#F7F7F7"},className:"placeholder:text-[#bbb] placeholder:text-[12px] h-[40px] border-[#eee] text-[#213044]",onChange:function(y){C(r()(r()({},m),{},{name:y.target.value}))}})})}),(0,e.jsx)("div",{className:"text-[12px] text-[#213044] pt-[20px]",children:f.formatMessage({id:"app.create_chatroom.label_2"})}),(0,e.jsx)("div",{className:"pt-[10px]",children:(0,e.jsx)(T.Z.Item,{name:"Description",style:{marginBottom:"0px"},children:(0,e.jsx)(Pe,{showCount:!0,maxLength:1e3,placeholder:f.formatMessage({id:"app.create_chatroom.label_2_pl"}),value:m.description,style:{height:57,resize:"none",background:"#F7F7F7"},className:"placeholder:text-[#bbb] placeholder:text-[12px] h-[40px] border-[#eee] text-[#213044]",onChange:function(y){C(r()(r()({},m),{},{description:y.target.value}))}})})}),(0,e.jsxs)("div",{className:"text-[12px] text-[#213044] pt-[20px]",children:[(0,e.jsx)("span",{style:{color:"red",paddingRight:"4px"},children:"*"}),f.formatMessage({id:"app.create_chatroom.label_3"})]}),(0,e.jsx)("div",{className:"pt-[10px]",children:(0,e.jsx)(T.Z.Item,{name:"MaxRound",rules:[{required:!0,message:f.formatMessage({id:"app.create_chatroom.label_3_tips"})}],style:{marginBottom:"0px"},children:(0,e.jsx)(Se.Z,{min:10,step:1,max:100,size:"large",style:{background:"#F7F7F7"},className:"placeholder:text-[#bbb] placeholder:text-[12px]  border-[#eee] text-[#213044] w-full",onChange:function(y){C(r()(r()({},m),{},{max_round:y}))},formatter:function(y){return y!==void 0?Math.floor(y).toString():m.max_round.toString()}})})}),(0,e.jsxs)("div",{className:"text-[14px]  pt-[20px] flex",children:[(0,e.jsx)("span",{style:{color:"red",paddingRight:"4px"},children:"*"}),(0,e.jsx)("span",{className:"text-[12px] text-[#213044]",children:f.formatMessage({id:"app.create_chatroom.label_4"})})]}),(0,e.jsx)("div",{className:"pt-[15px] pb-[20px] overflow-hidden w-full",children:(0,e.jsxs)(E.Z,{gutter:[15,15],children:[(0,e.jsx)(L.Z,{span:6,children:(0,e.jsx)("div",{className:"text-[12px] text-[#BBBBBB] h-[62px] rounded-[4px] bg-[#F7F7F7] leading-[62px] text-center cursor-pointer",onClick:he,style:{border:"1px solid #EEEEEE"},children:f.formatMessage({id:"app.create_chatroom.add_button"})})}),B&&B.length?B.map(function(w){return(0,e.jsx)(L.Z,{span:6,children:(0,e.jsxs)("div",{className:"bg-[#fff] flex gap-x-[20px] p-[10px] cursor-pointer border-solid border-[1px] rounded-[4px] border-[#eee]",children:[(0,e.jsx)(Ee.Z,{data:w,imgWidth:"20px"}),(0,e.jsxs)("div",{className:"flex flex-col gap-y-[5px] justify-center flex-1 min-w-[0]",children:[(0,e.jsx)("div",{className:"text-[#213044] text-[12px] font-[500] w-full truncate",children:w.name}),(0,e.jsx)("div",{className:"text-[#999] text-[12px] w-full truncate",children:w.description})]})]})},w.agent_id)}):(0,e.jsx)(e.Fragment,{})]})})]})}),(0,e.jsxs)("div",{className:"p-[20px] flex gap-x-[20px] justify-end",style:{borderTop:"1px solid #e8e8e8"},children:[(0,e.jsx)(s.ZP,{className:"text-[14px] text-[#213044] w-[88px] h-[40px]",style:{border:"1px solid #D8D8D8"},onClick:ye,children:f.formatMessage({id:"app.create_chatroom.cancel"})}),(0,e.jsx)(s.ZP,{type:"primary",className:"bg-[#1B64F3] rounded-[4px] w-[88px] h-[40px]",htmlType:"submit",onClick:je,children:f.formatMessage({id:"app.create_chatroom.save"})})]})]})})})})]}),(0,e.jsx)(Re.Z,{show:g,popupClose:be,popupSave:q,checkList:B})]})})},Te=Ze,Fe=n(88864),De=function(p){return(0,e.jsx)(L.Z,{className:"gutter-row",xs:24,sm:24,md:12,lg:8,xl:6,children:(0,e.jsxs)("div",{className:"h-[236px] rounded-[8px] bg-[#EFF0F2] flex flex-col items-center justify-center gap-y-[10px] cursor-pointer",style:{border:"1px solid #E9E9E9"},onClick:function(){p.setCreateShow(!0),p.isUpdataChatRoom.current=!1,p.upDataId.current=0},children:[(0,e.jsx)("img",{src:"/icons/plaza_m2_c2.svg",className:"w-[42px] h-[42px]",alt:""}),(0,e.jsx)("span",{className:"text-[#213044] text-[12px]",children:p.intl.formatMessage({id:"app.chatroom_list.create"})})]})})},Ie=function(p){var f=p.item,V=p.resetList,j=p.setCreateShow,J=p.isUpdataChatRoom,ue=p.upDataId,F=p.intl,te=W.ZP.useMessage(),ae=b()(te,2),z=ae[0],O=ae[1],H=k.Z.confirm,de=function(){H({title:F.formatMessage({id:"app.chatroom.del.title"}),icon:(0,e.jsx)(oe.Z,{}),content:F.formatMessage({id:"app.chatroom.del.tips"}),okText:F.formatMessage({id:"app.chatroom.del.confirm"}),okType:"danger",cancelText:F.formatMessage({id:"app.chatroom.del.cancel"}),onOk:function(){pe()}})},pe=function(){var $=A()(u()().mark(function P(){var I;return u()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,(0,N.Gn)({id:f.chatroom_id});case 2:I=C.sent,I.code==0&&(z.open({key:"del",type:"success",content:F.formatMessage({id:"app.chatroom.del.delsuccess"}),duration:10}),V(f.chatroom_id));case 4:case"end":return C.stop()}},P)}));return function(){return $.apply(this,arguments)}}(),Y=function(){var $=A()(u()().mark(function P(){return u()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:j(!0),J.current=!0,ue.current=f.chatroom_id;case 3:case"end":return m.stop()}},P)}));return function(){return $.apply(this,arguments)}}(),Q=[{key:"1",label:(0,e.jsx)("div",{className:"py-[3px] px-[3px]",children:(0,e.jsxs)("div",{className:"flex gap-x-[5px] text-[12px] text-[#213044] items-center p-y-[8]",onClick:Y,children:[(0,e.jsx)("img",{src:"/icons/edit_icon.svg",className:"w-[16px] h-[16px]"}),(0,e.jsx)("span",{children:F.formatMessage({id:"app.chatroom_list.fun_button_1"})})]})})},{key:"2",label:(0,e.jsx)("div",{className:"py-[3px] px-[3px]",children:(0,e.jsxs)("div",{className:"flex gap-x-[5px] text-[12px] text-[#E12222] items-center",onClick:de,children:[(0,e.jsx)("img",{src:"/icons/delete_icon.svg",className:"w-[16px] h-[16px]"}),(0,e.jsx)("span",{children:F.formatMessage({id:"app.chatroom_list.fun_button_2"})})]})})}];return(0,e.jsxs)(e.Fragment,{children:[O,(0,e.jsxs)("div",{className:"flex  items-center",children:[(0,e.jsx)("div",{className:"flex gap-x-[6px] items-center flex-1"}),(0,e.jsx)(ce.Z,{menu:{items:Q},placement:"topRight",className:"cursor-pointer",children:(0,e.jsx)("div",{className:"w-[18px] h-[18px] bg-[#ebebeb] rounded-[4px] flex justify-center items-center",children:(0,e.jsx)(G.Z,{className:"hover:text-[#1B64F3]",style:{fontSize:"14px"}})})})]})]})},Ae=function(){var p=(0,Z.useIntl)(),f=(0,t.useState)(null),V=b()(f,2),j=V[0],J=V[1],ue=(0,t.useState)(!1),F=b()(ue,2),te=F[0],ae=F[1],z=(0,t.useState)({page:1,page_size:20,name:""}),O=b()(z,2),H=O[0],de=O[1],pe=(0,t.useState)(!0),Y=b()(pe,2),Q=Y[0],$=Y[1],P=(0,t.useRef)(!1),I=(0,t.useRef)(0),m=(0,t.useState)(!1),C=b()(m,2),ve=C[0],X=C[1],B=function(){var g=A()(u()().mark(function S(){var _,x,he=arguments;return u()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return _=he.length>0&&he[0]!==void 0?he[0]:!1,q.next=3,(0,N.vu)(H);case 3:x=q.sent,_&&ae(!0),x.code==0&&($(x.data.total_pages>H.page),x.data.total_pages>=H.page&&!_&&(x.data.list=j.list.concat(x.data.list)),x.data.list&&x.data.list.length&&x.data.list.forEach(function(D){D.old_agent_list=JSON.parse(JSON.stringify(D.agent_list||[])),D.agent_list&&D.agent_list.length&&(D.agent_list.length=D.agent_list.length>6?6:D.agent_list.length,D.old_agent_list.length=D.old_agent_list.length>9?9:D.old_agent_list.length)}),J(x.data));case 6:case"end":return q.stop()}},S)}));return function(){return g.apply(this,arguments)}}();(0,t.useEffect)(function(){B(!0),$(!0)},[]);var me=function(S){de(function(_){return r()(r()({},_),{},{page:H.page++})}),B()},K=function(S){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;j&&j.list.length&&(_!=null?J(r()(r()({},j),{},{list:j.list.map(function(x){return r()(r()({},x),{},{smart_selection:x.chatroom_id===S?_:x.smart_selection})})})):J(r()(r()({},j),{},{list:j.list.filter(function(x){return x.chatroom_id!==S})})))},je=function(S){Z.history.push("/chat_room/".concat(S.chatroom_id))},we=function(){X(!1)},ge=function(S){S&&B(!0)};return(0,e.jsx)("div",{className:"pt-0 w-full",id:"Meeting",style:{height:"calc(100vh - 94px)",overflowY:"auto"},children:(0,e.jsx)(le.Z,{dataLength:j&&j.list.length,elid:"Meeting",ishasMore:Q,upSlide:me,isFooter:!0,pageNumber:H.page,children:(0,e.jsx)("div",{className:"px-[30px] pt-[30px]",children:(0,e.jsxs)(E.Z,{gutter:[20,20],style:{margin:0},children:[j&&j.list.length&&te?(0,e.jsx)(De,{setCreateShow:X,isUpdataChatRoom:P,intl:p,upDataId:I}):(0,e.jsx)(e.Fragment,{}),j&&j.list.length?j.list.map(function(g,S){return(0,e.jsx)(L.Z,{className:"gutter-row",xs:24,sm:24,md:12,lg:8,xl:6,xxl:6,children:(0,e.jsx)("div",{className:"relative h-[236px] rounded-[8px] cursor-pointer shadow-lg shadow-gray-100 hover:shadow-gray-200",onClick:function(){je(g)},children:(0,e.jsxs)("div",{className:"bg-[#fff] rounded-[8px] h-full",style:{boxShadow:"0px 2px 4px 0px rgba(0,0,0,0.05)"},children:[(0,e.jsxs)("div",{className:"flex pt-[20px] pb-[15px] px-[20px] text-[#213044] text-[14px] font-[500] gap-x-[6px]",children:[(0,e.jsx)(Fe.Z,{agentList:g.old_agent_list}),(0,e.jsx)("span",{className:"flex-1 min-w-[0px] truncate",children:g.name}),(0,e.jsxs)("div",{className:"flex gap-x-[5px] items-center",children:[(0,e.jsx)("img",{src:"".concat(g.active==0?"/icons/plaza_m2_c2.svg":"/icons/plaza_m2_c1.svg"),className:"w-[14px] h-[14px]"}),(0,e.jsx)("span",{className:"text-[12px]",children:g.active==0?(0,e.jsx)("span",{className:"text-[#aaa]",children:p.formatMessage({id:"app.chatroom_list.status"})}):(0,e.jsx)("span",{className:"text-[#1B64F3]",children:p.formatMessage({id:"app.chatroom_list.status_succeed"})})})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"px-[20px]",children:(0,e.jsxs)("div",{style:{borderBottom:"1px solid #eee"},children:[(0,e.jsx)("div",{className:"text-[#666666] text-[12px] font-[400] w-full truncate min-h-[14px]",children:g.description?g.description:(0,e.jsx)(e.Fragment,{})}),(0,e.jsx)("div",{className:"py-[20px] h-[115px] overflow-hidden",children:g.agent_list&&g.agent_list.length?(0,e.jsx)(E.Z,{gutter:[20,18],children:g.agent_list.map(function(_,x){return(0,e.jsx)(L.Z,{md:12,lg:12,xl:12,xxl:8,children:(0,e.jsxs)("div",{className:"flex gap-x-[10px] items-center",children:[(0,e.jsx)(M.Z,{Image:(0,ie.s9)("single",_.icon),size:"30",avatar:_.avatar}),(0,e.jsx)("div",{className:"text-[#666] text-[12px] truncate",children:_.name})]})},x)})}):(0,e.jsx)(fe.Z,{style:{margin:"0px",fontSize:"12px"},imageStyle:{width:"60px",margin:"0 auto",marginBottom:"2px"},description:p.formatMessage({id:"app.dashboard.None"}),image:fe.Z.PRESENTED_IMAGE_SIMPLE})})]})}),(0,e.jsx)("div",{className:"pt-[15px] pb-[16px] px-[20px]",onClick:function(x){return x.stopPropagation(),!1},children:(0,e.jsx)(Ie,{item:g,resetList:K,setCreateShow:X,isUpdataChatRoom:P,upDataId:I,intl:p})})]})]})})},S)}):(0,e.jsx)(e.Fragment,{children:te?(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"w-full flex items-center flex-wrap justify-center mt-48",children:[(0,e.jsx)("div",{className:"w-full flex items-center justify-center mb-2.5",children:(0,e.jsx)("img",{src:"/icons/default.svg",alt:""})}),(0,e.jsxs)("div",{className:"w-full text-center mb-3 text-[#666] text-sm",children:[p.formatMessage({id:"creation.margindescribe"})," ","~"]}),(0,e.jsxs)("div",{className:"w-full text-center",children:[" ",(0,e.jsx)(s.ZP,{color:"primary",onClick:function(){X(!0),P.current=!1,I.current=0},children:p.formatMessage({id:"app.chatroom_list.create"})})," "]})]})}):(0,e.jsx)("div",{className:"w-full h-full flex items-center justify-center ",style:{height:"calc(100vh - 300px)"},children:(0,e.jsx)(c.Z,{size:"large"})})}),ve?(0,e.jsx)(Te,{show:ve,id:I.current,close:we,save:ge,isUpdata:P.current}):(0,e.jsx)(e.Fragment,{})]})})})})},Le=function(){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:"w-full",children:(0,e.jsx)(Ae,{})})})},Oe=Le}}]);
