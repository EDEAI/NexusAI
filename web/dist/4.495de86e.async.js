"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4],{43722:function(H,O,s){s.d(O,{Gn:function(){return N},KH:function(){return G},cH:function(){return B},dB:function(){return R},gp:function(){return h},j2:function(){return L},r5:function(){return A},rw:function(){return K},sI:function(){return w},sT:function(){return S},vu:function(){return M}});var y=s(15009),l=s.n(y),C=s(99289),u=s.n(C),d=s(47520),K=function(){var c=u()(l()().mark(function n(){var a;return l()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.ZP)("/v1/index/",{method:"GET"});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},n)}));return function(){return c.apply(this,arguments)}}(),h=function(){var c=u()(l()().mark(function n(a,r){var e;return l()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,d.ZP)(a,{method:"GET",data:r});case 2:return e=_.sent,_.abrupt("return",e);case 4:case"end":return _.stop()}},n)}));return function(a,r){return c.apply(this,arguments)}}(),M=function(){var c=u()(l()().mark(function n(a){var r;return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.ZP)("/v1/chatroom/",{method:"GET",data:a});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}},n)}));return function(a){return c.apply(this,arguments)}}(),N=function(){var c=u()(l()().mark(function n(a){var r;return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.ZP)("/v1/chatroom/".concat(a.id),{method:"DELETE"});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}},n)}));return function(a){return c.apply(this,arguments)}}(),R=function(){var c=u()(l()().mark(function n(a){var r;return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.ZP)("/v1/chatroom/",{method:"POST",data:a});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}},n)}));return function(a){return c.apply(this,arguments)}}(),B=function(){var c=u()(l()().mark(function n(a){var r;return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.ZP)("/v1/chatroom/".concat(a.id,"/details"),{method:"GET"});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}},n)}));return function(a){return c.apply(this,arguments)}}(),L=function(){var c=u()(l()().mark(function n(a){var r;return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.ZP)("/v1/chatroom/recent",{method:"GET",data:{chatroom_id:a.id}});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}},n)}));return function(a){return c.apply(this,arguments)}}(),w=function(){var c=u()(l()().mark(function n(a,r){var e;return l()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,d.ZP)("/v1/chatroom/".concat(r,"/update_chatroom"),{method:"POST",data:a});case 2:return e=_.sent,_.abrupt("return",e);case 4:case"end":return _.stop()}},n)}));return function(a,r){return c.apply(this,arguments)}}(),A=function(){var c=u()(l()().mark(function n(a,r){var e;return l()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,d.ZP)("/v1/chatroom/".concat(r,"/smart_selection"),{method:"POST",data:a});case 2:return e=_.sent,_.abrupt("return",e);case 4:case"end":return _.stop()}},n)}));return function(a,r){return c.apply(this,arguments)}}(),S=function(){var c=u()(l()().mark(function n(a,r,e){var t;return l()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,d.ZP)("/v1/chatroom/".concat(r,"/agents/").concat(e,"/setting"),{method:"PUT",data:a});case 2:return t=f.sent,f.abrupt("return",t);case 4:case"end":return f.stop()}},n)}));return function(a,r,e){return c.apply(this,arguments)}}(),G=function(){var c=u()(l()().mark(function n(a,r){var e;return l()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,d.ZP)("/v1/chatroom/".concat(a,"/chatroom_message"),{method:"GET",data:r});case 2:return e=_.sent,_.abrupt("return",e);case 4:case"end":return _.stop()}},n)}));return function(a,r){return c.apply(this,arguments)}}()},72406:function(H,O,s){var y=s(58533),l=s(99702),C=s(74330),u=s(85893),d=function(h){var M=h.children,N=h.elid,R=h.dataLength,B=h.ishasMore,L=h.upSlide,w=h.isFooter,A=h.pageNumber,S=A===void 0?2:A;return(0,u.jsxs)("div",{className:"h-full flex flex-col",children:[(0,u.jsx)(y.Z,{dataLength:R,scrollableTarget:N,next:L,hasMore:B,loader:(0,u.jsx)("div",{className:"flex justify-center h-[60px] items-center",children:S>1?(0,u.jsx)(C.Z,{}):(0,u.jsx)(u.Fragment,{})}),children:M}),w&&(0,u.jsx)("div",{className:"mt-[30px] flex-1 flex ",style:{alignItems:"flex-end"},children:(0,u.jsx)(l.Z,{className:"relative"})})]})};O.Z=d},92004:function(H,O,s){var y=s(15009),l=s.n(y),C=s(19632),u=s.n(C),d=s(99289),K=s.n(d),h=s(5574),M=s.n(h),N=s(43722),R=s(72406),B=s(32332),L=s(28508),w=s(35312),A=s(34041),S=s(26915),G=s(71230),c=s(15746),n=s(32983),a=s(28036),r=s(67294),e=s(85893),t=function(f){var z=f.show,le=f.popupClose,ce=f.popupSave,V=f.checkList,J=f.zIndex,Q=J===void 0?"":J,v=(0,w.useIntl)(),x=(0,r.useRef)([]),ie=(0,r.useState)({my_agent:0,more_agent:0}),X=M()(ie,2),Y=X[0],q=X[1],oe=(0,r.useState)("my_agent"),ee=M()(oe,2),P=ee[0],te=ee[1],de=(0,r.useState)(!0),re=M()(de,2),pe=re[0],me=re[1],fe=(0,r.useState)([]),ne=M()(fe,2),D=ne[0],k=ne[1],ge=(0,r.useState)([]),ae=M()(ge,2),j=ae[0],W=ae[1],he=(0,r.useState)(!0),se=M()(he,2),ve=se[0],xe=se[1],Ee=(0,r.useRef)(null),I=(0,r.useRef)({page:1,page_size:40,agent_search_type:3,name:""}),T=(0,r.useRef)({page:1,page_size:40,agent_search_type:2,name:""}),$=function(){return console.log(P),P=="my_agent"?D&&D.length>0?D:[]:j&&j.length>0?j:[]},Me=function(o){te(o)},U=function(){var i=K()(l()().mark(function o(p){var E,g,m=arguments;return l()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return E=m.length>1&&m[1]!==void 0?m[1]:!1,E&&(p.page=1),b.next=4,(0,N.gp)("/v1/agent/agent_list",p);case 4:g=b.sent,g.code==0&&(g.data.list.forEach(function(_e){_e.check=De(_e)}),p.agent_search_type==3?(k(E?u()(g.data.list):[].concat(u()(D),u()(g.data.list))),me(g.data.total_pages>I.current.page),Z("my_agent")):(console.log(E),W(E?u()(g.data.list):[].concat(u()(j),u()(g.data.list))),xe(g.data.total_pages>T.current.page),Z("more_agent")));case 6:case"end":return b.stop()}},o)}));return function(p){return i.apply(this,arguments)}}(),be=function(o){P=="my_agent"?(I.current.name=o.target.value,U(I.current,!0)):(T.current.name=o.target.value,U(T.current,!0))},Z=function(o){var p=x.current.filter(function(E){return E.type==o}).length;q(function(E){return E[o]=p,E})},Pe=function(o,p,E){p.type=o;var g=x.current.filter(function(m){return m.agent_id==p.agent_id});x.current.forEach(function(m,ue){var b;m.agent_id==((b=g[0])===null||b===void 0?void 0:b.agent_id)&&x.current.splice(ue,1)}),x.current=g.length?u()(x.current):[].concat(u()(x.current),[p]),o=="my_agent"?(D.filter(function(m){m.agent_id==p.agent_id&&(m.check=!m.check)}),k(u()(D)),Z("my_agent")):(j.filter(function(m){m.agent_id==p.agent_id&&(m.check=!m.check)}),W(u()(j)),Z("more_agent"))},De=function(o){return x.current.filter(function(p){return p.agent_id==o.agent_id}).length},F=function(){le(),x.current=[],W([]),te("my_agent"),q({my_agent:0,more_agent:0})},je=function(){ce({checkAgent:x.current}),F()};return(0,r.useEffect)(function(){z&&(V.length&&(x.current=V),I.current.name="",T.current.name="",U(I.current,!0),U(T.current,!0))},[z]),(0,e.jsx)("div",{ref:Ee,style:Q?{zIndex:Q}:{zIndex:30},className:'transition  w-full h-full fixed top-[0] left-[0] bg-[rgba(0,0,0,0.5)] flex items-center justify-center z-30"',children:(0,e.jsx)("div",{className:"w-[980px] h-[646px] bg-[#fff] rounded-[6px] transition",children:(0,e.jsxs)("div",{className:"flex flex-col h-full",children:[(0,e.jsxs)("div",{className:"text-[16px] flex items-center p-[20px]",style:{borderBottom:"1px solid #ebebeb"},children:[(0,e.jsx)("span",{className:"flex-1 text-[14px] font-[500] text-[#213044]",children:v.formatMessage({id:"app.check_agent_popup.title"})}),(0,e.jsx)(L.Z,{className:"text-[16px] cursor-pointer",onClick:F})]}),(0,e.jsxs)("div",{className:"p-[20px] pb-[0px] flex-1 min-h-[0]",children:[(0,e.jsxs)("div",{className:"flex items-center pb-[20px]",children:[(0,e.jsxs)("span",{className:"text-[#999]",children:[v.formatMessage({id:"app.check_agent_popup.chenck_text"}),"\uFF1A"]}),(0,e.jsxs)("div",{className:"flex items-center gap-x-[12px]",children:[(0,e.jsxs)("span",{className:"text-[#213044] text-[14px]",children:[v.formatMessage({id:"app.check_agent_popup.select_1"}),":"," ",Y.my_agent]}),(0,e.jsxs)("span",{className:"text-[#213044] text-[14px]",children:[v.formatMessage({id:"app.check_agent_popup.select_2"}),":"," ",Y.more_agent]})]})]}),(0,e.jsxs)("div",{className:"flex gap-x-[20px] pb-[20px]",children:[(0,e.jsx)(A.Z,{defaultValue:v.formatMessage({id:"app.check_agent_popup.select_1"}),style:{width:148,background:"#F7F7F7"},size:"large",className:"border-[#eee] text-[#213044] text-[12px] select_agent",popupClassName:"select_agent",onChange:Me,options:[{value:"my_agent",label:v.formatMessage({id:"app.check_agent_popup.select_1"})},{value:"more_agent",label:v.formatMessage({id:"app.check_agent_popup.select_2"})}]}),(0,e.jsx)(S.Z,{className:"w-[320px] input_agent",onPressEnter:be,size:"large",placeholder:v.formatMessage({id:"app.check_agent_popup.search"}),prefix:(0,e.jsx)("img",{src:"/icons/search_icon.svg",className:"w-[16px] h-[16px] mr-[10px]"})})]}),(0,e.jsx)("div",{className:"overflow-y-auto",id:"agentScroll",style:{height:"calc(100% - 100px)"},children:(0,e.jsx)(R.Z,{dataLength:P=="my_agent"?D.length:j.length,elid:"agentScroll",ishasMore:P=="my_agent"?pe:ve,upSlide:function(){U(P=="my_agent"?I:T)},children:(0,e.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,e.jsx)(G.Z,{gutter:[15,15],children:$()&&$().length?$().map(function(i,o){return(0,e.jsx)(c.Z,{span:6,children:(0,e.jsxs)("div",{className:"bg-[#fff] flex gap-x-[20px] p-[10px] cursor-pointer border-solid border-[1px] rounded-[4px] ".concat(i.check?"border-[#1B64F3]":"border-[#eee]"),onClick:function(){Pe(P,i,o)},children:[(0,e.jsx)("div",{className:"w-[40px] h-[40px] bg-[#F4F8F1] rounded-[6px] relative flex items-center justify-center shrink-0",children:(0,e.jsx)("img",{src:(0,B.s9)("single",i.icon),alt:"",className:"w-[20px]  h-[20px]"})}),(0,e.jsxs)("div",{className:"flex flex-col gap-y-[5px] justify-center flex-1 min-w-[0]",children:[(0,e.jsx)("div",{className:"text-[#213044] text-[12px] font-[500] w-full truncate",children:i.name}),(0,e.jsx)("div",{className:"text-[#999] text-[12px] w-full truncate",children:i.description})]})]})},i.agent_id)}):(0,e.jsx)("div",{className:"w-full h-[380px] flex justify-center items-center",children:(0,e.jsx)(n.Z,{style:{margin:"0px",fontSize:"16px"},imageStyle:{width:"60px",margin:"0 auto",marginBottom:"2px"},description:v.formatMessage({id:"app.dashboard.None"}),image:n.Z.PRESENTED_IMAGE_SIMPLE})})})})})})]}),(0,e.jsxs)("div",{className:"p-[20px] flex gap-x-[20px] justify-end",style:{borderTop:"1px solid #e8e8e8"},children:[(0,e.jsx)(a.ZP,{className:"text-[14px] text-[#213044] w-[88px] h-[40px]",style:{border:"1px solid #D8D8D8"},onClick:F,children:v.formatMessage({id:"app.check_agent_popup.cancel"})}),(0,e.jsx)(a.ZP,{type:"primary",className:"bg-[#1B64F3] rounded-[4px] w-[88px] h-[40px]",htmlType:"submit",onClick:je,children:v.formatMessage({id:"app.check_agent_popup.save"})})]})]})})})};O.Z=t}}]);
