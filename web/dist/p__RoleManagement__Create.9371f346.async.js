"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3736],{82826:function(D,i,e){e.d(i,{Z:function(){return n}});var _=e(1413),o=e(67294),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},c=u,f=e(91146),d=function(t,g){return o.createElement(f.Z,(0,_.Z)((0,_.Z)({},t),{},{ref:g,icon:c}))},M=o.forwardRef(d),n=M},48398:function(D,i,e){e.r(i);var _=e(15009),o=e.n(_),u=e(99289),c=e.n(u),f=e(5574),d=e.n(f),M=e(82826),n=e(59586),E=e(45360),t=e(83622),g=e(4393),v=e(55102),O=e(84567),I=e(67294),h=e(76772),L=e(32060),a=e(85893),x=function(C){var R=C.permissionsList,s=(0,h.useIntl)(),T=n.Z.useForm(),B=d()(T,1),Z=B[0],N=(0,I.useState)(!1),P=d()(N,2),b=P[0],w=P[1],K=function(){var l=c()(o()().mark(function p(m){var A;return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return w(!0),r.prev=1,r.next=4,(0,L.fA)({name:m.name,description:m.description,list:m.permissions});case 4:A=r.sent,A.code===0&&(E.ZP.success(s.formatMessage({id:"workflow.roleManagement.createSuccess"})),h.history.push("/role-management")),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),console.error("Failed to create role:",r.t0);case 11:return r.prev=11,w(!1),r.finish(11);case 14:case"end":return r.stop()}},p,null,[[1,8,11,14]])}));return function(m){return l.apply(this,arguments)}}(),j=function(){h.history.push("/role-management")};return(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[(0,a.jsx)(t.ZP,{type:"text",icon:(0,a.jsx)(M.Z,{}),onClick:j,className:"mr-4",children:s.formatMessage({id:"workflow.roleManagement.back"})}),(0,a.jsx)("h1",{className:"text-2xl font-semibold",children:s.formatMessage({id:"workflow.roleManagement.createRole"})})]}),(0,a.jsx)(g.Z,{children:(0,a.jsxs)(n.Z,{form:Z,layout:"vertical",onFinish:K,disabled:b,children:[(0,a.jsx)(n.Z.Item,{name:"name",label:s.formatMessage({id:"workflow.roleManagement.roleName"}),rules:[{required:!0,message:s.formatMessage({id:"workflow.roleManagement.roleNameRequired"})},{max:50,message:s.formatMessage({id:"workflow.roleManagement.roleNameMaxLength"})}],children:(0,a.jsx)(v.Z,{placeholder:s.formatMessage({id:"workflow.roleManagement.roleNamePlaceholder"})})}),(0,a.jsx)(n.Z.Item,{name:"description",label:s.formatMessage({id:"workflow.roleManagement.description"}),rules:[{required:!0,message:s.formatMessage({id:"workflow.roleManagement.descriptionRequired"})},{max:200,message:s.formatMessage({id:"workflow.roleManagement.descriptionMaxLength"})}],children:(0,a.jsx)(v.Z.TextArea,{rows:4,placeholder:s.formatMessage({id:"workflow.roleManagement.descriptionPlaceholder"})})}),(0,a.jsx)(n.Z.Item,{name:"permissions",label:s.formatMessage({id:"workflow.roleManagement.permissions"}),rules:[{required:!0,message:s.formatMessage({id:"workflow.roleManagement.permissionsRequired"})}],children:(0,a.jsx)(O.Z.Group,{className:"w-full",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:R.map(function(l){return(0,a.jsx)(O.Z,{value:l.id,className:"whitespace-nowrap",children:l.title},l.id)})})})}),(0,a.jsx)(n.Z.Item,{className:"mb-0",children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(t.ZP,{type:"primary",htmlType:"submit",loading:b,children:s.formatMessage({id:"workflow.roleManagement.create"})}),(0,a.jsx)(t.ZP,{onClick:j,children:s.formatMessage({id:"workflow.roleManagement.cancel"})})]})})]})})]})};i.default=x}}]);
