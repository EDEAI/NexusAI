"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7735],{36711:function(C,f,e){e.r(f),e.d(f,{waitTime:function(){return A},waitTimePromise:function(){return v}});var P=e(97857),w=e.n(P),I=e(5574),b=e.n(I),T=e(15009),l=e.n(T),D=e(99289),c=e.n(D),O=e(42237),R=e(29608),x=e(46944),M=e(35312),B=e(67294),p=e(85893),v=function(){var s=c()(l()().mark(function _(){var n,r=arguments;return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=r.length>0&&r[0]!==void 0?r[0]:100,a.abrupt("return",new Promise(function(h){setTimeout(function(){h(!0)},n)}));case 2:case"end":return a.stop()}},_)}));return function(){return s.apply(this,arguments)}}(),A=function(){var s=c()(l()().mark(function _(){var n,r=arguments;return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=r.length>0&&r[0]!==void 0?r[0]:100,a.next=3,v(n);case 3:case"end":return a.stop()}},_)}));return function(){return s.apply(this,arguments)}}();f.default=function(){var s=(0,M.useIntl)(),_=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:s.formatMessage({id:"workflow.toName",defaultMessage:""}),dataIndex:"app_runs_name",ellipsis:!0,fieldProps:{onChange:function(u){var t;o==null||(t=o.current)===null||t===void 0||t.submit()}}},{title:s.formatMessage({id:"workflow.created_time",defaultMessage:""}),dataIndex:"created_time",ellipsis:!0,width:180,tooltip:s.formatMessage({id:"workflow.created_time_des",defaultMessage:s.formatMessage({id:"workflow.created_time_des",defaultMessage:""})}),search:!1},{disable:!0,title:s.formatMessage({id:"workflow.status",defaultMessage:""}),dataIndex:"app_runs_status",filters:!0,onFilter:!0,ellipsis:!0,width:120,valueType:"select",fieldProps:{onChange:function(u){var t;o==null||(t=o.current)===null||t===void 0||t.submit()}},valueEnum:{1:{text:s.formatMessage({id:"workflow.running",defaultMessage:""}),status:"Processing"},2:{text:s.formatMessage({id:"workflow.runSc",defaultMessage:""}),status:"Success"},3:{text:s.formatMessage({id:"workflow.runF",defaultMessage:""}),status:"Error"}}},{title:"".concat(s.formatMessage({id:"workflow.elapsed_time",defaultMessage:""}),"S"),dataIndex:"elapsed_time",ellipsis:!0,width:100,tooltip:s.formatMessage({id:"workflow.run_time"}),search:!1},{title:"Tokens",key:"showTime",dataIndex:"total_tokens",width:100,hideInSearch:!0},{title:s.formatMessage({id:"workflow.user"}),dataIndex:"nickname",search:!1,width:120,ellipsis:!0,key:"user"}],n=(0,M.useSearchParams)(),r=b()(n,1),g=r[0],a=(0,R.Z)(function(i){return i.setRunPanelLogRecord}),h=g.get("app_id"),o=(0,B.useRef)(null);return(0,p.jsx)("div",{className:"h-full w-screen pl-[60px] box-border",children:(0,p.jsx)("div",{children:(0,p.jsx)(x.Z,{columns:_,formRef:o,form:{submitter:!1},cardBordered:!0,style:{height:"calc(100% - 20px)"},scroll:{y:"calc(100vh - 380px)",x:"100%"},request:function(){var i=c()(l()().mark(function u(t,E,j){var m;return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return console.log(t,E,j),d.next=3,(0,O.bB)(w()(w()({app_runs_name:"",app_runs_status:0},t),{},{app_id:h}));case 3:return m=d.sent,console.log(m),d.abrupt("return",{data:m.data.list,success:!0,total:m.data.total_count});case 6:case"end":return d.stop()}},u)}));return function(u,t,E){return i.apply(this,arguments)}}(),onRow:function(u){return{onClick:function(){console.log("Row clicked:",u),a(u)}}},editable:{type:"multiple"},rowKey:"app_runs_id",search:{labelWidth:"auto"},options:{setting:{listsHeight:600}},pagination:{pageSize:12,showSizeChanger:!1},dateFormatter:"string",headerTitle:s.formatMessage({id:"workflow.workflowLog",defaultMessage:""})})})})}}}]);
