(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[391],{82826:function(E,w,t){"use strict";t.d(w,{Z:function(){return r}});var g=t(1413),d=t(67294),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},a=z,D=t(91146),y=function(P,V){return d.createElement(D.Z,(0,g.Z)((0,g.Z)({},P),{},{ref:V,icon:a}))},C=d.forwardRef(y),r=C},89035:function(E,w,t){"use strict";t.d(w,{Z:function(){return r}});var g=t(1413),d=t(67294),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M516 673c0 4.4 3.4 8 7.5 8h185c4.1 0 7.5-3.6 7.5-8v-48c0-4.4-3.4-8-7.5-8h-185c-4.1 0-7.5 3.6-7.5 8v48zm-194.9 6.1l192-161c3.8-3.2 3.8-9.1 0-12.3l-192-160.9A7.95 7.95 0 00308 351v62.7c0 2.4 1 4.6 2.9 6.1L420.7 512l-109.8 92.2a8.1 8.1 0 00-2.9 6.1V673c0 6.8 7.9 10.5 13.1 6.1zM880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"code",theme:"outlined"},a=z,D=t(91146),y=function(P,V){return d.createElement(D.Z,(0,g.Z)((0,g.Z)({},P),{},{ref:V,icon:a}))},C=d.forwardRef(y),r=C},69243:function(E,w,t){"use strict";t.d(w,{Z:function(){return r}});var g=t(1413),d=t(67294),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 140H96c-17.7 0-32 14.3-32 32v496c0 17.7 14.3 32 32 32h380v112H304c-8.8 0-16 7.2-16 16v48c0 4.4 3.6 8 8 8h432c4.4 0 8-3.6 8-8v-48c0-8.8-7.2-16-16-16H548V700h380c17.7 0 32-14.3 32-32V172c0-17.7-14.3-32-32-32zm-40 488H136V212h752v416z"}}]},name:"desktop",theme:"outlined"},a=z,D=t(91146),y=function(P,V){return d.createElement(D.Z,(0,g.Z)((0,g.Z)({},P),{},{ref:V,icon:a}))},C=d.forwardRef(y),r=C},2068:function(E,w,t){"use strict";t.d(w,{Z:function(){return r}});var g=t(1413),d=t(67294),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm376 116c-119.3 0-216 96.7-216 216s96.7 216 216 216 216-96.7 216-216-96.7-216-216-216zm107.5 323.5C750.8 868.2 712.6 884 672 884s-78.8-15.8-107.5-44.5C535.8 810.8 520 772.6 520 732s15.8-78.8 44.5-107.5C593.2 595.8 631.4 580 672 580s78.8 15.8 107.5 44.5C808.2 653.2 824 691.4 824 732s-15.8 78.8-44.5 107.5zM761 656h-44.3c-2.6 0-5 1.2-6.5 3.3l-63.5 87.8-23.1-31.9a7.92 7.92 0 00-6.5-3.3H573c-6.5 0-10.3 7.4-6.5 12.7l73.8 102.1c3.2 4.4 9.7 4.4 12.9 0l114.2-158c3.9-5.3.1-12.7-6.4-12.7zM440 852H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"file-done",theme:"outlined"},a=z,D=t(91146),y=function(P,V){return d.createElement(D.Z,(0,g.Z)((0,g.Z)({},P),{},{ref:V,icon:a}))},C=d.forwardRef(y),r=C},15360:function(E,w,t){"use strict";t.d(w,{Z:function(){return r}});var g=t(1413),d=t(67294),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},a=z,D=t(91146),y=function(P,V){return d.createElement(D.Z,(0,g.Z)((0,g.Z)({},P),{},{ref:V,icon:a}))},C=d.forwardRef(y),r=C},14955:function(E,w,t){"use strict";t.r(w),t.d(w,{default:function(){return tt}});var g=t(15009),d=t.n(g),z=t(97857),a=t.n(z),D=t(99289),y=t.n(D),C=t(5574),r=t.n(C),L=t(11551),P=t(47520),V=t(29432),Ie=t(2068),ze=t(89035),De=t(15360),Ce=t(82826),Pe=t(69243),_=t(35312),i=t(40741),k=t(45360),de=t(28036),Ve=t(50136),h=t(67294),X=t(92939),R=t(26915),J=t(72269),oe=t(34041),S=t(78045),e=t(85893),Te=R.Z.TextArea,Ee=function(n){var s=n.Detaillist,H=n.repository,x=n.Operationbentate,b=n.Ffromref,te=n.Fourthly_config_id,B=n.Fourthly_select_list,l=(0,_.useIntl)(),ae=(0,h.useState)([]),G=r()(ae,2),c=G[0],se=G[1];(0,h.useEffect)(function(){U()},[]);var U=function(){var $=y()(d()().mark(function f(){var M;return d()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,(0,L.zl)();case 2:M=O.sent,se(M.data.data.map(function(A){return{value:A.dataset_id,label:A.name}}));case 4:case"end":return O.stop()}},f)}));return function(){return $.apply(this,arguments)}}(),ie={readOnly:!0},j={disabled:!0};return(0,e.jsxs)("div",{style:{height:"100%",width:"900px",marginBottom:"30px"},children:[(0,e.jsx)("div",{className:"flex align-center justify-between mt-[30px]",children:(0,e.jsx)("div",{className:"text-base font-medium mb-[30px] text-[#333333]",children:l.formatMessage({id:"agent.menu.basicsetup"})})}),(0,e.jsx)("div",{className:"w-full",children:(0,e.jsxs)(i.Z,{name:"dynamic_form_nest_item",style:{width:900},autoComplete:"off",form:b,children:[s&&s.app.attrs_are_visible===0?(0,e.jsx)(i.Z.List,{name:"users",children:function(f,M){var Y=M.add,O=M.remove;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(i.Z.Item,{className:"mb-[30px]",children:(0,e.jsxs)("div",{className:"text-[#555555] text-xs",children:[(0,e.jsx)("div",{className:"font-medium  mb-[15px]",children:l.formatMessage({id:"agent.appname"})}),(0,e.jsxs)("div",{className:"w-full p-3.5 flex font-normal items-center bg-[#F7F7F7] rounded-lg",children:[(0,e.jsxs)("div",{children:[s&&s.app&&s.app.name,"\xA0"]}),(0,e.jsx)("div",{className:"",children:x==="true"?l.formatMessage({id:"agent.cannotmodify"}):""})]})]})}),(0,e.jsx)(i.Z.Item,{className:"mb-[30px]",children:(0,e.jsxs)("div",{className:"text-[#555555] text-xs",children:[(0,e.jsx)("div",{className:"font-medium  mb-[15px]",children:l.formatMessage({id:"agent.appdescription"})}),(0,e.jsx)("div",{className:"w-full p-3.5 flex font-normal items-center bg-[#F7F7F7] rounded-lg",children:s&&s.app&&s.app.description})]})})]})}}):(0,e.jsx)(i.Z.List,{name:"users",children:function(f,M){var Y=M.add,O=M.remove;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(i.Z.Item,{className:"mb-[30px]",children:(0,e.jsxs)("div",{className:"text-[#555555] text-xs",children:[(0,e.jsx)("div",{className:"font-medium  mb-[15px]",children:l.formatMessage({id:"agent.appname"})}),(0,e.jsxs)("div",{className:"w-full p-3.5 flex font-normal items-center bg-[#F7F7F7] rounded-lg",children:[(0,e.jsxs)("div",{children:[s&&s.app&&s.app.name,"\xA0"]}),(0,e.jsx)("div",{className:"",children:x==="true"?l.formatMessage({id:"agent.cannotmodify"}):""})]})]})}),(0,e.jsx)(i.Z.Item,{className:"mb-[30px]",children:(0,e.jsxs)("div",{className:"text-[#555555] text-xs",children:[(0,e.jsx)("div",{className:"font-medium  mb-[15px]",children:l.formatMessage({id:"agent.appdescription"})}),(0,e.jsx)("div",{className:"w-full p-3.5 flex font-normal items-center bg-[#F7F7F7] rounded-lg",children:s&&s.app&&s.app.description})]})}),(0,e.jsx)(i.Z.Item,{className:"mb-[30px]",children:(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"mb-[30px]",children:[(0,e.jsx)("div",{className:"mb-[15px] text-[#555555] text-xs",children:(0,e.jsx)(X.Z,{className:"font-medium",name:l.formatMessage({id:"agent.teamvisibility"}),title:l.formatMessage({id:"agent.explain.teamvisibility"})})}),(0,e.jsx)(J.Z,a()(a()({},j),{},{size:"small",checked:!!(s&&s.app.is_public===1)}))]}),(0,e.jsxs)("div",{className:"mb-[30px]  font-medium",children:[(0,e.jsx)("div",{className:"mb-[15px] text-[#555555] text-xs",children:l.formatMessage({id:"agent.attrVisible"})}),(0,e.jsx)(J.Z,a()(a()({},j),{},{size:"small",checked:!!(s&&s.app.attrs_are_visible===1)}))]}),(0,e.jsxs)("div",{className:"mb-[30px]  font-medium",children:[(0,e.jsx)("div",{className:"mb-[15px] text-[#555555] text-xs",children:l.formatMessage({id:"agent.APIswitch"})}),(0,e.jsx)(J.Z,a()(a()({},j),{},{size:"small",checked:!!(s&&s.app.enable_api===1)}))]}),(0,e.jsxs)("div",{className:"font-medium",children:[(0,e.jsx)("div",{className:"mb-[15px] text-[#555555] text-xs",children:l.formatMessage({id:"agent.filesupload"})}),(0,e.jsx)(J.Z,a()(a()({},j),{},{size:"small",checked:!!(s&&s.agent.allow_upload_file==1)}))]})]})}),(0,e.jsx)(i.Z.Item,{className:"mb-[30px]",children:(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"mb-[15px] text-[#555555] text-xs font-medium",children:l.formatMessage({id:"agent.LLMmodel"})}),(0,e.jsx)(oe.Z,a()(a()({},j),{},{"aria-readonly":"true",style:{width:270},variant:"filled",value:te,options:B}))]})}),(0,e.jsx)(i.Z.Item,{className:"mb-[30px]",name:"obligations",children:(0,e.jsxs)("div",{className:"w-full",children:[(0,e.jsx)("div",{className:"mb-[15px] text-[#555555] text-xs",children:(0,e.jsx)(X.Z,{name:l.formatMessage({id:"agent.functiondescription"}),title:l.formatMessage({id:"agent.explain.function"})})}),(0,e.jsx)(Te,a()(a()({},j),{},{value:s&&s.agent&&s.agent.obligations,variant:"filled",autoSize:{minRows:8,maxRows:10}}))]})}),(0,e.jsx)("div",{className:"mb-[11px] text-xs font-bold flex justify-between items-center",children:(0,e.jsx)("div",{className:"text-[#555555] text-xs",children:(0,e.jsx)(X.Z,{className:"font-medium",name:l.formatMessage({id:"agent.inputvariable"}),title:l.formatMessage({id:"agent.explain.inputvariable"})})})}),(0,e.jsxs)("div",{className:"w-full flex justify-start items-center text-xs font-medium px-2.5 text-[#555555] h-12 bg-[#F7F7F7] rounded-t-lg",children:[(0,e.jsx)("div",{className:"w-[300px] ml-[10px]",children:l.formatMessage({id:"agent.variable.name"})}),(0,e.jsx)("div",{className:"w-[300px]",children:l.formatMessage({id:"agent.variable.display"})}),(0,e.jsx)("div",{className:"w-[230px]",children:l.formatMessage({id:"agent.variable.type"})}),(0,e.jsx)("div",{className:"w-[70px]",children:l.formatMessage({id:"agent.variable.required"})})]}),(0,e.jsx)("div",{className:"mb-[30px]",children:b&&b.getFieldValue("users")&&b.getFieldValue("users").map(function(A,Q){return(0,e.jsxs)("div",{className:"w-full h-20 flex justify-start  px-2.5 border-b border-x pt-7 last:rounded-b-lg",children:[(0,e.jsx)(i.Z.Item,{className:"m-0",children:(0,e.jsx)(R.Z,a()(a()({value:A.name},j),{},{placeholder:l.formatMessage({id:"agent.variable.name"}),className:"w-[280px] mr-[20px]"}))}),(0,e.jsx)(i.Z.Item,{className:"m-0",children:(0,e.jsx)(R.Z,a()(a()({value:A.content},j),{},{placeholder:l.formatMessage({id:"agent.variable.display"}),className:"w-[270px] mr-[20px]"}))}),(0,e.jsx)(i.Z.Item,{className:"mr-[80px] m-0",children:(0,e.jsx)(oe.Z,a()(a()({},j),{},{style:{width:"150px"},value:A.type,defaultValue:"string",options:[{value:"string",label:"string"},{value:"number",label:"number"}]}))}),(0,e.jsx)(i.Z.Item,{className:"w-12 mr-14 m-0 ",children:(0,e.jsx)(J.Z,a()(a()({checked:A.status},j),{},{size:"small"}))})]})})}),(0,e.jsxs)(i.Z.Item,{className:"mb-[30px]",children:[(0,e.jsx)("div",{className:"text-[#555555] text-xs mb-[15px]",children:(0,e.jsx)(X.Z,{className:"font-medium",name:l.formatMessage({id:"agent.associatedknowledgebase"}),title:l.formatMessage({id:"agent.explain.associatedknowledgebase"})})}),(0,e.jsx)(oe.Z,a()(a()({},j),{},{size:"large",mode:"tags",style:{width:"100%"},placeholder:l.formatMessage({id:"agent.pleaseselect"}),value:H,variant:"filled",options:c}))]}),(0,e.jsx)(i.Z.Item,{className:"mb-[30px]",children:(0,e.jsxs)("div",{className:"",children:[(0,e.jsxs)("div",{className:"text-[#555555] text-xs mb-[15px]",children:[" ",l.formatMessage({id:"agent.defaultoutputformat"})]}),(0,e.jsxs)(S.ZP.Group,a()(a()({},j),{},{value:s&&s.agent.default_output_format,children:[(0,e.jsx)(S.ZP,{value:1,children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-normal",children:"text"})}),(0,e.jsx)(S.ZP,{value:2,children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-normal",children:"json"})}),(0,e.jsx)(S.ZP,{value:3,children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-normal",children:"code"})})]}))]})})]})}}),(0,e.jsx)("div",{className:"h-[30px] w-1"})]})})]})},Le=Ee,Re=t(13769),He=t.n(Re),Be=t(49677),$e=t.n(Be),We=t(92485),Ge=t(85877),Ke=t(39944),Ze=t(10759),ke=t(71471),Xe=t(74330),Je=["key","name"],ot=ke.Z.Title,ct=R.Z.TextArea,ut=R.Z.Search,Ue=function(n){var s=n.Detaillist,H=n.setDetaillist,x=n.Fourthly_select_list,b=n.setFourthly_config_id,te=n.Fourthly_config_id,B=n.Fourthlyref,l=n.Fourthly_abilities_list,ae=n.Operationbentate,G=n.callwordlist,c=(0,_.useIntl)(),se=(0,h.useState)(0),U=r()(se,2),ie=U[0],j=U[1],$=(0,h.useState)(""),f=r()($,2),M=f[0],Y=f[1],O=(0,h.useState)(""),A=r()(O,2),Q=A[0],ve=A[1],ce=(0,h.useState)(!1),le=r()(ce,2),pe=le[0],ne=le[1],he={readOnly:!0},ge={disabled:!0},ue=function(u){var v={user:{value:ye(u)}};Y(new Ke.z(v))},je=function(u){j(u)},me=function(u){var v=u.users.filter(function(m,K){return m.type=="number"&&!Number(m.value)&&!!m.value});if(!M.user)k.ZP.warning(c.formatMessage({id:"agent.message.warning.callword"}));else if(v.length>0)k.ZP.warning(c.formatMessage({id:"agent.message.warning.datatype"}));else{ne(!0);var N=new Ze.Kr("input","","");u.users.forEach(function(m){var K=new Ze._w(m.name,m.type?m.type:"string",m.type=="string"?m.value:Number(m.value),m.content,m.status);N.addProperty(m.name,K)});var o={agent_id:s.agent.agent_id,ability_id:ie,input_dict:N,prompt:M};be(o)}},ye=function F(u){return u.map(function(v){return v.type==="mention"?v.id:v.children?F(v.children):v.text}).join("")},be=function(){var F=y()(d()().mark(function u(v){return d()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:(0,L.LH)(v).then(function(m){k.ZP.success(c.formatMessage({id:"agent.message.success.runpublish"})),ve(m.data.outputs.text),ne(!1)}).catch(function(m){ne(!1)});case 1:case"end":return o.stop()}},u)}));return function(v){return F.apply(this,arguments)}}(),Fe=function(){var F=y()(d()().mark(function u(){var v;return d()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,L.Dh)(s.agent.agent_id);case 2:v=o.sent,v.code==0?k.ZP.success("success"):k.ZP.error("error");case 4:case"end":return o.stop()}},u)}));return function(){return F.apply(this,arguments)}}(),xe=function(){var F=y()(d()().mark(function u(){return d()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:_.history.push("/Agents?app_id=".concat(s.app.app_id,"&type=false")),location.reload();case 2:case"end":return N.stop()}},u)}));return function(){return F.apply(this,arguments)}}();return(0,h.useEffect)(function(){},[]),(0,e.jsxs)("div",{style:{height:"100%"},children:[(0,e.jsx)("div",{className:"text-base font-medium text-[#333333] my-[30px]",children:c.formatMessage({id:"agent.operationrun"})}),(0,e.jsxs)("div",{className:"mb-[30px]",children:[(0,e.jsx)("div",{className:"mb-[15px] text-[#555555] text-xs font-medium",children:c.formatMessage({id:"agent.selectivepower"})}),(0,e.jsx)(oe.Z,{placeholder:c.formatMessage({id:"agent.pleaseselect"}),defaultValue:c.formatMessage({id:"agent.allability"}),variant:"filled",style:{width:390,fontSize:"12px",color:"#BBBBBB",fontWeight:"400"},onChange:je,options:l})]}),(0,e.jsx)("div",{children:(0,e.jsxs)(i.Z,{name:"dynamic_form_nest_item",onFinish:me,style:{width:900},autoComplete:"off",form:B,children:[(0,e.jsx)("div",{className:"mb-[15px] text-[#555555] text-xs font-medium",children:c.formatMessage({id:"agent.inputvariable"})}),(0,e.jsx)(i.Z.List,{name:"users",children:function(u,v){return $e()(v),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"w-full flex justify-start items-center text-xs font-medium px-[10px] text-[#213044] h-12 bg-[#F7F7F7]  rounded-t-lg",children:[(0,e.jsx)("div",{className:"w-48 mr-5 ml-2.5",children:c.formatMessage({id:"agent.variable.name"})}),(0,e.jsx)("div",{className:"w-52",children:c.formatMessage({id:"agent.variable.value"})})]}),(0,e.jsx)("div",{className:"mb-[30px]",children:u.map(function(N){var o=N.key,m=N.name,K=He()(N,Je);return(0,e.jsxs)("div",{className:"w-full h-20 flex justify-start  px-2.5 border-b border-x pt-7 last:rounded-b-lg",children:[(0,e.jsx)(i.Z.Item,a()(a()({},K),{},{name:[m,"content"],children:(0,e.jsx)(R.Z,{className:"w-48 mr-5",style:{color:"#213044",fontWeight:"400",fontSize:"12px"},variant:"borderless",disabled:!0})})),(0,e.jsx)(i.Z.Item,a()(a()({},K),{},{name:[m,"value"],rules:[{required:!!(B.getFieldsValue()&&B.getFieldsValue().users[o].status==!0),message:c.formatMessage({id:"agent.rules.veriablevalue"})}],children:(0,e.jsx)(R.Z,{style:{width:"660px"},placeholder:B.getFieldsValue()&&B.getFieldsValue().users[o].status==!0?c.formatMessage({id:"agent.variable.required.value"}):c.formatMessage({id:"agent.variable.value"})})}))]})})})]})}}),(0,e.jsxs)(i.Z.Item,{rules:[{required:!0,message:c.formatMessage({id:"agent.rules.callwordvalue"})}],children:[(0,e.jsx)("div",{className:"mb-[15px] text-[#555555] text-xs font-medium",children:c.formatMessage({id:"agent.runpreview"})}),(0,e.jsxs)("div",{className:"bg-[#F7F7F7] p-3.5 rounded-lg",children:[(0,e.jsx)(Xe.Z,{spinning:pe,children:(0,e.jsx)("div",{className:"h-[345px] mb-[30px]",children:Q?(0,e.jsx)(We.Z,{language:"python3",value:Q&&JSON.stringify(Q)}):null})}),(0,e.jsxs)("div",{className:"agents-input p-2 bg-white border rounded-md my-2 flex items-center justify-between",style:{border:"1px solid #EEE"},children:[(0,e.jsx)("div",{className:"w-full",children:(0,e.jsx)(Ge.Z,{onChange:function(u){console.log(G),ue(u)},options:G})}),(0,e.jsx)("div",{className:"w-8 h-8 bg-[#e8effc] rounded-md",children:(0,e.jsx)(de.ZP,{className:"bg-[#e8effc]",icon:(0,e.jsx)("img",{src:"/icons/fs.svg"}),type:"link",htmlType:"submit",block:!0})})]})]})]}),(0,e.jsx)(i.Z.Item,{children:(0,e.jsx)("div",{className:"w-28",children:(s==null?void 0:s.agent.publish_status)===1&&(s==null?void 0:s.is_creator)===1?(0,e.jsx)("div",{children:(0,e.jsx)(de.ZP,{type:"primary",htmlType:"submit",className:"w-full",onClick:xe,children:c.formatMessage({id:"agent.amend"})})}):(0,e.jsx)("div",{children:(0,e.jsx)(de.ZP,{type:"primary",htmlType:"submit",className:"w-full",disabled:ae!="false",onClick:Fe,children:c.formatMessage({id:"agent.publish"})})})})})]})}),(0,e.jsx)("div",{className:"h-10 w-1"})]})},Ye=Ue,Qe=R.Z.TextArea,mt={readOnly:!0},ee={disabled:!0},qe=function(n){var s=n.Detaillist,H=n.Sformref,x=(0,_.useIntl)();return(0,h.useEffect)(function(){}),(0,e.jsxs)("div",{style:{height:"100%"},children:[(0,e.jsx)("div",{className:"text-base font-medium text-[#333333] my-[30px]",children:x.formatMessage({id:"agent.Applicationcapabilitysetting"})}),(0,e.jsxs)("div",{className:"mb-[30px]",children:[(0,e.jsx)("div",{className:"mb-[15px] text-[#555555] text-xs font-medium",children:(0,e.jsx)(X.Z,{name:x.formatMessage({id:"agent.automatch"}),title:x.formatMessage({id:"agent.explain.automatch"})})}),(0,e.jsx)(J.Z,a()(a()({},ee),{},{size:"small",checked:!!(s&&s.agent.auto_match_ability==1)}))]}),(0,e.jsx)("div",{className:"w-full",children:(0,e.jsxs)(i.Z,{name:"dynamic_form_nest_item",style:{width:900},autoComplete:"off",form:H,children:[(0,e.jsx)("div",{className:"w-full flex items-center justify-between mb-[11px]",children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-medium",children:x.formatMessage({id:"agent.capability"})})}),H&&H.getFieldValue("users")&&H.getFieldValue("users").map(function(b,te){return(0,e.jsxs)("div",{className:"bg-[#F7F7F7] p-[15px] rounded-lg mb-[20px]",children:[(0,e.jsx)(i.Z.Item,{className:"mb-0",children:(0,e.jsx)("div",{className:"w-full flex justify-between items-center mb-[15px]",children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-medium",children:x.formatMessage({id:"agent.capabilityname"})})})}),(0,e.jsx)(i.Z.Item,{className:"mb-[20px]",children:(0,e.jsx)(R.Z,a()(a()({},ee),{},{placeholder:x.formatMessage({id:"agent.capabilityname"}),value:b.name,className:"w-80"}))}),(0,e.jsx)("div",{className:"mb-[15px]",children:(0,e.jsx)(X.Z,{className:"text-[#555555] text-xs font-medium",name:x.formatMessage({id:"agent.capabilitydescription"}),title:x.formatMessage({id:"agent.explain.capabilitydescription"})})}),(0,e.jsx)(i.Z.Item,{className:"w-full mb-[20px]",children:(0,e.jsx)(Qe,a()(a()({value:b.content},ee),{},{placeholder:x.formatMessage({id:"agent.capabilitydescription"}),autoSize:{minRows:3,maxRows:10},style:{width:"700px"}}))}),(0,e.jsx)("div",{className:"text-[#555555] text-xs font-medium mb-[15px]",children:x.formatMessage({id:"agent.capabilitystatus"})}),(0,e.jsx)(i.Z.Item,{className:"mb-[20px]",children:(0,e.jsxs)(S.ZP.Group,a()(a()({value:b.status,optionType:"button",buttonStyle:"solid"},ee),{},{defaultValue:!0,children:[(0,e.jsx)(S.ZP,{value:!0,children:x.formatMessage({id:"agent.capabilitystatus.enable"})}),(0,e.jsx)(S.ZP,{value:!1,children:x.formatMessage({id:"agent.capabilitystatus.disable"})})]}))}),(0,e.jsx)("div",{className:"text-[#555555] text-xs font-medium mb-[11px]",children:x.formatMessage({id:"agent.enableall"})}),(0,e.jsx)(i.Z.Item,{className:"mb-0",children:(0,e.jsxs)(S.ZP.Group,a()(a()({defaultValue:0,value:b.output_format},ee),{},{children:[(0,e.jsx)(S.ZP,{value:0,children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-normal",children:x.formatMessage({id:"agent.menu"})})}),(0,e.jsx)(S.ZP,{value:1,children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-normal",children:"text string"})}),(0,e.jsx)(S.ZP,{value:2,children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-normal",children:"format json"})}),(0,e.jsx)(S.ZP,{value:3,children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-normal",children:"code"})})]}))})]})}),(0,e.jsx)("div",{className:"h-[30px] w-1"})]})})]})},_e=qe,et=function(){var n=(0,_.useIntl)(),s=(0,h.useRef)(null),H=i.Z.useForm(),x=r()(H,1),b=x[0],te=i.Z.useForm(),B=r()(te,1),l=B[0],ae=i.Z.useForm(),G=r()(ae,1),c=G[0],se=i.Z.useForm(),U=r()(se,1),ie=U[0],j=(0,h.useState)(null),$=r()(j,2),f=$[0],M=$[1],Y=(0,h.useState)(null),O=r()(Y,2),A=O[0],Q=O[1],ve=(0,h.useState)(null),ce=r()(ve,2),le=ce[0],pe=ce[1],ne=(0,h.useState)(null),he=r()(ne,2),ge=he[0],ue=he[1],je=(0,h.useState)(null),me=r()(je,2),ye=me[0],be=me[1],Fe=(0,h.useState)(null),xe=r()(Fe,2),F=xe[0],u=xe[1],v=(0,h.useState)("1"),N=r()(v,2),o=N[0],m=N[1],K=(0,h.useState)(null),we=r()(K,2),at=we[0],st=we[1],it=[{key:"1",icon:(0,e.jsx)(Ie.Z,{}),label:n.formatMessage({id:"agent.menu.basicsetup"}),style:{padding:"15px",width:"100%",margin:"0px",marginBottom:"10px",fontSize:"16px",fontWeight:"500",color:o=="1"?"#1B64F3":"#213044"}},{key:"2",icon:(0,e.jsx)(ze.Z,{}),label:n.formatMessage({id:"agent.menu.Capacityoutput"}),disabled:f&&f.app.attrs_are_visible===0,style:{padding:"15px",width:"100%",margin:"0px",marginBottom:"10px",fontSize:"16px",fontWeight:"500",color:o=="2"?"#1B64F3":"#213044"}},{key:"4",icon:(0,e.jsx)(De.Z,{}),label:n.formatMessage({id:"agent.menu.operation"}),style:{padding:"15px",width:"100%",margin:"0px",marginBottom:"10px",fontSize:"16px",fontWeight:"500",color:o=="3"?"#1B64F3":"#213044"}}];(0,h.useEffect)(function(){lt()},[]);var lt=function(){var q=y()(d()().mark(function I(){var T,p,W,Se,Ne,Oe,Ae;return d()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return T=new URLSearchParams(window.location.search),console.log(T.get("type")),re.next=4,(0,L.ek)(T.get("app_id"),T.get("type"));case 4:p=re.sent,W=p.data,p.data.agent_dataset_relation_list&&p.data.agent_dataset_relation_list.length&&(Se=p.data.agent_dataset_relation_list.map(function(Z){return Z.dataset_id}),Q(Se)),M(p.data),u(p.data.agent.publish_status===0&&p.data.is_creator===1?"false":"true"),p.data.agent.publish_status===1&&k.ZP.warning(n.formatMessage({id:"agent.message.listwarning"}),5),b.setFieldsValue(nt(W.agent.input_variables)),p.data.agent_abilities_list&&(Ne=p.data.agent_abilities_list.map(function(Z){return Z.status==1?a()(a()({},Z),{},{status:!0}):a()(a()({},Z),{},{status:!1})}),c.setFieldsValue({users:Ne[0]?Ne:[{agent_ability_id:0,name:"",content:"",status:!0}]}),Oe=W.agent_abilities_list.filter(function(Z){return Z.output_format!==0}),l.setFieldsValue({users:Oe.map(function(Z){return{agent_ability_id:Z.agent_ability_id,output_format:Z.output_format}})})),W.m_configurations_list&&pe(W.m_configurations_list.map(function(Z){return{value:Z.m_config_id,label:Z.m_name}})),ue(W.agent.m_config_id),W.agent_abilities_list&&(Ae=W.agent_abilities_list.filter(function(Z,ft){return Z.status===1}),be(rt(Ae).concat([{value:0,label:n.formatMessage({id:"agent.allability"})}])));case 15:case"end":return re.stop()}},I)}));return function(){return q.apply(this,arguments)}}(),nt=function(I){console.log(!!I&&!!I.properties,"obj");var T={users:I&&I.properties?Object.values(I.properties).map(function(p){return{name:p.name,type:p.type,content:p.display_name,status:p.required}}):[{name:"",content:"",type:"string",agent_ability_id:0,output_format:0,status:0}]};return T},rt=function(I){return I.map(function(T){return{value:T.agent_ability_id,label:T.name}})},dt=function(){Me({key:o,keyPath:[],item:void 0,domEvent:void 0}),history.back()},Me=function(I){if(console.log(f.agent.obligations,"1111",c.getFieldsValue().users),o=="1"){var T=b.getFieldsValue().users.map(function(p){return{value:"<<".concat(V.qX,".inputs.").concat(p.name,">>"),label:p.name}});ie.setFieldsValue(b.getFieldsValue()),st(T)}m(I.key)};return(0,e.jsxs)("div",{className:" flex bg-white",style:{height:"calc(100vh - 56px)"},children:[(0,e.jsxs)("div",{className:"flex flex-col w-[300px]",style:{height:"calc(100vh - 56px)"},children:[(0,e.jsx)("div",{className:"flex w-full items-center bg-white px-[30px] pt-[30px] border-[#e5e7eb] border-solid border-r",children:(0,e.jsxs)(de.ZP,{type:"link",shape:"circle",size:"middle",className:"",onClick:dt,children:[(0,e.jsx)(Ce.Z,{}),(0,e.jsx)("span",{className:"text-sm font-medium text-[#213044]",children:n.formatMessage({id:"agent.back"})})]})}),(0,e.jsxs)("div",{className:"w-full flex-1 px-[30px] py-[30px] bg-white border-[#e5e7eb] border-solid border-r",children:[(0,e.jsx)(Ve.Z,{selectedKeys:[o],onClick:Me,style:{width:"100%",borderInlineEnd:"1px solid rgba(0,0,0,0)"},defaultSelectedKeys:[o],mode:"inline",items:it}),f&&f.app.enable_api===1&&f.app.publish_status===1?(0,e.jsx)("div",{className:"w-full h-[40px] rounded-lg text-[#000] hover:bg-[#f0f0f0] p-[12px] pl-[16px] cursor-pointer",onClick:function(){window.open(P._n+f.app.api_url)},children:(0,e.jsxs)("div",{className:"mr-[20px]",children:[(0,e.jsx)(Pe.Z,{className:"mr-2"}),n.formatMessage({id:"agent.visit"}),"API"]})}):null]})]}),(0,e.jsx)("div",{className:"flex flex-col  ",style:{height:"calc(100vh - 56px)",width:"calc(100vw - 230px)",overflowY:"scroll",scrollbarWidth:"none"},children:(0,e.jsxs)("div",{className:"px-[30px] ",style:{overflowX:"auto",minWidth:"960px",height:"100%"},children:[(0,e.jsx)("div",{className:"w-full flex justify-center mt-[30px]",children:(0,e.jsxs)("div",{className:"flex items-center  w-[900px]",children:[(0,e.jsx)("div",{className:"mr-[10px] w-[16px] h-[16px]",children:(0,e.jsx)("img",{src:"/icons/flag.svg",alt:"",className:"w-[16px] h-[16px]"})}),(0,e.jsxs)("div",{className:"mr-[6px] text-lg text-[#213044] font-medium",children:[f?f.creator_nickname:"",n.formatMessage({id:"agent.agents"})]})]})}),(0,e.jsx)("div",{style:{display:o==="1"?"flex":"none",height:"calc(100vh - 146px)",justifyContent:"center"},children:(0,e.jsx)(Le,{Ffromref:b,Detaillist:f,repository:A,Operationbentate:F,Fourthly_config_id:ge,Fourthly_select_list:le})}),(0,e.jsx)("div",{style:{display:o==="2"?"flex":"none",height:"calc(100vh - 146px)",justifyContent:"center"},children:(0,e.jsx)(_e,{Detaillist:f,Sformref:c})}),(0,e.jsx)("div",{style:{display:o==="4"?"flex":"none",height:"calc(100vh - 146px)",justifyContent:"center"},children:(0,e.jsx)(Ye,{Detaillist:f,setDetaillist:M,Fourthly_select_list:le,Fourthly_config_id:ge,setFourthly_config_id:ue,Fourthlyref:ie,Fourthly_abilities_list:ye,Operationbentate:F,callwordlist:at})})]})})]})},tt=et},49677:function(E){function w(t){if(t==null)throw new TypeError("Cannot destructure "+t)}E.exports=w,E.exports.__esModule=!0,E.exports.default=E.exports}}]);
