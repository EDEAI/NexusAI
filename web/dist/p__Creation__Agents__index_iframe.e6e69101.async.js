"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[2266],{44685:function(C,g){var t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M290 236.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0013.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 000 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 00-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z"}}]},name:"fullscreen",theme:"outlined"};g.Z=t},24266:function(C,g,t){t.r(g);var S=t(97857),d=t.n(S),U=t(9783),E=t.n(U),R=t(15009),o=t.n(R),T=t(99289),m=t.n(T),B=t(5574),h=t.n(B),W=t(11551),I=t(32332),K=t(32060),N=t(45585),O=t(76772),z=t(45360),k=t(74330),c=t(67294),x=t(10696),F=t(43722),v=t(85893),H="wuyingjie1002@gmail.com",$="753753",Z=function(){var J=(0,O.useIntl)(),G=(0,c.useState)(null),j=h()(G,2),Q=j[0],b=j[1],V=(0,c.useState)(null),w=h()(V,2),X=w[0],ve=w[1],Y=(0,c.useState)(null),P=h()(Y,2),q=P[0],ee=P[1],ae=(0,c.useState)(!0),D=h()(ae,2),te=D[0],M=D[1],ne=(0,c.useState)("".concat(window.innerHeight,"px")),L=h()(ne,2),A=L[0],se=L[1];(0,c.useEffect)(function(){re()},[]),(0,c.useEffect)(function(){var _=function(){se("".concat(window.innerHeight,"px"))};return window.addEventListener("resize",_),function(){return window.removeEventListener("resize",_)}},[]);var re=function(){var _=m()(o()().mark(function s(){var a;return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le({password:$,username:H});case 2:return e.next=4,ce();case 4:return a=e.sent,e.next=7,ie(a.agent.agent_id);case 7:document.body.style.overflow="hidden";case 8:case"end":return e.stop()}},s)}));return function(){return _.apply(this,arguments)}}(),_e=function(){var _=m()(o()().mark(function s(a,n){var e,i,l;return o()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:e=localStorage.getItem("agent_chat_quickly_chatroom_ids"),i=E()({},a,n),e&&(l=JSON.parse(e),i=d()(d()({},l),{},E()({},a,n))),localStorage.setItem("agent_chat_quickly_chatroom_ids",JSON.stringify(i));case 4:case"end":return u.stop()}},s)}));return function(a,n){return _.apply(this,arguments)}}(),ue=function(s){var a=localStorage.getItem("agent_chat_quickly_chatroom_ids");if(a){var n=JSON.parse(a);return n[s]}},ie=function(){var _=m()(o()().mark(function s(a){var n,e;return o()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(n=ue(a),!n){l.next=5;break}return b(function(r){return d()(d()({},r),{},{agent_chatroom_id:n})}),setTimeout(function(){M(!1)},400),l.abrupt("return");case 5:return l.next=7,(0,F.dB)({description:"hhhhhhhhhhhhhhhhhhhhh",name:"\u8FD9\u662F\u7531agent[".concat(a,"]\u521B\u5EFA\u7684\u4E34\u65F6\u804A\u5929\u5BA4"),max_round:10,is_temporary:1,agent:[{agent_id:a,active:1}]});case 7:e=l.sent,e.code==0&&(_e(a,e.data.chatroom_id),b(function(r){return d()(d()({},r),{},{agent_chatroom_id:e.data.chatroom_id})})),setTimeout(function(){M(!1)},400);case 10:case"end":return l.stop()}},s)}));return function(a){return _.apply(this,arguments)}}(),le=function(){var _=m()(o()().mark(function s(a){var n,e,i;return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=a.password,e=a.username,r.next=4,(0,K.x4)({password:n,username:e});case 4:if(i=r.sent,!(i!=null&&i.access_token)){r.next=9;break}return r.next=8,de();case 8:return r.abrupt("return",!0);case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(0),console.log(r.t0),r.abrupt("return",!1);case 15:case"end":return r.stop()}},s,null,[[0,11]])}));return function(a){return _.apply(this,arguments)}}(),y=(0,N.ZP)(),oe=y.refreshUserInfo,p=y.userInfo,de=function(){var _=m()(o()().mark(function s(){return o()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,oe();case 2:(0,I.f1)("SET",6,!1,""),setTimeout(function(){(0,O.setLocale)((p==null?void 0:p.language)=="en"?"en-US":"zh-CN")},100);case 4:case"end":return n.stop()}},s)}));return function(){return _.apply(this,arguments)}}(),ce=function(){var _=m()(o()().mark(function s(a){var n,e,i,l;return o()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(n=new URLSearchParams(window.location.search),e=null,!(n.get("app_id")||a)){u.next=8;break}return u.next=5,(0,W.ek)(a||n.get("app_id"),n.get("type"));case 5:e=u.sent,u.next=11;break;case 8:return u.next=10,(0,I.cI)();case 10:e=u.sent;case 11:return i=e.data,e.data.callable_items&&(e.data.agent.selected_skills=[],e.data.agent.selected_workflows=[],e.data.callable_items.forEach(function(f){f.item_type==1?e.data.agent.selected_skills.push(d()(d()({},f),{},{mode:4})):e.data.agent.selected_workflows.push(d()(d()({},f),{},{mode:2}))})),b(e.data),ee(e.data.agent.publish_status===0&&e.data.is_creator===1?"false":"true"),e.data.agent.publish_status===1&&z.ZP.warning(J.formatMessage({id:"agent.message.listwarning"}),5),l=i.agent_abilities_list.filter(function(f,pe){return f.status===1}),u.abrupt("return",i);case 18:case"end":return u.stop()}},s)}));return function(a){return _.apply(this,arguments)}}(),be=function(s){return s.map(function(a){return{value:a.agent_ability_id,label:a.name}})},me=function(){return!1},he=function(){return!1},fe=function(){};return(0,v.jsx)("div",{className:" flex bg-white absolute w-full h-full top-0 left-0",style:{height:A},children:te?(0,v.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,v.jsx)(k.Z,{size:"large"})}):(0,v.jsx)(x.Z,{saveInfo:{firstjudgingcondition:me,secondjudgingcondition:he,agentupdata:fe},operationbentate:q,iframe:{height:A},data:{abilitiesList:X,detailList:Q}})})};g.default=Z}}]);
