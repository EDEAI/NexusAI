"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7735],{36711:function(C,f,e){e.r(f),e.d(f,{waitTime:function(){return A},waitTimePromise:function(){return b}});var E=e(97857),w=e.n(E),P=e(5574),I=e.n(P),j=e(15009),o=e.n(j),T=e(99289),c=e.n(T),D=e(42237),O=e(29608),R=e(46944),M=e(76772),x=e(67294),g=e(85893),b=function(){var t=c()(o()().mark(function _(){var n,r=arguments;return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=r.length>0&&r[0]!==void 0?r[0]:100,a.abrupt("return",new Promise(function(p){setTimeout(function(){p(!0)},n)}));case 2:case"end":return a.stop()}},_)}));return function(){return t.apply(this,arguments)}}(),A=function(){var t=c()(o()().mark(function _(){var n,r=arguments;return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=r.length>0&&r[0]!==void 0?r[0]:100,a.next=3,b(n);case 3:case"end":return a.stop()}},_)}));return function(){return t.apply(this,arguments)}}();f.default=function(){var t=(0,M.useIntl)(),_=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:t.formatMessage({id:"workflow.toName",defaultMessage:""}),dataIndex:"app_runs_name",ellipsis:!0,fieldProps:{onChange:function(i){var s;u==null||(s=u.current)===null||s===void 0||s.submit()}}},{title:t.formatMessage({id:"workflow.created_time",defaultMessage:""}),dataIndex:"created_time",ellipsis:!0,width:180,tooltip:t.formatMessage({id:"workflow.created_time_des",defaultMessage:t.formatMessage({id:"workflow.created_time_des",defaultMessage:""})}),search:!1},{disable:!0,title:t.formatMessage({id:"workflow.status",defaultMessage:""}),dataIndex:"app_runs_status",filters:!0,onFilter:!0,ellipsis:!0,width:120,valueType:"select",fieldProps:{onChange:function(i){var s;u==null||(s=u.current)===null||s===void 0||s.submit()}},valueEnum:{1:{text:t.formatMessage({id:"workflow.running",defaultMessage:""}),status:"Processing"},2:{text:t.formatMessage({id:"workflow.runSc",defaultMessage:""}),status:"Success"},3:{text:t.formatMessage({id:"workflow.runF",defaultMessage:""}),status:"Error"}}},{title:"".concat(t.formatMessage({id:"workflow.elapsed_time",defaultMessage:""}),"S"),dataIndex:"elapsed_time",ellipsis:!0,width:100,tooltip:t.formatMessage({id:"workflow.run_time"}),search:!1},{title:"Tokens",key:"showTime",dataIndex:"total_tokens",width:100,hideInSearch:!0},{title:t.formatMessage({id:"workflow.user"}),dataIndex:"nickname",search:!1,width:120,ellipsis:!0,key:"user"}],n=(0,M.useSearchParams)(),r=I()(n,1),h=r[0],a=(0,O.Z)(function(l){return l.setRunPanelLogRecord}),p=h.get("app_id"),u=(0,x.useRef)(null);return(0,g.jsx)("div",{className:"h-full w-screen pl-[60px] box-border",children:(0,g.jsx)("div",{children:(0,g.jsx)(R.Z,{columns:_,formRef:u,form:{submitter:!1},cardBordered:!0,style:{height:"calc(100% - 20px)"},scroll:{y:"calc(100vh - 380px)",x:"100%"},request:function(){var l=c()(o()().mark(function i(s,v,y){var m;return o()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return console.log(s,v,y),d.next=3,(0,D.bB)(w()(w()({app_runs_name:"",app_runs_status:0},s),{},{app_id:p}));case 3:return m=d.sent,console.log(m),d.abrupt("return",{data:m.data.list,success:!0,total:m.data.total_count});case 6:case"end":return d.stop()}},i)}));return function(i,s,v){return l.apply(this,arguments)}}(),onRow:function(i){return{onClick:function(){console.log("Row clicked:",i),a(i)}}},editable:{type:"multiple"},rowKey:"app_runs_id",search:{labelWidth:"auto"},options:{setting:{listsHeight:600}},pagination:{pageSize:12,showSizeChanger:!1},dateFormatter:"string",headerTitle:t.formatMessage({id:"workflow.workflowLog",defaultMessage:""})})})})}}}]);
