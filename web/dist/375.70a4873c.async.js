"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[375],{43722:function(_e,S,_){_.d(S,{Gn:function(){return B},KH:function(){return z},Rp:function(){return W},cH:function(){return L},dB:function(){return y},j2:function(){return M},r5:function(){return T},rw:function(){return E},sI:function(){return U},sT:function(){return K},sh:function(){return V},vu:function(){return R},xM:function(){return J},xT:function(){return F}});var w=_(15009),t=_.n(w),N=_(99289),l=_.n(N),v=_(47520),E=function(){var o=l()(t()().mark(function n(){var r;return t()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,v.ZP)("/v1/index/",{method:"GET"});case 2:return r=c.sent,c.abrupt("return",r);case 4:case"end":return c.stop()}},n)}));return function(){return o.apply(this,arguments)}}(),P=null,R=function(){var o=l()(t()().mark(function n(r){var s;return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.ZP)("/v1/chatroom/",{method:"GET",data:r});case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}},n)}));return function(r){return o.apply(this,arguments)}}(),B=function(){var o=l()(t()().mark(function n(r){var s;return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.ZP)("/v1/chatroom/".concat(r.id),{method:"DELETE"});case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}},n)}));return function(r){return o.apply(this,arguments)}}(),y=function(){var o=l()(t()().mark(function n(r){var s;return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.ZP)("/v1/chatroom/",{method:"POST",data:r});case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}},n)}));return function(r){return o.apply(this,arguments)}}(),L=function(){var o=l()(t()().mark(function n(r){var s;return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.ZP)("/v1/chatroom/".concat(r.id,"/details"),{method:"GET"});case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}},n)}));return function(r){return o.apply(this,arguments)}}(),M=function(){var o=l()(t()().mark(function n(r){var s;return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.ZP)("/v1/chatroom/recent",{method:"GET",data:{chatroom_id:r.id}});case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}},n)}));return function(r){return o.apply(this,arguments)}}(),U=function(){var o=l()(t()().mark(function n(r,s){var c;return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,v.ZP)("/v1/chatroom/".concat(s,"/update_chatroom"),{method:"POST",data:r});case 2:return c=a.sent,a.abrupt("return",c);case 4:case"end":return a.stop()}},n)}));return function(r,s){return o.apply(this,arguments)}}(),T=function(){var o=l()(t()().mark(function n(r,s){var c;return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,v.ZP)("/v1/chatroom/".concat(s,"/smart_selection"),{method:"POST",data:r});case 2:return c=a.sent,a.abrupt("return",c);case 4:case"end":return a.stop()}},n)}));return function(r,s){return o.apply(this,arguments)}}(),K=function(){var o=l()(t()().mark(function n(r,s,c){var e;return t()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,v.ZP)("/v1/chatroom/".concat(s,"/agents/").concat(c,"/setting"),{method:"PUT",data:r});case 2:return e=D.sent,D.abrupt("return",e);case 4:case"end":return D.stop()}},n)}));return function(r,s,c){return o.apply(this,arguments)}}(),z=function(){var o=l()(t()().mark(function n(r,s){var c;return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,v.ZP)("/v1/chatroom/".concat(r,"/chatroom_message"),{method:"GET",data:s});case 2:return c=a.sent,a.abrupt("return",c);case 4:case"end":return a.stop()}},n)}));return function(r,s){return o.apply(this,arguments)}}(),W=function(){var o=l()(t()().mark(function n(r,s){var c;return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,v.ZP)("/v1/chatroom/".concat(r,"/chat_history_message_summary"),{method:"POST",data:s});case 2:return c=a.sent,a.abrupt("return",c);case 4:case"end":return a.stop()}},n)}));return function(r,s){return o.apply(this,arguments)}}(),F=function(){var o=l()(t()().mark(function n(r,s){var c;return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,v.ZP)("/v1/chatroom/".concat(r,"/chat_history_summary"),{method:"POST",data:s});case 2:return c=a.sent,a.abrupt("return",c);case 4:case"end":return a.stop()}},n)}));return function(r,s){return o.apply(this,arguments)}}(),V=function(){var o=l()(t()().mark(function n(r){var s;return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.ZP)("/v1/chatroom/chat_room_history",{method:"GET",data:r});case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}},n)}));return function(r){return o.apply(this,arguments)}}(),J=function(){var o=l()(t()().mark(function n(r,s){var c;return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,v.ZP)("/v1/chatroom/".concat(r,"/chat_single_message_generation"),{method:"POST",data:s});case 2:return c=a.sent,a.abrupt("return",c);case 4:case"end":return a.stop()}},n)}));return function(r,s){return o.apply(this,arguments)}}()},72406:function(_e,S,_){var w=_(58533),t=_(99702),N=_(74330),l=_(85893),v=function(P){var R=P.children,B=P.elid,y=P.dataLength,L=P.ishasMore,M=P.upSlide,U=P.isFooter,T=P.pageNumber,K=T===void 0?2:T;return(0,l.jsxs)("div",{className:"h-full flex flex-col",children:[(0,l.jsx)(w.Z,{dataLength:y,scrollableTarget:B,next:M,hasMore:L,loader:(0,l.jsx)("div",{className:"flex justify-center h-[60px] items-center",children:K>1?(0,l.jsx)(N.Z,{}):(0,l.jsx)(l.Fragment,{})}),children:R}),U&&(0,l.jsx)("div",{className:"mt-[30px] flex-1 flex ",style:{alignItems:"flex-end"},children:(0,l.jsx)(t.Z,{className:"relative"})})]})};S.Z=v},44010:function(_e,S,_){var w=_(97857),t=_.n(w),N=_(15009),l=_.n(N),v=_(19632),E=_.n(v),P=_(99289),R=_.n(P),B=_(9783),y=_.n(B),L=_(5574),M=_.n(L),U=_(72406),T=_(32332),K=_(28508),z=_(35312),W=_(78045),F=_(26915),V=_(71230),J=_(15746),o=_(32983),n=_(28036),r=_(67294),s=_(42237),c=_(4346),e=_(85893),a=function(I){var Q=I.show,De=I.popupClose,Ie=I.popupSave,ce=I.checkList,oe=I.zIndex,le=oe===void 0?"":oe,ie=I.nodetype,i=ie===void 0?"agent":ie,de=I.radio,b=(0,z.useIntl)(),g=(0,r.useRef)([]),je=(0,r.useState)(y()(y()({},"my_".concat(i),0),"more_".concat(i),0)),pe=M()(je,2),me=pe[0],he=pe[1],ye=(0,r.useState)(3),fe=M()(ye,2),Z=fe[0],ve=fe[1],Te=(0,r.useState)(!0),xe=M()(Te,2),Oe=xe[0],Ce=xe[1],Ae=(0,r.useState)([]),ge=M()(Ae,2),G=ge[0],$=ge[1],Se=(0,r.useState)([]),Ee=M()(Se,2),k=Ee[0],O=Ee[1],we=(0,r.useState)(!0),Me=M()(we,2),Ne=Me[0],Re=Me[1],Be=(0,r.useRef)(null),Le=(0,r.useState)(""),Pe=M()(Le,2),Ue=Pe[0],Ke=Pe[1],m=(0,r.useRef)({page:1,page_size:40,search_type:3,apps_name:"",tag_ids:""}),X=function(){return Z==3?G&&G.length>0?G:[]:k&&k.length>0?k:[]},We=function(d){ve(d.target.value),m.current.search_type=d.target.value,C(m.current,!0)},C=function(){var p=R()(l()().mark(function d(h){var f,u,x,j,q,ee,re,te,ne,ae,se,ue=arguments;return l()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return f=ue.length>1&&ue[1]!==void 0?ue[1]:!1,f&&(m.current.page=1),H.next=4,(0,s.RE)(i,h);case 4:u=H.sent,(u==null?void 0:u.code)==0&&(u==null||(x=u.data)===null||x===void 0||x.list.forEach(function(be){be.check=ke(be)}),h.search_type==3?($(f?E()(u==null||(j=u.data)===null||j===void 0?void 0:j.list):[].concat(E()(G),E()(u==null||(q=u.data)===null||q===void 0?void 0:q.list))),Ce((u==null||(ee=u.data)===null||ee===void 0?void 0:ee.total_pages)>(m==null||(re=m.current)===null||re===void 0?void 0:re.page)),A("my_".concat(i))):(O(f?E()(u==null||(te=u.data)===null||te===void 0?void 0:te.list):[].concat(E()(k),E()(u==null||(ne=u.data)===null||ne===void 0?void 0:ne.list))),Re((u==null||(ae=u.data)===null||ae===void 0?void 0:ae.total_pages)>(m==null||(se=m.current)===null||se===void 0?void 0:se.page)),A("more_".concat(i))));case 6:case"end":return H.stop()}},d)}));return function(h){return p.apply(this,arguments)}}(),Ze=function(d){m.current.apps_name=d.target.value,m.current.page=1,C(m.current,!0)},A=function(d){var h=0;g.current.length&&(h=g.current.filter(function(f){return f.type==d}).length),he(function(f){return f[d]=h,f})},Ge=function(d,h){h.type=d==3?"my_".concat(i):"more_".concat(i),g.current=[h],d==3?($(function(f){return f.map(function(u){return t()(t()({},u),{},{check:u.app_id===h.app_id})})}),O(function(f){return f.map(function(u){return t()(t()({},u),{},{check:!1})})})):(O(function(f){return f.map(function(u){return t()(t()({},u),{},{check:u.app_id===h.app_id})})}),$(function(f){return f.map(function(u){return t()(t()({},u),{},{check:!1})})})),A("my_".concat(i)),A("more_".concat(i))},$e=function(d,h){h.type=d==3?"my_".concat(i):"more_".concat(i);var f=g.current.filter(function(u){return u.app_id==h.app_id});g.current.forEach(function(u,x){var j;u.app_id==((j=f[0])===null||j===void 0?void 0:j.app_id)&&g.current.splice(x,1)}),g.current=f.length?E()(g.current):[].concat(E()(g.current),[h]),d==3?($(function(u){return u.map(function(x){return x.app_id===h.app_id?t()(t()({},x),{},{check:!x.check}):x})}),A("my_".concat(i))):(O(function(u){return u.map(function(x){return x.app_id===h.app_id?t()(t()({},x),{},{check:!x.check}):x})}),A("more_".concat(i)))},ke=function(d){return de&&g.current.length>1?0:g.current.filter(function(h){return h.app_id==d.app_id}).length},Y=function(){De(),g.current=[],O([]),ve(3),he({my_agent:0,more_agent:0})},He=function(){Ie({checkItem:g.current}),Y()};return(0,r.useEffect)(function(){Q&&(ce.length&&(g.current=E()(ce)),m.current.apps_name="",C(t()(t()({},m.current),{},{search_type:3}),!0),C(t()(t()({},m.current),{},{search_type:2}),!0))},[Q]),Q?(0,e.jsx)("div",{ref:Be,style:le?{zIndex:le}:{zIndex:30},className:'transition  w-full h-full fixed top-[0] left-[0] bg-[rgba(0,0,0,0.5)] flex items-center justify-center z-30"',children:(0,e.jsx)("div",{className:"w-[980px] h-[646px] bg-[#fff] rounded-[6px] transition",children:(0,e.jsxs)("div",{className:"flex flex-col h-full",children:[(0,e.jsxs)("div",{className:"text-[16px] flex items-center p-[20px]",style:{borderBottom:"1px solid #ebebeb"},children:[(0,e.jsx)("span",{className:"flex-1 text-[14px] font-[500] text-[#213044]",children:b.formatMessage({id:"app.check_".concat(i,"_popup.title")})}),(0,e.jsx)(K.Z,{className:"text-[16px] cursor-pointer",onClick:Y})]}),(0,e.jsxs)("div",{className:"pt-[20px] flex-1 min-h-[0]",children:[(0,e.jsxs)("div",{className:"flex items-center pt-[0] p-[20px]",children:[(0,e.jsxs)("span",{className:"text-[#999]",children:[b.formatMessage({id:"app.check_".concat(i,"_popup.chenck_text")}),"\uFF1A"]}),(0,e.jsxs)("div",{className:"flex items-center gap-x-[12px]",children:[(0,e.jsxs)("span",{className:"text-[#213044] text-[14px]",children:[b.formatMessage({id:"app.check_".concat(i,"_popup.select_1")}),":"," ",me["my_".concat(i)]]}),(0,e.jsxs)("span",{className:"text-[#213044] text-[14px]",children:[b.formatMessage({id:"app.check_".concat(i,"_popup.select_2")}),":"," ",me["more_".concat(i)]]})]})]}),(0,e.jsxs)("div",{className:"flex gap-x-[20px] pt-[0] p-[20px]",children:[(0,e.jsxs)(W.ZP.Group,{onChange:We,defaultValue:"3",size:"large",children:[(0,e.jsx)(W.ZP.Button,{value:"3",children:(0,e.jsx)("span",{className:"text-[14px]",children:b.formatMessage({id:"app.check_".concat(i,"_popup.select_1")})})}),(0,e.jsx)(W.ZP.Button,{value:"2",children:(0,e.jsx)("span",{className:"text-[14px]",children:b.formatMessage({id:"app.check_".concat(i,"_popup.select_2")})})})]}),(0,e.jsx)(F.Z,{className:"w-[320px] text-[14px]",style:{fontSize:"14px !important"},onPressEnter:Ze,size:"large",placeholder:b.formatMessage({id:"app.check_".concat(i,"_popup.search")}),onChange:function(d){return Ke(d.target.value)},value:Ue,prefix:(0,e.jsx)("img",{src:"/icons/search_icon.svg",className:"w-[16px] h-[16px] mr-[10px]"})}),(0,e.jsx)(c.Z,{allowClear:!0,onChange:function(d){m.current.tag_ids=d?d.join(","):"",m.current.page=1,C(m.current,!0)},showAddButton:!1,size:"large",className:"w-[260px]",listStyle:"horizontal"})]}),(0,e.jsx)("div",{className:"overflow-y-auto  px-[20px]",id:"agentScroll",style:{height:"calc(100% - 100px)"},children:(0,e.jsx)(U.Z,{dataLength:Z==3?G.length:k.length,elid:"agentScroll",ishasMore:Z==3?Oe:Ne,upSlide:function(){m.current.page+=1,C(m.current)},children:(0,e.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,e.jsx)(V.Z,{gutter:[15,15],children:X()&&X().length?X().map(function(p,d){return(0,e.jsx)(J.Z,{span:6,children:(0,e.jsxs)("div",{className:"bg-[#fff] flex gap-x-[20px] p-[10px] cursor-pointer border-solid border-[1px] rounded-[4px] ".concat(p.check?"border-[#1B64F3]":"border-[#eee]"),onClick:function(){de?Ge(Z,p):$e(Z,p)},children:[(0,e.jsx)("div",{className:"w-[40px] h-[40px] bg-[#F4F8F1] rounded-[6px] relative flex items-center justify-center shrink-0",children:(0,e.jsx)("img",{src:(0,T.s9)("single",p.icon),alt:"",className:"w-[20px]  h-[20px]"})}),(0,e.jsxs)("div",{className:"flex flex-col gap-y-[5px] justify-center flex-1 min-w-[0]",children:[(0,e.jsx)("div",{className:"text-[#213044] text-[12px] font-[500] w-full truncate",children:p.name}),(0,e.jsx)("div",{className:"text-[#999] text-[12px] w-full truncate",children:p.description})]})]})},p.app_id)}):(0,e.jsx)("div",{className:"w-full h-[380px] flex justify-center items-center",children:(0,e.jsx)(o.Z,{style:{margin:"0px",fontSize:"16px"},imageStyle:{width:"60px",margin:"0 auto",marginBottom:"2px"},description:b.formatMessage({id:"app.dashboard.None"}),image:o.Z.PRESENTED_IMAGE_SIMPLE})})})})})})]}),(0,e.jsxs)("div",{className:"p-[20px] flex gap-x-[20px] justify-end",style:{borderTop:"1px solid #e8e8e8"},children:[(0,e.jsx)(n.ZP,{className:"text-[14px] text-[#213044] w-[88px] h-[40px]",style:{border:"1px solid #D8D8D8"},onClick:Y,children:b.formatMessage({id:"app.check_".concat(i,"_popup.cancel")})}),(0,e.jsx)(n.ZP,{type:"primary",className:"bg-[#1B64F3] rounded-[4px] w-[88px] h-[40px]",htmlType:"submit",onClick:He,children:b.formatMessage({id:"app.check_".concat(i,"_popup.save")})})]})]})})}):(0,e.jsx)(e.Fragment,{})};S.Z=a}}]);
