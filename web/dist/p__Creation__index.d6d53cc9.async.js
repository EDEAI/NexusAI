"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[928],{83510:function(ce,A,a){a.d(A,{LK:function(){return D},bs:function(){return d},go:function(){return F},uy:function(){return N}});var R=a(15009),u=a.n(R),k=a(99289),c=a.n(k),M=a(47520),y="/v1/apps/apps_list",C="/v1/agent/agent_delete/",l="/v1/workflow/workflow_app_delete/",W="/v1/vector/delete_dataset/",Z="/v1/skill/delete_skill_by_app_id/",U="/v1/apps/apps_create",K="/v1/apps/app_update/",F=function(){var S=c()(u()().mark(function O(v){var x;return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,M.ZP)("".concat(y),{method:"GET",data:v});case 2:return x=o.sent,o.abrupt("return",x);case 4:case"end":return o.stop()}},O)}));return function(v){return S.apply(this,arguments)}}(),D=function(){var S=c()(u()().mark(function O(v){var x;return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return console.log(v),o.next=3,v.mode;case 3:if(o.t0=o.sent,o.t0!=1){o.next=8;break}o.t1=(0,M.ZP)("".concat(C).concat(v.app_id),{method:"DELETE"}),o.next=9;break;case 8:o.t1=v.mode==2?(0,M.ZP)("".concat(l).concat(v.app_id),{method:"DELETE"}):v.mode==3?(0,M.ZP)("".concat(W).concat(v.app_id),{method:"DELETE"}):(0,M.ZP)("".concat(Z).concat(v.app_id),{method:"DELETE",data:{is_soft:1}});case 9:return x=o.t1,o.abrupt("return",x);case 11:case"end":return o.stop()}},O)}));return function(v){return S.apply(this,arguments)}}(),N=function(){var S=c()(u()().mark(function O(v){var x;return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,M.ZP)("".concat(U),{method:"POST",data:v});case 2:return x=o.sent,o.abrupt("return",x);case 4:case"end":return o.stop()}},O)}));return function(v){return S.apply(this,arguments)}}(),d=function(){var S=c()(u()().mark(function O(v){var x;return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,M.ZP)("".concat(K).concat(v.app_id),{method:"PUT",data:v});case 2:return x=o.sent,o.abrupt("return",x);case 4:case"end":return o.stop()}},O)}));return function(v){return S.apply(this,arguments)}}()},72406:function(ce,A,a){var R=a(58533),u=a(99702),k=a(74330),c=a(85893),M=function(C){var l=C.children,W=C.elid,Z=C.dataLength,U=C.ishasMore,K=C.upSlide,F=C.isFooter,D=C.pageNumber,N=D===void 0?2:D;return(0,c.jsxs)("div",{className:"h-full flex flex-col",children:[(0,c.jsx)(R.Z,{dataLength:Z,scrollableTarget:W,next:K,hasMore:U,loader:(0,c.jsx)("div",{className:"flex justify-center h-[60px] items-center",children:N>1?(0,c.jsx)(k.Z,{}):(0,c.jsx)(c.Fragment,{})}),children:l}),F&&(0,c.jsx)("div",{className:"mt-[30px] flex-1 flex ",style:{alignItems:"flex-end"},children:(0,c.jsx)(u.Z,{className:"relative"})})]})};A.Z=M},21446:function(ce,A,a){var R=a(15009),u=a.n(R),k=a(97857),c=a.n(k),M=a(99289),y=a.n(M),C=a(5574),l=a.n(C),W=a(83510),Z=a(32332),U=a(35312),K=a(55102),F=a(17788),D=a(67294),N=a(94840),d=a(85893),S=K.Z.TextArea,O=function(x){var G=x.setIsModalOpen,o=x.isModalOpen,X=x.transformData,i=x.CreationType,oe=x.setcreationType,we=x.ModalType,E=(0,U.useIntl)(),g=(0,D.useState)(""),J=l()(g,2),xe=J[0],Ie=J[1],_e=(0,D.useState)(""),je=l()(_e,2),Ae=je[0],ke=je[1],Ze=(0,D.useState)({id:1,icon:"/icons/headportrait/Android.svg"}),Me=l()(Ze,2),e=Me[0],Le=Me[1];(0,D.useEffect)(function(){},[]);var Re=function(b){Ie(b.target.value)},Ue=function(b){ke(b.target.value)},ye=function(){var T=y()(u()().mark(function b(){var V,t;return u()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(V={name:xe,mode:i.apps_mode,description:Ae,icon:JSON.stringify(e.id),icon_background:""},i.apps_mode!=2){p.next=8;break}return p.next=4,(0,W.uy)(V);case 4:t=p.sent,t.code===0&&(G(!1),Ce(t.data.app_id)),p.next=10;break;case 8:(0,Z.Go)("SET",c()(c()({},V),{},{type:!1})),Ce();case 10:case"end":return p.stop()}},b)}));return function(){return T.apply(this,arguments)}}(),Be=function(b){X.map(function(V){V.name==b.name&&(console.log(V,"item"),oe(V))})},Ce=function(b){b?U.history.push("/".concat(i.path,"?app_id=").concat(b,"&&type=false")):U.history.push("/".concat(i.path,"?type=false"))};return(0,d.jsx)(F.Z,{title:E.formatMessage({id:"creation.addnewapp"}),open:o,okText:E.formatMessage({id:"creation"}),onOk:ye,onCancel:function(){return G(!1)},okButtonProps:{disabled:xe===""},width:820,children:(0,d.jsxs)("div",{className:"pb-1",children:[we?(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium text-xs mb-4 mt-8",children:E.formatMessage({id:"creation.appntype"})}),(0,d.jsx)("div",{className:"flex items-center justify-around gap-y-[24px]",children:X&&X.map(function(T){return(0,d.jsxs)("div",{className:"w-44 h-24 rounded-lg text-center bg-[url('/images/bg.png')] bg-[length:176px_96px] cursor-pointer",style:{border:T.apps_mode===i.apps_mode?"1px solid #1B64F3":"1px solid #eeeeee"},onClick:function(){Be(T)},children:[(0,d.jsx)("div",{className:"flex items-center justify-center mt-5 mb-2.5",children:(0,d.jsx)("img",{className:"w-6 h-6",src:T.signicon,alt:""})}),(0,d.jsx)("div",{className:"text-p[#213044] text-base font-normal",children:T.name})]})})})]}):null,(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsxs)("p",{className:"text-xs mt-5",children:[i.apps_mode==1?E.formatMessage({id:"creation.agent"}):i.apps_mode==2?E.formatMessage({id:"creation.workflow"}):i.apps_mode==3?E.formatMessage({id:"creation.repository"}):E.formatMessage({id:"creation.skill"}),E.formatMessage({id:"creation.appiconname"})]}),(0,d.jsxs)("div",{className:"flex items-center justify-around",children:[(0,d.jsx)(N.Z,{CardData:e,setCardData:Le}),(0,d.jsx)(K.Z,{showCount:!0,maxLength:20,placeholder:E.formatMessage({id:"creation.placeholder.appname"}),onChange:Re})]})]}),(0,d.jsxs)("div",{className:"mb-5 text-xs",children:[(0,d.jsxs)("p",{children:[i.apps_mode==1?E.formatMessage({id:"creation.agent"}):i.apps_mode==2?E.formatMessage({id:"creation.workflow"}):i.apps_mode==3?E.formatMessage({id:"creation.repository"}):E.formatMessage({id:"creation.skill"}),E.formatMessage({id:"creation.appdescribe"})]}),(0,d.jsx)(S,{showCount:!0,maxLength:100,rows:4,placeholder:E.formatMessage({id:"creation.placeholder.appdescribe"}),onChange:Ue})]})]})]})})};A.Z=O},78697:function(ce,A,a){var R=a(67294),u=a(85893),k=function(M){var y=M.Image,C=M.icon;return(0,R.useEffect)(function(){},[]),(0,u.jsxs)("div",{className:"w-[42px] h-[42px] bg-[#F4F8F1] rounded-md flex items-center justify-center relative",children:[(0,u.jsx)("div",{children:(0,u.jsx)("img",{src:y,alt:""})}),C?(0,u.jsx)("div",{className:"absolute bottom-[-3px] right-[-3px] w-4 h-4 bg-white rounded-sm flex items-center justify-center shadow-[0_0_4px_-0_rgba(0,0,0,0.2)]",children:(0,u.jsx)("img",{className:" w-[12px] h-[12px]",src:C,alt:""})}):null]})};A.Z=k},94840:function(ce,A,a){var R=a(97857),u=a.n(R),k=a(32332),c=a(55241),M=a(67294),y=a(85893),C=function(W){var Z=W.CardData,U=W.setCardData;(0,M.useEffect)(function(){},[]);var K=function(){return(0,y.jsx)("div",{className:"flex justify-start items-center flex-wrap w-40",children:(0,k.s9)("all").map(function(N){return(0,y.jsx)("div",{className:"w-8 h-8 bg-[#F4F8F1] rounded-lg mr-1.5 flex items-center justify-center m-0.5 cursor-pointer",onClick:function(){F(N)},children:(0,y.jsx)("img",{src:N.image,alt:""})})})})},F=function(N){U(u()(u()({},Z),{},{icon:N.image,id:N.id}))};return(0,y.jsx)(c.Z,{content:K,trigger:"click",placement:"bottomLeft",children:(0,y.jsx)("div",{className:"w-8 h-8 bg-[#F4F8F1] rounded-lg mr-1.5 flex items-center justify-center m-0.5 cursor-pointer",children:(0,y.jsx)("img",{src:(0,k.s9)("single",Z.id?Z.id:Z.icon),alt:""})})})};A.Z=C},91375:function(ce,A,a){a.r(A),a.d(A,{default:function(){return b}});var R=a(97857),u=a.n(R),k=a(15009),c=a.n(k),M=a(99289),y=a.n(M),C=a(5574),l=a.n(C),W=a(40110),Z=a(47389),U=a(82061),K=a(43425),F=a(5154),D=a(55102),N=a(17788),d=a(2453),S=a(78045),O=a(74330),v=a(71230),x=a(15746),G=a(4393),o=a(55241),X=a(14726),i=a(67294),oe=a(83510),we=a(78697),E=a(72406),g=a(32332),J=a(35312),xe=a(27484),Ie=a.n(xe),_e=a(21446),je=a(47520),Ae=a(42237),ke=a(33914),Ze=a(57546),Me=a(46822),e=a(85893),Le=function(t){var H=t.optionsModalId,p=(0,J.useIntl)(),P=D.Z.TextArea,$=[{name:p.formatMessage({id:"creation.agent"}),path:"Agents",icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",unselected:"/icons/creation/unselectedrobot.svg",apps_mode:1},{name:p.formatMessage({id:"creation.workflow"}),path:"workspace/workflow",icon:"/icons/creation/gongzuoliu1.svg",pitchicon:"/icons/creation/pitchgongzuoliu.svg",signicon:"/icons/creation/signgongzuoliu.svg",unselected:"/icons/creation/unselectedprocess.svg",apps_mode:2},{name:p.formatMessage({id:"creation.repository"}),path:"Createkb",icon:"/icons/creation/jienng1.svg",pitchicon:"/icons/creation/pitchzhishik.svg",signicon:"/icons/creation/signzhishik.svg",unselected:"/icons/creation/unselectedrepository.svg",apps_mode:3},{name:p.formatMessage({id:"creation.skill"}),path:"Skill",icon:"/icons/creation/zhishik1.svg",pitchicon:"/icons/creation/pitchskill.svg",signicon:"/icons/creation/signskill.svg",unselected:"/icons/creation/unselectedskill.svg",apps_mode:4}],We=(0,i.useState)(!1),de=l()(We,2),q=de[0],ie=de[1],Ke=(0,i.useState)({name:p.formatMessage({id:"creation.agent"}),path:"Agents",icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",apps_mode:1}),ue=l()(Ke,2),pe=ue[0],ee=ue[1],Fe=(0,i.useState)(""),me=l()(Fe,2),Ee=me[0],De=me[1],Ge=(0,i.useState)(""),fe=l()(Ge,2),Ne=fe[0],Oe=fe[1],ze=(0,i.useState)({id:12,icon:"\u{1F612}"}),he=l()(ze,2),m=he[0],Je=he[1];(0,i.useEffect)(function(){});var be=function(_){var j=$.filter(function(re){return re.apps_mode==_});ie(!0),ee(j[0]?j[0]:{name:"Agent",path:"Agents",icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",apps_mode:1})},Ve=function(){ie(!1)},Ye=function(_){J.history.push("/".concat(pe.path,"?app_id=").concat(_,"&type=false"))},He=function(_){$.map(function(j){j.name==_.target.value&&(console.log(j,"item"),ee(j))})},ea=function(_){De(_.target.value)},$e=function(_){Oe(_.target.value)},aa=function(){var f=y()(c()().mark(function _(){var j;return c()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,(0,oe.uy)({name:Ee,mode:pe.apps_mode,description:Ne,icon:m.icon,icon_background:""});case 2:j=Y.sent,j.code===0&&(ie(!1),Ye(j.data.app_id));case 4:case"end":return Y.stop()}},_)}));return function(){return f.apply(this,arguments)}}(),Se=(0,i.useState)(!1),ae=l()(Se,2),Qe=ae[0],te=ae[1],Xe=function(){console.log("Import cancelled"),te(!1)},qe=(0,i.memo)(function(){var f=(0,i.useState)([]),_=l()(f,2),j=_[0],re=_[1],Y={icon:(0,e.jsx)(ke.Z,{}),title:p.formatMessage({id:"workflow.uploadFileText",defaultMessage:"Drag file here, or click to upload"}),description:"Upload the exported workflow yml file",accept:".yml,.yaml",fieldProps:{listType:"text",name:"file",multiple:!0,maxCount:1,headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},action:je._n+"/v1/workflow/import",beforeUpload:function(L){return re([L]),!1}},onChange:function(L){var B=L.file.status;if(B==="done"){var w;(L==null||(w=L.file)===null||w===void 0||(w=w.response)===null||w===void 0?void 0:w.code)===0?(d.ZP.success(p.formatMessage({id:"workflow.importSuccess"})),te(!1)):d.ZP.error(p.formatMessage({id:"workflow.importFailed"}))}else B==="error"&&d.ZP.error("".concat(L.file.name," file upload failed."))}},Te=function(){if(j.length>0){var L=new FormData;L.append("file",j[0]),(0,Ae.Uq)(L).then(function(B){if((B==null?void 0:B.code)==0){var w;J.history.push("/workspace/workflow?app_id=".concat(B==null||(w=B.data)===null||w===void 0?void 0:w.app_id,"&type=false"))}})}te(!1)};return(0,e.jsx)(N.Z,{title:p.formatMessage({id:"creation.importWorkflow"}),open:Qe,onOk:Te,okButtonProps:{loading:!1},okText:p.formatMessage({id:"workflow.import"}),onCancel:Xe,children:(0,e.jsx)(Me.Z,u()({name:"file"},Y))})});return(0,e.jsxs)(G.Z,{style:{minWidth:300,marginTop:10,backgroundColor:"#EFF0F2"},bodyStyle:{height:"100%"},hoverable:!1,children:[(0,e.jsx)(qe,{}),(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"174px"},children:[H===6?(0,e.jsxs)("div",{className:"flex justify-around items-start h-full w-full ",style:{flexDirection:"column",height:"calc(100% + 24px)"},children:[$.map(function(f,_){return(0,e.jsxs)("div",{className:"hover:bg-[#fff] w-full rounded-lg h-8 cursor-pointer flex items-center",onClick:function(){return be(f.apps_mode)},children:[(0,e.jsx)("img",{src:f.icon,style:{width:"16px",height:"16px",margin:"0 5px 0 10px"},alt:""}),(0,e.jsxs)("div",{style:{color:"#213044"},children:[p.formatMessage({id:"creation.new"}),f.name]})]})}),(0,e.jsxs)("div",{onClick:function(){return te(!0)},className:"hover:bg-[#fff] w-full rounded-lg h-8 cursor-pointer flex items-center text-[#213044]",children:[(0,e.jsx)(Ze.Z,{className:"size-4  mr-[5px] ml-[10px]"})," ",p.formatMessage({id:"creation.importWorkflow"})]})]}):null,(0,e.jsx)("div",{className:" flex-wrap h-full text-[#999] text-[12px] cursor-pointer",style:{width:H===6?"50%":"100%"},onClick:function(){return be(H)},children:H===6?(0,e.jsxs)("div",{className:"mt-[62px]",children:[(0,e.jsx)("div",{className:"h-[42px] flex justify-center",children:(0,e.jsx)("img",{src:"/icons/creation/add.svg",alt:""})}),(0,e.jsxs)("div",{className:"svg-container w-full text-center",children:[" ",p.formatMessage({id:"creation.addcreation"})]})]}):$.filter(function(f,_){return f.apps_mode==H}).map(function(f,_){return(0,e.jsxs)("div",{className:"mt-[50px]",children:[(0,e.jsx)("div",{className:"h-[42px] flex justify-center mb-[10px]",children:(0,e.jsx)("img",{src:f.unselected?f.unselected:"/icons/creation/add.svg",alt:""})}),(0,e.jsxs)("div",{className:"svg-container w-full text-center",children:[p.formatMessage({id:"creation.new"}),f.name?f.name:p.formatMessage({id:"creation.adhibition"})]})]})})})]}),(0,e.jsx)(_e.Z,{setIsModalOpen:ie,isModalOpen:q,ModalType:!0,CreationType:pe,setcreationType:ee,transformData:$})]})},Re=Le,Ue=a(94840),ye=F.Z.Text,Be=F.Z.Paragraph,Ce=D.Z.TextArea,T=function(){var t=(0,J.useIntl)(),H=(0,i.useState)(null),p=l()(H,2),P=p[0],$=p[1],We=(0,i.useState)(1),de=l()(We,2),q=de[0],ie=de[1],Ke=(0,i.useState)(!1),ue=l()(Ke,2),pe=ue[0],ee=ue[1],Fe=(0,i.useState)(""),me=l()(Fe,2),Ee=me[0],De=me[1],Ge=(0,i.useState)(""),fe=l()(Ge,2),Ne=fe[0],Oe=fe[1],ze=(0,i.useState)(null),he=l()(ze,2),m=he[0],Je=he[1],be=(0,i.useState)(!1),Ve=l()(be,2),Ye=Ve[0],He=Ve[1],ea=(0,i.useState)({name:"Agent",path:t.formatMessage({id:"creation.agent"}),icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",apps_mode:1}),$e=l()(ea,2),aa=$e[0],Se=$e[1],ae=[{apps_mode:6,name:t.formatMessage({id:"creation.all"}),path:"Agents",icon:"/icons/creation/quanbu.svg",unselected:"/icons/creation/quanbu.svg",pitchicon:"/icons/creation/pitchquanbu.svg",signicon:"/icons/creation/pitchquanbu.svg"},{apps_mode:1,name:t.formatMessage({id:"creation.agent"}),path:"Agents",icon:"/icons/creation/agent.svg",unselected:"/icons/creation/unselectedrobot.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg"},{apps_mode:2,name:t.formatMessage({id:"creation.workflow"}),path:"workspace/workflow",icon:"/icons/creation/gongzuoliu1.svg",unselected:"/icons/creation/unselectedprocess.svg",pitchicon:"/icons/creation/pitchgongzuoliu.svg",signicon:"/icons/creation/signgongzuoliu.svg"},{apps_mode:3,name:t.formatMessage({id:"creation.repository"}),path:"Createkb",icon:"/icons/creation/zhishik1.svg",unselected:"/icons/creation/unselectedrepository.svg",pitchicon:"/icons/creation/pitchzhishik.svg",signicon:"/icons/creation/signzhishik.svg"},{apps_mode:4,name:t.formatMessage({id:"creation.skill"}),path:"Skill",icon:"/icons/creation/jienng1.svg",unselected:"/icons/creation/unselectedskill.svg",pitchicon:"/icons/creation/pitchskill.svg",signicon:"/icons/creation/signskill.svg"}],Qe=(0,i.useState)(6),te=l()(Qe,2),Xe=te[0],qe=te[1],f=(0,i.useState)(!1),_=l()(f,2),j=_[0],re=_[1],Y=(0,i.useState)(""),Te=l()(Y,2),se=Te[0],L=Te[1],B=(0,i.useState)(!1),w=l()(B,2),da=w[0],ta=w[1],ua=(0,i.useState)([{apps_mode:1,name:t.formatMessage({id:"creation.agent"}),path:"Agents",readOnlypath:"ReadOnlyAgent"},{apps_mode:2,name:t.formatMessage({id:"creation.workflow"}),path:"workspace/workflow"},{apps_mode:3,name:t.formatMessage({id:"creation.repository"}),path:"createkb"},{apps_mode:4,name:t.formatMessage({id:"creation.skill"}),path:"Skill",readOnlypath:"ReadOnlySkill"}]),sa=l()(ua,2),na=sa[0],Oa=sa[1],pa=(0,i.useState)(!0),oa=l()(pa,2),ma=oa[0],ia=oa[1],fa=(0,i.useState)(-1),ra=l()(fa,2),ha=ra[0],ge=ra[1],ne=function(){var s=y()(c()().mark(function n(h,r,z,I,le,ca){var Q,Pe;return c()().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return Q={page:h||q,page_size:27,search_type:(0,g.f1)("GET").searchType==!0?2:1,apps_mode:(0,g.f1)("GET").optionsModalId,apps_name:I||I==""?I:se},ia(!0),ve.next=4,(0,oe.go)(Q);case 4:Pe=ve.sent,ta(!0),$(le?{list:P.list.concat(Pe.data.list)}:Pe.data),ia(!1),Pe.data.list.length<27&&ta(!1);case 9:case"end":return ve.stop()}},n)}));return function(h,r,z,I,le,ca){return s.apply(this,arguments)}}();(0,i.useEffect)(function(){(0,g.op)(),ne(1,null)},[]);var ga=function(){ie(q+1),ne(q+1,j,null,null,!0)},va=function(n){qe(n.apps_mode),(0,g.f1)("SET",n.apps_mode,JSON.parse((0,g.f1)("GET").searchType)),ne(1,j,n.apps_mode)},xa=function(n){L(n.target.value),ne(1,j,Xe,n.target.value)},_a=function(){ee(!1)},ja=function(){var s=y()(c()().mark(function n(){var h,r;return c()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return h={name:Ee,description:Ne,app_id:m.app_id,mode:m.mode,icon:m.id?JSON.stringify(m.id):m.icon,icon_background:""},I.next=3,(0,oe.bs)(h);case 3:r=I.sent,r.code==0&&(ee(!1),ne(1,j,null,null,null,q*27));case 5:case"end":return I.stop()}},n)}));return function(){return s.apply(this,arguments)}}(),Ma=function(n,h){ge(h),ee(!0),De(n.name),Oe(n.description),Je(n)},ya=function(n){De(n.target.value)},Ca=function(n){Oe(n.target.value)},la=function(n){event.stopPropagation(),(0,g.Go)("SET",u()(u()({},n),{},{type:(0,g.f1)("GET").searchType}));var h=na.filter(function(r){return r.apps_mode===n.mode});(n.mode===1||n.mode===4)&&(0,g.f1)("GET").searchType==!0?J.history.push("/".concat(h[0].readOnlypath,"?app_id=").concat(n.app_id?n.app_id:n.apps_id,"&type=").concat((0,g.f1)("GET").searchType)):J.history.push("/".concat(h[0].path,"?app_id=").concat(n.app_id?n.app_id:n.apps_id,"&type=").concat((0,g.f1)("GET").searchType))},Ea=function(n,h){ge(h),N.Z.confirm({title:t.formatMessage({id:"creation.modal.returnconfirm"}),content:t.formatMessage({id:"creation.modal.deldescribe"}),onOk:function(){var r=y()(c()().mark(function I(){var le;return c()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,(0,oe.LK)(n);case 2:le=Q.sent,le&&le.code==0?(d.ZP.success(t.formatMessage({id:"creation.modal.delsuccess"})),ne(1,null,null,null,null,q*27)):d.ZP.error(t.formatMessage({id:"creation.modal.delerror"}));case 4:case"end":return Q.stop()}},I)}));function z(){return r.apply(this,arguments)}return z}(),onCancel:function(){}})},Da=function(n){var h=JSON.parse(n.target.value);re(h),(0,g.f1)("SET",null,h),ne(1,h)},Na=function(){var n=ae.filter(function(h){return h.apps_mode==(0,g.f1)("GET").optionsModalId});He(!0),Se(n[0].apps_mode!==6?n[0]:{name:"Agent",path:"Agents",icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",apps_mode:1})};return(0,e.jsxs)("div",{className:" pb-[10px] flex flex-col",style:{height:"calc(-60px + 100vh)",width:"100%",margin:"0 auto"},children:[(0,e.jsxs)("div",{className:"flex px-[30px] py-[20px] mx-[8px] items-center justify-between",children:[(0,e.jsx)("div",{className:"flex items-center",children:ae.map(function(s,n){return(0,e.jsxs)("div",{onClick:function(){va(s)},className:"flex justify-center items-center h-8 rounded-lg mr-4 cursor-pointer px-[10px]",style:(0,g.f1)("GET").optionsModalId==s.apps_mode?{color:"#1B64F3",backgroundColor:"#ffffff"}:{color:"#9097a1"},children:[(0,e.jsx)("div",{className:"mr-2",children:(0,e.jsx)("img",{src:(0,g.f1)("GET").optionsModalId==s.apps_mode?s.pitchicon:s.unselected,alt:""})}),(0,e.jsx)("div",{children:s.name})]})})}),(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("div",{className:"min-w-40 flex justify-end mr-5",children:(0,e.jsxs)(S.ZP.Group,{onChange:Da,defaultValue:JSON.stringify((0,g.f1)("GET").searchType),children:[(0,e.jsx)(S.ZP.Button,{value:"true",children:t.formatMessage({id:"creation.team"})}),(0,e.jsx)(S.ZP.Button,{value:"false",children:t.formatMessage({id:"creation.individual"})})]})}),(0,e.jsx)(D.Z,{style:{width:300},prefix:(0,e.jsx)(W.Z,{}),placeholder:t.formatMessage({id:"creation.placeholder.searchname"}),variant:"filled",onChange:xa})]})]}),(0,e.jsx)(O.Z,{spinning:ma,size:"large",className:"mt-[112px]",children:(0,e.jsx)("div",{id:"Creation",style:{overflowY:"auto",height:"calc(100vh - 128px)"},children:P&&P.list&&P.list.length>0?(0,e.jsx)(E.Z,{dataLength:P.list.length,elid:"Creation",ishasMore:da,upSlide:ga,isFooter:!0,children:(0,e.jsxs)(v.Z,{gutter:[16,8],wrap:!0,style:{margin:0},className:"px-[30px]",children:[(0,e.jsx)(x.Z,{sm:24,md:12,lg:12,xl:8,xxl:6,children:(0,e.jsx)(Re,{optionsModalId:(0,g.f1)("GET").optionsModalId})}),P&&P.list&&P.list.length?P.list.map(function(s,n){var h;return(0,e.jsx)(x.Z,{className:"gutter-row",sm:24,md:12,lg:12,xl:8,xxl:6,children:(0,e.jsx)(G.Z,{className:" cursor-pointer transition shadow-lg shadow-gray-100 hover:shadow-gray-200",style:{marginTop:10,minWidth:300},hoverable:!1,styles:{body:{padding:"20px"}},children:(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{onClick:function(){return la(s)},children:(0,e.jsx)(G.Z.Meta,{title:[(0,e.jsxs)("div",{className:"flex w-full",children:[(0,e.jsx)("div",{className:"mr-[17px] shrink-0",children:(0,e.jsx)(we.Z,{Image:(0,g.s9)("single",s.icon),icon:(0,g.f1)("GET").optionsModalId===6?ae.filter(function(r){return r.apps_mode===s.mode})[0].signicon:null})}),(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[" ",(0,e.jsx)("div",{style:{maxWidth:"160px"},className:"text-sm text-[#213044] font-medium truncate",children:(0,e.jsx)(ye,{ellipsis:{tooltip:s.name},children:s.name})}),(0,e.jsxs)("div",{className:" leading-6 flex items-center justify-end text-xs font-normal text-[#999999]",children:[(0,e.jsxs)("div",{children:[t.formatMessage({id:"creation.numberofcitation"}),":"," "]}),(0,e.jsxs)("div",{className:"text-[#1B64F3] ml-2",children:[" ",s.execution_times?s.execution_times:0]})]})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between w-full text-xs font-normal text-[#999999]",children:[(0,e.jsx)("div",{className:"text-xs font-normal text-[#999999] mt-[7px]",children:na.map(function(r,z){return r.apps_mode===s.mode?r.name:null})}),(0,e.jsxs)("div",{className:" flex items-center justify-end mt-[7px]",children:[(0,e.jsx)("div",{className:"max-w-[56px] mr-2 ",children:(0,e.jsx)(ye,{ellipsis:{tooltip:s.published_creator},className:"text-base",children:(0,e.jsx)("div",{className:" text-[#999999] text-xs",children:s.published_creator})})}),(0,e.jsx)("div",{children:s.published_time?(0,e.jsxs)("span",{children:[Ie()(s.published_time).format("YYYY-MM-DD HH:mm:ss")," ",t.formatMessage({id:"creation.publish"})]}):s.mode!==3?(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:"/icons/unpublish.svg",alt:"",className:"mr-[5px]"}),t.formatMessage({id:"creation.unpublish"})]}):null})]})]})]})]})],description:(0,e.jsx)("div",{style:{height:70,margin:"20px 0 20px 0"},children:(0,e.jsx)(Be,{ellipsis:{rows:4,tooltip:s.description},children:(0,e.jsx)("div",{style:{color:"#999999"},children:s.description})})})})}),(0,e.jsxs)("div",{className:"flex justify-between",children:[(0,e.jsx)("div",{className:"flex items-center justify-start",style:{height:"24px"},children:s.list&&s.list.length?(0,e.jsx)(o.Z,{placement:"bottomLeft",content:(0,e.jsx)("div",{className:" overflow-auto",children:s.list.map(function(r,z){return(0,e.jsxs)("div",{className:"w-80 flex items-center justify-start p-1.5 rounded-md  cursor-pointer hover:bg-[#fafafa]",onClick:function(){return la(r)},children:[(0,e.jsx)("div",{className:"mr-3.5",children:(0,e.jsx)("div",{className:"w-[36px] h-[36px] bg-[#EDF3FE] rounded-lg mr-1.5 flex items-center justify-center ",children:(0,e.jsx)("img",{src:(0,g.s9)("single",r.icon),alt:""})})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-xs font-normal text-[#213044]",children:r.name}),(0,e.jsx)("div",{className:"text-xs font-normal text-[#666]",children:(r==null?void 0:r.mode)==1?t.formatMessage({id:"workflow.agent"}):(r==null?void 0:r.mode)==2?t.formatMessage({id:"component.menu.workflow"}):(r==null?void 0:r.mode)==3?t.formatMessage({id:"component.menu.knowledgeBase"}):t.formatMessage({id:"workflow.skill"})})]})]},z)})}),children:(0,e.jsxs)("div",{className:"flex items-center justify-around text-xs font-normal",children:[t.formatMessage({id:"creation.relevancy.app"})," ",":",s.list.slice(0,4).map(function(r,z){return(0,e.jsx)("div",{children:(0,e.jsx)("div",{className:"w-8 h-8 bg-[#EDF3FE] rounded-lg ml-1.5 flex items-center justify-center ",children:(0,e.jsx)("img",{src:(0,g.s9)("single",r.icon),alt:""})})},z)}),s.list.length>4?(0,e.jsx)("div",{className:"w-8 h-8 bg-[#EDF3FE] rounded-lg ml-1.5 flex items-center justify-center ",children:(0,e.jsx)("img",{src:"/icons/more.svg",alt:""})}):null]})}):null}),(0,e.jsx)("div",{children:JSON.parse((h=(0,g.f1)("GET"))===null||h===void 0?void 0:h.searchType)?null:(0,e.jsx)(o.Z,{placement:"rightTop",open:ha==n,onOpenChange:function(z){ge(-1)},content:(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:(0,e.jsxs)(X.ZP,{type:"link",className:"text-[#213044]",onClick:function(){Ma(s,-1)},children:[(0,e.jsx)(Z.Z,{}),t.formatMessage({id:"creation.redact"})]})}),(0,e.jsx)("div",{children:(0,e.jsxs)(X.ZP,{type:"link",className:"text-[#E12222]",onClick:function(){return Ea(s,-1)},children:[(0,e.jsx)(U.Z,{}),t.formatMessage({id:"creation.delete"})]})})]}),children:(0,e.jsx)("div",{onMouseEnter:function(){ge(n)},className:"w-[26px] h-[26px] flex items-center justify-center",children:(0,e.jsx)(K.Z,{onClick:function(){ge(n)}},"setting")})})})]})]})})},n)}):null]})}):P&&P.list&&P.list.length==0?(0,e.jsxs)("div",{className:"w-full flex items-center flex-wrap justify-center mt-48",children:[(0,e.jsx)("div",{className:"w-full flex items-center justify-center mb-2.5",children:(0,e.jsx)("img",{src:"/icons/default.svg",alt:""})}),se&&se!==""?(0,e.jsxs)("div",{children:["\u201C",se,"\u201D"]}):(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"w-full text-center mb-3 text-[#666] text-sm",children:[t.formatMessage({id:"creation.margindescribe"})," ~"]}),(0,e.jsxs)("div",{className:"w-full text-center",children:[" ",(0,e.jsx)(X.ZP,{color:"primary",onClick:function(){Na()},children:t.formatMessage({id:"creation.addnewapp"})})," "]})]})]}):null})}),(0,e.jsxs)(N.Z,{title:"",open:pe,okText:t.formatMessage({id:"creation.conserve"}),onOk:ja,onCancel:_a,children:[(0,e.jsxs)("div",{className:"mb-[30px]",children:[(0,e.jsxs)("div",{className:"mb-[15px]",children:[(m==null?void 0:m.mode)==1?t.formatMessage({id:"creation.agent"}):(m==null?void 0:m.mode)==2?t.formatMessage({id:"creation.workflow"}):(m==null?void 0:m.mode)==3?t.formatMessage({id:"creation.repository"}):t.formatMessage({id:"creation.skill"}),t.formatMessage({id:"creation.appiconname"})]}),(0,e.jsxs)("div",{className:"flex items-center justify-around",children:[(0,e.jsx)(Ue.Z,{CardData:m,setCardData:Je}),(0,e.jsx)(D.Z,{showCount:!0,maxLength:20,placeholder:t.formatMessage({id:"creation.placeholder.appname"}),onChange:ya,value:Ee})]})]}),(0,e.jsxs)("div",{className:"mb-[30px]",children:[(0,e.jsxs)("div",{className:"mb-[15px]",children:[(m==null?void 0:m.mode)==1?t.formatMessage({id:"creation.agent"}):(m==null?void 0:m.mode)==2?t.formatMessage({id:"creation.workflow"}):(m==null?void 0:m.mode)==3?t.formatMessage({id:"creation.repository"}):t.formatMessage({id:"creation.skill"}),t.formatMessage({id:"creation.appdescribe"})]}),(0,e.jsx)(Ce,{showCount:!0,maxLength:100,rows:4,placeholder:t.formatMessage({id:"creation.placeholder.appdescribe"}),onChange:Ca,value:Ne})]})]}),(0,e.jsx)(_e.Z,{setIsModalOpen:He,isModalOpen:Ye,ModalType:!0,CreationType:aa,setcreationType:Se,transformData:ae.filter(function(s){return s.apps_mode!==6})})]})},b=T}}]);
