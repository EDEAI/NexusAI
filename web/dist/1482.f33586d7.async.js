!(function(){"use strict";var G=Object.defineProperty;var D=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var $=(k,i,r)=>i in k?G(k,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):k[i]=r,B=(k,i)=>{for(var r in i||(i={}))Q.call(i,r)&&$(k,r,i[r]);if(D)for(var r of D(i))Z.call(i,r)&&$(k,r,i[r]);return k};var y=(k,i,r)=>new Promise((W,v)=>{var f=l=>{try{m(r.next(l))}catch(g){v(g)}},t=l=>{try{m(r.throw(l))}catch(g){v(g)}},m=l=>l.done?W(l.value):Promise.resolve(l.value).then(f,t);m((r=r.apply(k,i)).next())});(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1482],{39685:function(k,i,r){r.d(i,{A:function(){return v}});var W=r(32426);function v(f,t){var m,l,g;f.accDescr&&((m=t.setAccDescription)==null||m.call(t,f.accDescr)),f.accTitle&&((l=t.setAccTitle)==null||l.call(t,f.accTitle)),f.title&&((g=t.setDiagramTitle)==null||g.call(t,f.title))}(0,W.eW)(v,"populateCommonDb")},91482:function(k,i,r){r.d(i,{diagram:function(){return Y}});var W=r(39685),v=r(8111),f=r(21749),t=r(32426),m=r(12491),l={packet:[]},g=structuredClone(l),T=t.vZ.packet,A=(0,t.eW)(()=>{const e=(0,v.Rb)(B(B({},T),(0,t.iE)().packet));return e.showBits&&(e.paddingY+=10),e},"getConfig"),M=(0,t.eW)(()=>g.packet,"getPacket"),O=(0,t.eW)(e=>{e.length>0&&g.packet.push(e)},"pushWord"),S=(0,t.eW)(()=>{(0,t.ZH)(),g=structuredClone(l)},"clear"),x={pushWord:O,getPacket:M,getConfig:A,clear:S,setAccTitle:t.GN,getAccTitle:t.eu,setDiagramTitle:t.g2,getDiagramTitle:t.Kr,getAccDescription:t.Mx,setAccDescription:t.U$},F=1e4,L=(0,t.eW)(e=>{(0,W.A)(e,x);let a=-1,c=[],d=1;const{bitsPerRow:p}=x.getConfig();for(let{start:o,end:n,bits:s,label:E}of e.blocks){if(o!==void 0&&n!==void 0&&n<o)throw new Error(`Packet block ${o} - ${n} is invalid. End must be greater than start.`);if(o!=null||(o=a+1),o!==a+1)throw new Error(`Packet block ${o} - ${n!=null?n:o} is not contiguous. It should start from ${a+1}.`);if(s===0)throw new Error(`Packet block ${o} is invalid. Cannot have a zero bit field.`);for(n!=null||(n=o+(s!=null?s:1)-1),s!=null||(s=n-o+1),a=n,t.cM.debug(`Packet block ${o} - ${a} with label ${E}`);c.length<=p+1&&x.getPacket().length<F;){const[u,h]=z({start:o,end:n,bits:s,label:E},d,p);if(c.push(u),u.end+1===d*p&&(x.pushWord(c),c=[],d++),!h)break;({start:o,end:n,bits:s,label:E}=h)}}x.pushWord(c)},"populate"),z=(0,t.eW)((e,a,c)=>{if(e.start===void 0)throw new Error("start should have been set during first phase");if(e.end===void 0)throw new Error("end should have been set during first phase");if(e.start>e.end)throw new Error(`Block start ${e.start} is greater than block end ${e.end}.`);if(e.end+1<=a*c)return[e,void 0];const d=a*c-1,p=a*c;return[{start:e.start,end:d,label:e.label,bits:d-e.start},{start:p,end:e.end,label:e.label,bits:e.end-p}]},"getNextFittingBlock"),R={parse:(0,t.eW)(e=>y(this,null,function*(){const a=yield(0,m.Qc)("packet",e);t.cM.debug(a),L(a)}),"parse")},I=(0,t.eW)((e,a,c,d)=>{const p=d.db,o=p.getConfig(),{rowHeight:n,paddingY:s,bitWidth:E,bitsPerRow:u}=o,h=p.getPacket(),_=p.getDiagramTitle(),P=n+s,C=P*(h.length+1)-(_?0:n),b=E*u+2,w=(0,f.P)(a);w.attr("viewbox",`0 0 ${b} ${C}`),(0,t.v2)(w,C,b,o.useMaxWidth);for(const[H,X]of h.entries())K(w,X,H,o);w.append("text").text(_).attr("x",b/2).attr("y",C-P/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),K=(0,t.eW)((e,a,c,{rowHeight:d,paddingX:p,paddingY:o,bitWidth:n,bitsPerRow:s,showBits:E})=>{const u=e.append("g"),h=c*(d+o)+o;for(const _ of a){const P=_.start%s*n+1,C=(_.end-_.start+1)*n-p;if(u.append("rect").attr("x",P).attr("y",h).attr("width",C).attr("height",d).attr("class","packetBlock"),u.append("text").attr("x",P+C/2).attr("y",h+d/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(_.label),!E)continue;const b=_.end===_.start,w=h-2;u.append("text").attr("x",P+(b?C/2:0)).attr("y",w).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",b?"middle":"start").text(_.start),b||u.append("text").attr("x",P+C).attr("y",w).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(_.end)}},"drawWord"),U={draw:I},j={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},N=(0,t.eW)(({packet:e}={})=>{const a=(0,v.Rb)(j,e);return`
	.packetByte {
		font-size: ${a.byteFontSize};
	}
	.packetByte.start {
		fill: ${a.startByteColor};
	}
	.packetByte.end {
		fill: ${a.endByteColor};
	}
	.packetLabel {
		fill: ${a.labelColor};
		font-size: ${a.labelFontSize};
	}
	.packetTitle {
		fill: ${a.titleColor};
		font-size: ${a.titleFontSize};
	}
	.packetBlock {
		stroke: ${a.blockStrokeColor};
		stroke-width: ${a.blockStrokeWidth};
		fill: ${a.blockFillColor};
	}
	`},"styles"),Y={parser:R,db:x,renderer:U,styles:N}}}]);
}());