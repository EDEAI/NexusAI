"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7735],{36711:function(C,f,e){e.r(f),e.d(f,{waitTime:function(){return I},waitTimePromise:function(){return c}});var M=e(97857),h=e.n(M),P=e(5574),w=e.n(P),b=e(15009),n=e.n(b),O=e(99289),g=e.n(O),v=e(42237),D=e(29608),j=e(46944),p=e(76772),T=e(67294),t=e(85893),c=function(){var s=g()(n()().mark(function i(){var o,a=arguments;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=a.length>0&&a[0]!==void 0?a[0]:100,r.abrupt("return",new Promise(function(R){setTimeout(function(){R(!0)},o)}));case 2:case"end":return r.stop()}},i)}));return function(){return s.apply(this,arguments)}}(),I=function(){var s=g()(n()().mark(function i(){var o,a=arguments;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=a.length>0&&a[0]!==void 0?a[0]:100,r.next=3,c(o);case 3:case"end":return r.stop()}},i)}));return function(){return s.apply(this,arguments)}}();f.default=function(){var s=(0,p.useIntl)(),i=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:s.formatMessage({id:"workflow.toName",defaultMessage:""}),dataIndex:"app_runs_name",ellipsis:!0,fieldProps:{onChange:function(l){var _;u==null||(_=u.current)===null||_===void 0||_.submit()}}},{title:s.formatMessage({id:"workflow.created_time",defaultMessage:""}),dataIndex:"created_time",ellipsis:!0,width:180,tooltip:s.formatMessage({id:"workflow.created_time_des",defaultMessage:s.formatMessage({id:"workflow.created_time_des",defaultMessage:""})}),search:!1},{disable:!0,title:s.formatMessage({id:"workflow.status",defaultMessage:""}),dataIndex:"app_runs_status",filters:!0,onFilter:!0,ellipsis:!0,width:120,valueType:"select",fieldProps:{onChange:function(l){var _;u==null||(_=u.current)===null||_===void 0||_.submit()}},valueEnum:{1:{text:s.formatMessage({id:"workflow.running",defaultMessage:""}),status:"Processing"},2:{text:s.formatMessage({id:"workflow.runSc",defaultMessage:""}),status:"Success"},3:{text:s.formatMessage({id:"workflow.runF",defaultMessage:""}),status:"Error"}}},{title:"".concat(s.formatMessage({id:"workflow.elapsed_time",defaultMessage:""}),"S"),dataIndex:"elapsed_time",ellipsis:!0,width:100,tooltip:s.formatMessage({id:"workflow.run_time"}),search:!1},{title:"Tokens",key:"showTime",dataIndex:"total_tokens",width:100,hideInSearch:!0},{title:s.formatMessage({id:"workflow.user"}),dataIndex:"nickname",search:!1,width:120,ellipsis:!0,key:"user"}],o=(0,p.useSearchParams)(),a=w()(o,1),A=a[0],r=(0,D.Z)(function(d){return d.setRunPanelLogRecord}),R=A.get("app_id"),u=(0,T.useRef)(null);return(0,t.jsx)("div",{className:"h-full w-screen pl-[60px] box-border",children:(0,t.jsx)("div",{children:(0,t.jsx)(j.Z,{columns:i,formRef:u,form:{submitter:!1},cardBordered:!0,style:{height:"calc(100% - 20px)"},scroll:{y:"calc(100vh - 380px)",x:"100%"},request:function(){var d=g()(n()().mark(function l(_,y,B){var E;return n()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return console.log(_,y,B),m.next=3,(0,v.bB)(h()(h()({app_runs_name:"",app_runs_status:0},_),{},{app_id:R}));case 3:return E=m.sent,console.log(E),m.abrupt("return",{data:E.data.list,success:!0,total:E.data.total_count});case 6:case"end":return m.stop()}},l)}));return function(l,_,y){return d.apply(this,arguments)}}(),onRow:function(l){return{onClick:function(){console.log("Row clicked:",l),r(l)}}},editable:{type:"multiple"},rowKey:"app_runs_id",search:{labelWidth:"auto"},options:{setting:{listsHeight:600}},pagination:{pageSize:12,showSizeChanger:!1},dateFormatter:"string",headerTitle:s.formatMessage({id:"workflow.workflowLog",defaultMessage:""})})})})}},79697:function(C,f,e){var M=e(39473),h=e(83970),P=e(29169),w=e(27771),b=e(50585),n=e(77008),O=e(72764),g=e(18843),v="[object Map]",D="[object Set]",j=Object.prototype,p=j.hasOwnProperty;function T(t){if(t==null)return!0;if((0,b.Z)(t)&&((0,w.Z)(t)||typeof t=="string"||typeof t.splice=="function"||(0,n.Z)(t)||(0,g.Z)(t)||(0,P.Z)(t)))return!t.length;var c=(0,h.Z)(t);if(c==v||c==D)return!t.size;if((0,O.Z)(t))return!(0,M.Z)(t).length;for(var I in t)if(p.call(t,I))return!1;return!0}f.Z=T}}]);
