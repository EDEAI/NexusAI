"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4418],{68262:function(_,N,e){e.d(N,{U:function(){return G}});var o=e(1413),x=e(91),w=e(10915),z=e(21532),O=e(93967),f=e.n(O),E=e(67294),W=e(34994),S=e(4942),d=e(98082),H=function(s){return(0,S.Z)((0,S.Z)({},s.componentCls,{"&-container":{display:"flex",flex:"1",flexDirection:"column",height:"100%",paddingInline:32,paddingBlock:24,overflow:"auto",background:"inherit"},"&-top":{textAlign:"center"},"&-header":{display:"flex",alignItems:"center",justifyContent:"center",height:"44px",lineHeight:"44px",a:{textDecoration:"none"}},"&-title":{position:"relative",insetBlockStart:"2px",color:"@heading-color",fontWeight:"600",fontSize:"33px"},"&-logo":{width:"44px",height:"44px",marginInlineEnd:"16px",verticalAlign:"top",img:{width:"100%"}},"&-desc":{marginBlockStart:"12px",marginBlockEnd:"40px",color:s.colorTextSecondary,fontSize:s.fontSize},"&-main":{minWidth:"328px",maxWidth:"580px",margin:"0 auto","&-other":{marginBlockStart:"24px",lineHeight:"22px",textAlign:"start"}}}),"@media (min-width: @screen-md-min)",(0,S.Z)({},"".concat(s.componentCls,"-container"),{paddingInline:0,paddingBlockStart:32,paddingBlockEnd:24,backgroundRepeat:"no-repeat",backgroundPosition:"center 110px",backgroundSize:"100%"}))};function b(n){return(0,d.Xj)("LoginForm",function(s){var u=(0,o.Z)((0,o.Z)({},s),{},{componentCls:".".concat(n)});return[H(u)]})}var a=e(85893),D=["logo","message","contentStyle","title","subTitle","actions","children","containerStyle","otherStyle"];function G(n){var s,u=n.logo,m=n.message,U=n.contentStyle,p=n.title,C=n.subTitle,L=n.actions,$=n.children,t=n.containerStyle,K=n.otherStyle,r=(0,x.Z)(n,D),Q=(0,w.YB)(),F=r.submitter===!1?!1:(0,o.Z)((0,o.Z)({searchConfig:{submitText:Q.getMessage("loginForm.submitText","\u767B\u5F55")}},r.submitter),{},{submitButtonProps:(0,o.Z)({size:"large",style:{width:"100%"}},(s=r.submitter)===null||s===void 0?void 0:s.submitButtonProps),render:function(j,Y){var T,J=Y.pop();if(typeof(r==null||(T=r.submitter)===null||T===void 0?void 0:T.render)=="function"){var P,h;return r==null||(P=r.submitter)===null||P===void 0||(h=P.render)===null||h===void 0?void 0:h.call(P,j,Y)}return J}}),y=(0,E.useContext)(z.ZP.ConfigContext),v=y.getPrefixCls("pro-form-login"),V=b(v),R=V.wrapSSR,M=V.hashId,l=function(j){return"".concat(v,"-").concat(j," ").concat(M)},i=(0,E.useMemo)(function(){return u?typeof u=="string"?(0,a.jsx)("img",{src:u}):u:null},[u]);return R((0,a.jsxs)("div",{className:f()(l("container"),M),style:t,children:[(0,a.jsxs)("div",{className:"".concat(l("top")," ").concat(M).trim(),children:[p||i?(0,a.jsxs)("div",{className:"".concat(l("header")),children:[i?(0,a.jsx)("span",{className:l("logo"),children:i}):null,p?(0,a.jsx)("span",{className:l("title"),children:p}):null]}):null,C?(0,a.jsx)("div",{className:l("desc"),children:C}):null]}),(0,a.jsxs)("div",{className:l("main"),style:(0,o.Z)({width:328},U),children:[(0,a.jsxs)(W.A,(0,o.Z)((0,o.Z)({isKeyPressSubmit:!0},r),{},{submitter:F,children:[m,$]})),L?(0,a.jsx)("div",{className:l("main-other"),style:K,children:L}):null]})]}))}},42127:function(_,N,e){e.r(N),e.d(N,{default:function(){return Q}});var o=e(15009),x=e.n(o),w=e(99289),z=e.n(w),O=e(5574),f=e.n(O),E=e(56264),W=e(32060),S=e(1413),d=e(67294),H={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},b=H,a=e(91146),D=function(y,v){return d.createElement(a.Z,(0,S.Z)((0,S.Z)({},y),{},{ref:v,icon:b}))},G=d.forwardRef(D),n=G,s=e(68262),u=e(5966),m=e(76772),U=e(40741),p=e(45360),C=e(28036),L=e(14521),$=e(67610),t=e(85893),K=(0,L.kc)(function(F){var y=F.token;return{container:{display:"flex",flexDirection:"column",height:"100vh",overflow:"auto",backgroundImage:"url('https://mdn.alipayobjects.com/yuyan_qk0oxh/afts/img/V-_oS6r-i7wAAAAAAAAAAAAAFl94AQBr')",backgroundSize:"100% 100%"}}}),r=function(){var y=(0,d.useState)(!1),v=f()(y,2),V=v[0],R=v[1],M=K(),l=M.styles,i=(0,m.useIntl)(),X=(0,d.useState)(""),j=f()(X,2),Y=j[0],T=j[1],J=U.Z.useForm(),P=f()(J,1),h=P[0],ee=(0,d.useState)(0),k=f()(ee,2),re=k[0],ie=k[1],te=(0,d.useState)({email:""}),q=f()(te,2),ne=q[0],ae=q[1];(0,d.useEffect)(function(){var c=localStorage.getItem("forgotPasswordEmail");c&&(T(c),ae({email:c}),h.setFieldsValue({email:c}))},[h]);var se=function(){var c=z()(x()().mark(function Z(A){var B;return x()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return R(!0),g.prev=1,g.next=4,(0,W.k1)({email:A.email});case 4:B=g.sent,B.code===0?(p.ZP.success(i.formatMessage({id:"pages.forgotPassword.step1.sendSuccess"})),localStorage.removeItem("forgotPasswordEmail"),m.history.push("/user/forgot-password/step2",{email:A.email})):p.ZP.error(B.message||i.formatMessage({id:"pages.forgotPassword.step1.sendFailed"}));case 6:return g.prev=6,R(!1),g.finish(6);case 9:case"end":return g.stop()}},Z,null,[[1,,6,9]])}));return function(A){return c.apply(this,arguments)}}();return(0,t.jsxs)("div",{className:l.container,children:[(0,t.jsx)(m.Helmet,{children:(0,t.jsxs)("title",{children:[i.formatMessage({id:"pages.forgotPassword.step1.title"}),"- ",$.Z.title]})}),(0,t.jsx)("div",{style:{flex:"1",padding:"32px 0"},children:(0,t.jsx)(s.U,{form:h,contentStyle:{minWidth:280,maxWidth:"75vw"},logo:(0,t.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:"NexusAI",subTitle:i.formatMessage({id:"pages.forgotPassword.step1.subtitle"}),initialValues:ne,onFinish:function(){var c=z()(x()().mark(function Z(A){return x()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,se(A);case 2:case"end":return I.stop()}},Z)}));return function(Z){return c.apply(this,arguments)}}(),submitter:{render:function(Z,A){return(0,t.jsxs)("div",{style:{marginTop:24},children:[(0,t.jsx)(C.ZP,{type:"primary",htmlType:"submit",loading:V,style:{width:"100%"},children:i.formatMessage({id:"pages.forgotPassword.step1.sendCode"})}),(0,t.jsx)(C.ZP,{style:{width:"100%",marginTop:8},onClick:function(){return m.history.push("/user/login")},children:i.formatMessage({id:"pages.forgotPassword.backToLogin"})})]})}},children:(0,t.jsx)(u.Z,{name:"email",fieldProps:{size:"large",prefix:(0,t.jsx)(n,{})},placeholder:i.formatMessage({id:"pages.forgotPassword.step1.email.placeholder"}),rules:[{required:!0,message:(0,t.jsx)(m.FormattedMessage,{id:"pages.forgotPassword.step1.email.required"})},{type:"email",message:(0,t.jsx)(m.FormattedMessage,{id:"pages.forgotPassword.step1.email.invalid"})}],validateTrigger:["onChange","onBlur","onSubmit"]})})}),(0,t.jsx)(E.$_,{})]})},Q=r}}]);
