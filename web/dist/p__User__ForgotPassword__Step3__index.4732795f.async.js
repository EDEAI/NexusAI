"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[725],{68262:function(J,M,e){e.d(M,{U:function(){return G}});var d=e(1413),x=e(91),R=e(10915),F=e(21532),E=e(93967),W=e.n(E),T=e(67294),V=e(34994),y=e(4942),P=e(98082),b=function(a){return(0,y.Z)((0,y.Z)({},a.componentCls,{"&-container":{display:"flex",flex:"1",flexDirection:"column",height:"100%",paddingInline:32,paddingBlock:24,overflow:"auto",background:"inherit"},"&-top":{textAlign:"center"},"&-header":{display:"flex",alignItems:"center",justifyContent:"center",height:"44px",lineHeight:"44px",a:{textDecoration:"none"}},"&-title":{position:"relative",insetBlockStart:"2px",color:"@heading-color",fontWeight:"600",fontSize:"33px"},"&-logo":{width:"44px",height:"44px",marginInlineEnd:"16px",verticalAlign:"top",img:{width:"100%"}},"&-desc":{marginBlockStart:"12px",marginBlockEnd:"40px",color:a.colorTextSecondary,fontSize:a.fontSize},"&-main":{minWidth:"328px",maxWidth:"580px",margin:"0 auto","&-other":{marginBlockStart:"24px",lineHeight:"22px",textAlign:"start"}}}),"@media (min-width: @screen-md-min)",(0,y.Z)({},"".concat(a.componentCls,"-container"),{paddingInline:0,paddingBlockStart:32,paddingBlockEnd:24,backgroundRepeat:"no-repeat",backgroundPosition:"center 110px",backgroundSize:"100%"}))};function D(r){return(0,P.Xj)("LoginForm",function(a){var c=(0,d.Z)((0,d.Z)({},a),{},{componentCls:".".concat(r)});return[b(c)]})}var n=e(85893),H=["logo","message","contentStyle","title","subTitle","actions","children","containerStyle","otherStyle"];function G(r){var a,c=r.logo,v=r.message,j=r.contentStyle,w=r.title,B=r.subTitle,L=r.actions,U=r.children,t=r.containerStyle,K=r.otherStyle,o=(0,x.Z)(r,H),Q=(0,R.YB)(),Z=o.submitter===!1?!1:(0,d.Z)((0,d.Z)({searchConfig:{submitText:Q.getMessage("loginForm.submitText","\u767B\u5F55")}},o.submitter),{},{submitButtonProps:(0,d.Z)({size:"large",style:{width:"100%"}},(a=o.submitter)===null||a===void 0?void 0:a.submitButtonProps),render:function(g,N){var O,Y=N.pop();if(typeof(o==null||(O=o.submitter)===null||O===void 0?void 0:O.render)=="function"){var l,i;return o==null||(l=o.submitter)===null||l===void 0||(i=l.render)===null||i===void 0?void 0:i.call(l,g,N)}return Y}}),S=(0,T.useContext)(F.ZP.ConfigContext),p=S.getPrefixCls("pro-form-login"),I=D(p),z=I.wrapSSR,A=I.hashId,u=function(g){return"".concat(p,"-").concat(g," ").concat(A)},s=(0,T.useMemo)(function(){return c?typeof c=="string"?(0,n.jsx)("img",{src:c}):c:null},[c]);return z((0,n.jsxs)("div",{className:W()(u("container"),A),style:t,children:[(0,n.jsxs)("div",{className:"".concat(u("top")," ").concat(A).trim(),children:[w||s?(0,n.jsxs)("div",{className:"".concat(u("header")),children:[s?(0,n.jsx)("span",{className:u("logo"),children:s}):null,w?(0,n.jsx)("span",{className:u("title"),children:w}):null]}):null,B?(0,n.jsx)("div",{className:u("desc"),children:B}):null]}),(0,n.jsxs)("div",{className:u("main"),style:(0,d.Z)({width:328},j),children:[(0,n.jsxs)(V.A,(0,d.Z)((0,d.Z)({isKeyPressSubmit:!0},o),{},{submitter:Z,children:[v,U]})),L?(0,n.jsx)("div",{className:u("main-other"),style:K,children:L}):null]})]}))}},67916:function(J,M,e){e.r(M),e.d(M,{default:function(){return Q}});var d=e(15009),x=e.n(d),R=e(99289),F=e.n(R),E=e(5574),W=e.n(E),T=e(56264),V=e(94149),y=e(1413),P=e(67294),b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M866.9 169.9L527.1 54.1C523 52.7 517.5 52 512 52s-11 .7-15.1 2.1L157.1 169.9c-8.3 2.8-15.1 12.4-15.1 21.2v482.4c0 8.8 5.7 20.4 12.6 25.9L499.3 968c3.5 2.7 8 4.1 12.6 4.1s9.2-1.4 12.6-4.1l344.7-268.6c6.9-5.4 12.6-17 12.6-25.9V191.1c.2-8.8-6.6-18.3-14.9-21.2zM810 654.3L512 886.5 214 654.3V226.7l298-101.6 298 101.6v427.6zm-405.8-201c-3-4.1-7.8-6.6-13-6.6H336c-6.5 0-10.3 7.4-6.5 12.7l126.4 174a16.1 16.1 0 0026 0l212.6-292.7c3.8-5.3 0-12.7-6.5-12.7h-55.2c-5.1 0-10 2.5-13 6.6L468.9 542.4l-64.7-89.1z"}}]},name:"safety-certificate",theme:"outlined"},D=b,n=e(91146),H=function(S,p){return P.createElement(n.Z,(0,y.Z)((0,y.Z)({},S),{},{ref:p,icon:D}))},G=P.forwardRef(H),r=G,a=e(68262),c=e(5966),v=e(76772),j=e(45360),w=e(28036),B=e(14521),L=e(67610),U=e(32060),t=e(85893),K=(0,B.kc)(function(Z){var S=Z.token;return{container:{display:"flex",flexDirection:"column",height:"100vh",overflow:"auto",backgroundImage:"url('https://mdn.alipayobjects.com/yuyan_qk0oxh/afts/img/V-_oS6r-i7wAAAAAAAAAAAAAFl94AQBr')",backgroundSize:"100% 100%"}}}),o=function(){var S=(0,P.useState)(!1),p=W()(S,2),I=p[0],z=p[1],A=K(),u=A.styles,s=(0,v.useIntl)(),X=(0,v.useLocation)(),g=X.state,N=(g==null?void 0:g.email)||"",O=(g==null?void 0:g.code)||"",Y=function(){var l=F()(x()().mark(function i(m){var C;return x()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(m.password===m.confirmPassword){f.next=3;break}return j.ZP.error(s.formatMessage({id:"pages.forgotPassword.step3.passwordMismatch"})),f.abrupt("return");case 3:return z(!0),f.prev=4,f.next=7,(0,U.q6)({email:N,password:m.password,confirm_password:m.confirmPassword});case 7:C=f.sent,C.code===0?(j.ZP.success(s.formatMessage({id:"pages.forgotPassword.step3.resetSuccess"})),localStorage.removeItem("forgotPasswordEmail"),v.history.push("/user/login")):j.ZP.error(C.message||s.formatMessage({id:"pages.forgotPassword.step3.resetFailed"}));case 9:return f.prev=9,z(!1),f.finish(9);case 12:case"end":return f.stop()}},i,null,[[4,,9,12]])}));return function(m){return l.apply(this,arguments)}}();return(0,t.jsxs)("div",{className:u.container,children:[(0,t.jsx)(v.Helmet,{children:(0,t.jsxs)("title",{children:[s.formatMessage({id:"pages.forgotPassword.step3.title"}),"- ",L.Z.title]})}),(0,t.jsx)("div",{style:{flex:"1",padding:"32px 0"},children:(0,t.jsxs)(a.U,{contentStyle:{minWidth:280,maxWidth:"75vw"},logo:(0,t.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:"NexusAI",subTitle:s.formatMessage({id:"pages.forgotPassword.step3.subtitle"}),onFinish:function(){var l=F()(x()().mark(function i(m){return x()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Y(m);case 2:case"end":return h.stop()}},i)}));return function(i){return l.apply(this,arguments)}}(),submitter:{render:function(i,m){return(0,t.jsx)("div",{style:{marginTop:24},children:(0,t.jsx)(w.ZP,{type:"primary",htmlType:"submit",loading:I,style:{width:"100%"},children:s.formatMessage({id:"pages.forgotPassword.step3.resetPassword"})})})}},children:[(0,t.jsx)(c.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,t.jsx)(V.Z,{})},placeholder:s.formatMessage({id:"pages.forgotPassword.step3.password.placeholder"}),rules:[{required:!0,message:(0,t.jsx)(v.FormattedMessage,{id:"pages.forgotPassword.step3.password.required"})}]}),(0,t.jsx)(c.Z.Password,{name:"confirmPassword",fieldProps:{size:"large",prefix:(0,t.jsx)(r,{})},placeholder:s.formatMessage({id:"pages.forgotPassword.step3.confirmPassword.placeholder"}),rules:[{required:!0,message:(0,t.jsx)(v.FormattedMessage,{id:"pages.forgotPassword.step3.confirmPassword.required"})},function(l){var i=l.getFieldValue;return{validator:function(C,h){return!h||i("password")===h?Promise.resolve():Promise.reject(new Error(s.formatMessage({id:"pages.forgotPassword.step3.confirmPassword.mismatch"})))}}}]})]})}),(0,t.jsx)(T.$_,{})]})},Q=o}}]);
