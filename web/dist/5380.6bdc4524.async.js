!(function(){var ye=Object.defineProperty,Ee=Object.defineProperties;var me=Object.getOwnPropertyDescriptors;var ve=Object.getOwnPropertySymbols;var Te=Object.prototype.hasOwnProperty,Ne=Object.prototype.propertyIsEnumerable;var de=(Xt,nt,gt)=>nt in Xt?ye(Xt,nt,{enumerable:!0,configurable:!0,writable:!0,value:gt}):Xt[nt]=gt,ee=(Xt,nt)=>{for(var gt in nt||(nt={}))Te.call(nt,gt)&&de(Xt,gt,nt[gt]);if(ve)for(var gt of ve(nt))Ne.call(nt,gt)&&de(Xt,gt,nt[gt]);return Xt},ie=(Xt,nt)=>Ee(Xt,me(nt));var kt=(Xt,nt,gt)=>new Promise((R,p)=>{var s=o=>{try{t(gt.next(o))}catch(d){p(d)}},n=o=>{try{t(gt.throw(o))}catch(d){p(d)}},t=o=>o.done?R(o.value):Promise.resolve(o.value).then(s,n);t((gt=gt.apply(Xt,nt)).next())});(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[5380],{44867:function(Xt,nt,gt){(function(p,s){Xt.exports=s(gt(26914))})(this,function(R){return(()=>{"use strict";var p={658:o=>{o.exports=Object.assign!=null?Object.assign.bind(Object):function(d){for(var r=arguments.length,g=Array(r>1?r-1:0),e=1;e<r;e++)g[e-1]=arguments[e];return g.forEach(function(i){Object.keys(i).forEach(function(h){return d[h]=i[h]})}),d}},548:(o,d,r)=>{var g=function(){function h(u,c){var E=[],l=!0,L=!1,T=void 0;try{for(var N=u[Symbol.iterator](),D;!(l=(D=N.next()).done)&&(E.push(D.value),!(c&&E.length===c));l=!0);}catch(tt){L=!0,T=tt}finally{try{!l&&N.return&&N.return()}finally{if(L)throw T}}return E}return function(u,c){if(Array.isArray(u))return u;if(Symbol.iterator in Object(u))return h(u,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=r(140).layoutBase.LinkedList,i={};i.getTopMostNodes=function(h){for(var u={},c=0;c<h.length;c++)u[h[c].id()]=!0;var E=h.filter(function(l,L){typeof l=="number"&&(l=L);for(var T=l.parent()[0];T!=null;){if(u[T.id()])return!1;T=T.parent()[0]}return!0});return E},i.connectComponents=function(h,u,c,E){var l=new e,L=new Set,T=[],N=void 0,D=void 0,tt=void 0,S=!1,ot=1,mt=[],vt=[],Dt=function(){var Q=h.collection();vt.push(Q);var a=c[0],m=h.collection();m.merge(a).merge(a.descendants().intersection(u)),T.push(a),m.forEach(function(v){l.push(v),L.add(v),Q.merge(v)});for(var f=function(){a=l.shift();var I=h.collection();a.neighborhood().nodes().forEach(function(Y){u.intersection(a.edgesWith(Y)).length>0&&I.merge(Y)});for(var M=0;M<I.length;M++){var W=I[M];if(N=c.intersection(W.union(W.ancestors())),N!=null&&!L.has(N[0])){var H=N.union(N.descendants());H.forEach(function(Y){l.push(Y),L.add(Y),Q.merge(Y),c.has(Y)&&T.push(Y)})}}};l.length!=0;)f();if(Q.forEach(function(v){u.intersection(v.connectedEdges()).forEach(function(I){Q.has(I.source())&&Q.has(I.target())&&Q.merge(I)})}),T.length==c.length&&(S=!0),!S||S&&ot>1){D=T[0],tt=D.connectedEdges().length,T.forEach(function(v){v.connectedEdges().length<tt&&(tt=v.connectedEdges().length,D=v)}),mt.push(D.id());var y=h.collection();y.merge(T[0]),T.forEach(function(v){y.merge(v)}),T=[],c=c.difference(y),ot++}};do Dt();while(!S);return E&&mt.length>0&&E.set("dummy"+(E.size+1),mt),vt},i.relocateComponent=function(h,u,c){if(!c.fixedNodeConstraint){var E=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,L=Number.POSITIVE_INFINITY,T=Number.NEGATIVE_INFINITY;if(c.quality=="draft"){var N=!0,D=!1,tt=void 0;try{for(var S=u.nodeIndexes[Symbol.iterator](),ot;!(N=(ot=S.next()).done);N=!0){var mt=ot.value,vt=g(mt,2),Dt=vt[0],G=vt[1],Q=c.cy.getElementById(Dt);if(Q){var a=Q.boundingBox(),m=u.xCoords[G]-a.w/2,f=u.xCoords[G]+a.w/2,y=u.yCoords[G]-a.h/2,v=u.yCoords[G]+a.h/2;m<E&&(E=m),f>l&&(l=f),y<L&&(L=y),v>T&&(T=v)}}}catch(Y){D=!0,tt=Y}finally{try{!N&&S.return&&S.return()}finally{if(D)throw tt}}var I=h.x-(l+E)/2,M=h.y-(T+L)/2;u.xCoords=u.xCoords.map(function(Y){return Y+I}),u.yCoords=u.yCoords.map(function(Y){return Y+M})}else{Object.keys(u).forEach(function(Y){var j=u[Y],ft=j.getRect().x,V=j.getRect().x+j.getRect().width,ct=j.getRect().y,q=j.getRect().y+j.getRect().height;ft<E&&(E=ft),V>l&&(l=V),ct<L&&(L=ct),q>T&&(T=q)});var W=h.x-(l+E)/2,H=h.y-(T+L)/2;Object.keys(u).forEach(function(Y){var j=u[Y];j.setCenter(j.getCenterX()+W,j.getCenterY()+H)})}}},i.calcBoundingBox=function(h,u,c,E){for(var l=Number.MAX_SAFE_INTEGER,L=Number.MIN_SAFE_INTEGER,T=Number.MAX_SAFE_INTEGER,N=Number.MIN_SAFE_INTEGER,D=void 0,tt=void 0,S=void 0,ot=void 0,mt=h.descendants().not(":parent"),vt=mt.length,Dt=0;Dt<vt;Dt++){var G=mt[Dt];D=u[E.get(G.id())]-G.width()/2,tt=u[E.get(G.id())]+G.width()/2,S=c[E.get(G.id())]-G.height()/2,ot=c[E.get(G.id())]+G.height()/2,l>D&&(l=D),L<tt&&(L=tt),T>S&&(T=S),N<ot&&(N=ot)}var Q={};return Q.topLeftX=l,Q.topLeftY=T,Q.width=L-l,Q.height=N-T,Q},i.calcParentsWithoutChildren=function(h,u){var c=h.collection();return u.nodes(":parent").forEach(function(E){var l=!1;E.children().forEach(function(L){L.css("display")!="none"&&(l=!0)}),l||c.merge(E)}),c},o.exports=i},816:(o,d,r)=>{var g=r(548),e=r(140).CoSELayout,i=r(140).CoSENode,h=r(140).layoutBase.PointD,u=r(140).layoutBase.DimensionD,c=r(140).layoutBase.LayoutConstants,E=r(140).layoutBase.FDLayoutConstants,l=r(140).CoSEConstants,L=function(N,D){var tt=N.cy,S=N.eles,ot=S.nodes(),mt=S.edges(),vt=void 0,Dt=void 0,G=void 0,Q={};N.randomize&&(vt=D.nodeIndexes,Dt=D.xCoords,G=D.yCoords);var a=function(Y){return typeof Y=="function"},m=function(Y,j){return a(Y)?Y(j):Y},f=g.calcParentsWithoutChildren(tt,S),y=function H(Y,j,ft,V){for(var ct=j.length,q=0;q<ct;q++){var A=j[q],z=null;A.intersection(f).length==0&&(z=A.children());var K=void 0,ht=A.layoutDimensions({nodeDimensionsIncludeLabels:V.nodeDimensionsIncludeLabels});if(A.outerWidth()!=null&&A.outerHeight()!=null)if(V.randomize)if(!A.isParent())K=Y.add(new i(ft.graphManager,new h(Dt[vt.get(A.id())]-ht.w/2,G[vt.get(A.id())]-ht.h/2),new u(parseFloat(ht.w),parseFloat(ht.h))));else{var wt=g.calcBoundingBox(A,Dt,G,vt);A.intersection(f).length==0?K=Y.add(new i(ft.graphManager,new h(wt.topLeftX,wt.topLeftY),new u(wt.width,wt.height))):K=Y.add(new i(ft.graphManager,new h(wt.topLeftX,wt.topLeftY),new u(parseFloat(ht.w),parseFloat(ht.h))))}else K=Y.add(new i(ft.graphManager,new h(A.position("x")-ht.w/2,A.position("y")-ht.h/2),new u(parseFloat(ht.w),parseFloat(ht.h))));else K=Y.add(new i(this.graphManager));if(K.id=A.data("id"),K.nodeRepulsion=m(V.nodeRepulsion,A),K.paddingLeft=parseInt(A.css("padding")),K.paddingTop=parseInt(A.css("padding")),K.paddingRight=parseInt(A.css("padding")),K.paddingBottom=parseInt(A.css("padding")),V.nodeDimensionsIncludeLabels&&(K.labelWidth=A.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,K.labelHeight=A.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,K.labelPosVertical=A.css("text-valign"),K.labelPosHorizontal=A.css("text-halign")),Q[A.data("id")]=K,isNaN(K.rect.x)&&(K.rect.x=0),isNaN(K.rect.y)&&(K.rect.y=0),z!=null&&z.length>0){var at=void 0;at=ft.getGraphManager().add(ft.newGraph(),K),H(at,z,ft,V)}}},v=function(Y,j,ft){for(var V=0,ct=0,q=0;q<ft.length;q++){var A=ft[q],z=Q[A.data("source")],K=Q[A.data("target")];if(z&&K&&z!==K&&z.getEdgesBetween(K).length==0){var ht=j.add(Y.newEdge(),z,K);ht.id=A.id(),ht.idealLength=m(N.idealEdgeLength,A),ht.edgeElasticity=m(N.edgeElasticity,A),V+=ht.idealLength,ct++}}N.idealEdgeLength!=null&&(ct>0?l.DEFAULT_EDGE_LENGTH=E.DEFAULT_EDGE_LENGTH=V/ct:a(N.idealEdgeLength)?l.DEFAULT_EDGE_LENGTH=E.DEFAULT_EDGE_LENGTH=50:l.DEFAULT_EDGE_LENGTH=E.DEFAULT_EDGE_LENGTH=N.idealEdgeLength,l.MIN_REPULSION_DIST=E.MIN_REPULSION_DIST=E.DEFAULT_EDGE_LENGTH/10,l.DEFAULT_RADIAL_SEPARATION=E.DEFAULT_EDGE_LENGTH)},I=function(Y,j){j.fixedNodeConstraint&&(Y.constraints.fixedNodeConstraint=j.fixedNodeConstraint),j.alignmentConstraint&&(Y.constraints.alignmentConstraint=j.alignmentConstraint),j.relativePlacementConstraint&&(Y.constraints.relativePlacementConstraint=j.relativePlacementConstraint)};N.nestingFactor!=null&&(l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=E.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=N.nestingFactor),N.gravity!=null&&(l.DEFAULT_GRAVITY_STRENGTH=E.DEFAULT_GRAVITY_STRENGTH=N.gravity),N.numIter!=null&&(l.MAX_ITERATIONS=E.MAX_ITERATIONS=N.numIter),N.gravityRange!=null&&(l.DEFAULT_GRAVITY_RANGE_FACTOR=E.DEFAULT_GRAVITY_RANGE_FACTOR=N.gravityRange),N.gravityCompound!=null&&(l.DEFAULT_COMPOUND_GRAVITY_STRENGTH=E.DEFAULT_COMPOUND_GRAVITY_STRENGTH=N.gravityCompound),N.gravityRangeCompound!=null&&(l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=E.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=N.gravityRangeCompound),N.initialEnergyOnIncremental!=null&&(l.DEFAULT_COOLING_FACTOR_INCREMENTAL=E.DEFAULT_COOLING_FACTOR_INCREMENTAL=N.initialEnergyOnIncremental),N.tilingCompareBy!=null&&(l.TILING_COMPARE_BY=N.tilingCompareBy),N.quality=="proof"?c.QUALITY=2:c.QUALITY=0,l.NODE_DIMENSIONS_INCLUDE_LABELS=E.NODE_DIMENSIONS_INCLUDE_LABELS=c.NODE_DIMENSIONS_INCLUDE_LABELS=N.nodeDimensionsIncludeLabels,l.DEFAULT_INCREMENTAL=E.DEFAULT_INCREMENTAL=c.DEFAULT_INCREMENTAL=!N.randomize,l.ANIMATE=E.ANIMATE=c.ANIMATE=N.animate,l.TILE=N.tile,l.TILING_PADDING_VERTICAL=typeof N.tilingPaddingVertical=="function"?N.tilingPaddingVertical.call():N.tilingPaddingVertical,l.TILING_PADDING_HORIZONTAL=typeof N.tilingPaddingHorizontal=="function"?N.tilingPaddingHorizontal.call():N.tilingPaddingHorizontal,l.DEFAULT_INCREMENTAL=E.DEFAULT_INCREMENTAL=c.DEFAULT_INCREMENTAL=!0,l.PURE_INCREMENTAL=!N.randomize,c.DEFAULT_UNIFORM_LEAF_NODE_SIZES=N.uniformNodeDimensions,N.step=="transformed"&&(l.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,l.ENFORCE_CONSTRAINTS=!1,l.APPLY_LAYOUT=!1),N.step=="enforced"&&(l.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,l.ENFORCE_CONSTRAINTS=!0,l.APPLY_LAYOUT=!1),N.step=="cose"&&(l.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,l.ENFORCE_CONSTRAINTS=!1,l.APPLY_LAYOUT=!0),N.step=="all"&&(N.randomize?l.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:l.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,l.ENFORCE_CONSTRAINTS=!0,l.APPLY_LAYOUT=!0),N.fixedNodeConstraint||N.alignmentConstraint||N.relativePlacementConstraint?l.TREE_REDUCTION_ON_INCREMENTAL=!1:l.TREE_REDUCTION_ON_INCREMENTAL=!0;var M=new e,W=M.newGraphManager();return y(W.addRoot(),g.getTopMostNodes(ot),M,N),v(M,W,mt),I(M,N),M.runLayout(),Q};o.exports={coseLayout:L}},212:(o,d,r)=>{var g=function(){function N(D,tt){for(var S=0;S<tt.length;S++){var ot=tt[S];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(D,ot.key,ot)}}return function(D,tt,S){return tt&&N(D.prototype,tt),S&&N(D,S),D}}();function e(N,D){if(!(N instanceof D))throw new TypeError("Cannot call a class as a function")}var i=r(658),h=r(548),u=r(657),c=u.spectralLayout,E=r(816),l=E.coseLayout,L=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(D){return 4500},idealEdgeLength:function(D){return 50},edgeElasticity:function(D){return .45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),T=function(){function N(D){e(this,N),this.options=i({},L,D)}return g(N,[{key:"run",value:function(){var tt=this,S=this.options,ot=S.cy,mt=S.eles,vt=[],Dt=void 0,G=void 0,Q=[],a=void 0,m=[];S.fixedNodeConstraint&&(!Array.isArray(S.fixedNodeConstraint)||S.fixedNodeConstraint.length==0)&&(S.fixedNodeConstraint=void 0),S.alignmentConstraint&&(S.alignmentConstraint.vertical&&(!Array.isArray(S.alignmentConstraint.vertical)||S.alignmentConstraint.vertical.length==0)&&(S.alignmentConstraint.vertical=void 0),S.alignmentConstraint.horizontal&&(!Array.isArray(S.alignmentConstraint.horizontal)||S.alignmentConstraint.horizontal.length==0)&&(S.alignmentConstraint.horizontal=void 0)),S.relativePlacementConstraint&&(!Array.isArray(S.relativePlacementConstraint)||S.relativePlacementConstraint.length==0)&&(S.relativePlacementConstraint=void 0);var f=S.fixedNodeConstraint||S.alignmentConstraint||S.relativePlacementConstraint;f&&(S.tile=!1,S.packComponents=!1);var y=void 0,v=!1;if(ot.layoutUtilities&&S.packComponents&&(y=ot.layoutUtilities("get"),y||(y=ot.layoutUtilities()),v=!0),mt.nodes().length>0)if(v){var W=h.getTopMostNodes(S.eles.nodes());if(a=h.connectComponents(ot,S.eles,W),a.forEach(function(C){var O=C.boundingBox();m.push({x:O.x1+O.w/2,y:O.y1+O.h/2})}),S.randomize&&a.forEach(function(C){S.eles=C,vt.push(c(S))}),S.quality=="default"||S.quality=="proof"){var H=ot.collection();if(S.tile){var Y=new Map,j=[],ft=[],V=0,ct={nodeIndexes:Y,xCoords:j,yCoords:ft},q=[];if(a.forEach(function(C,O){C.edges().length==0&&(C.nodes().forEach(function(B,rt){H.merge(C.nodes()[rt]),B.isParent()||(ct.nodeIndexes.set(C.nodes()[rt].id(),V++),ct.xCoords.push(C.nodes()[0].position().x),ct.yCoords.push(C.nodes()[0].position().y))}),q.push(O))}),H.length>1){var A=H.boundingBox();m.push({x:A.x1+A.w/2,y:A.y1+A.h/2}),a.push(H),vt.push(ct);for(var z=q.length-1;z>=0;z--)a.splice(q[z],1),vt.splice(q[z],1),m.splice(q[z],1)}}a.forEach(function(C,O){S.eles=C,Q.push(l(S,vt[O])),h.relocateComponent(m[O],Q[O],S)})}else a.forEach(function(C,O){h.relocateComponent(m[O],vt[O],S)});var K=new Set;if(a.length>1){var ht=[],wt=mt.filter(function(C){return C.css("display")=="none"});a.forEach(function(C,O){var B=void 0;if(S.quality=="draft"&&(B=vt[O].nodeIndexes),C.nodes().not(wt).length>0){var rt={};rt.edges=[],rt.nodes=[];var lt=void 0;C.nodes().not(wt).forEach(function(_){if(S.quality=="draft")if(!_.isParent())lt=B.get(_.id()),rt.nodes.push({x:vt[O].xCoords[lt]-_.boundingbox().w/2,y:vt[O].yCoords[lt]-_.boundingbox().h/2,width:_.boundingbox().w,height:_.boundingbox().h});else{var et=h.calcBoundingBox(_,vt[O].xCoords,vt[O].yCoords,B);rt.nodes.push({x:et.topLeftX,y:et.topLeftY,width:et.width,height:et.height})}else Q[O][_.id()]&&rt.nodes.push({x:Q[O][_.id()].getLeft(),y:Q[O][_.id()].getTop(),width:Q[O][_.id()].getWidth(),height:Q[O][_.id()].getHeight()})}),C.edges().forEach(function(_){var et=_.source(),$=_.target();if(et.css("display")!="none"&&$.css("display")!="none")if(S.quality=="draft"){var it=B.get(et.id()),Ct=B.get($.id()),dt=[],pt=[];if(et.isParent()){var yt=h.calcBoundingBox(et,vt[O].xCoords,vt[O].yCoords,B);dt.push(yt.topLeftX+yt.width/2),dt.push(yt.topLeftY+yt.height/2)}else dt.push(vt[O].xCoords[it]),dt.push(vt[O].yCoords[it]);if($.isParent()){var x=h.calcBoundingBox($,vt[O].xCoords,vt[O].yCoords,B);pt.push(x.topLeftX+x.width/2),pt.push(x.topLeftY+x.height/2)}else pt.push(vt[O].xCoords[Ct]),pt.push(vt[O].yCoords[Ct]);rt.edges.push({startX:dt[0],startY:dt[1],endX:pt[0],endY:pt[1]})}else Q[O][et.id()]&&Q[O][$.id()]&&rt.edges.push({startX:Q[O][et.id()].getCenterX(),startY:Q[O][et.id()].getCenterY(),endX:Q[O][$.id()].getCenterX(),endY:Q[O][$.id()].getCenterY()})}),rt.nodes.length>0&&(ht.push(rt),K.add(O))}});var at=y.packComponents(ht,S.randomize).shifts;if(S.quality=="draft")vt.forEach(function(C,O){var B=C.xCoords.map(function(lt){return lt+at[O].dx}),rt=C.yCoords.map(function(lt){return lt+at[O].dy});C.xCoords=B,C.yCoords=rt});else{var Gt=0;K.forEach(function(C){Object.keys(Q[C]).forEach(function(O){var B=Q[C][O];B.setCenter(B.getCenterX()+at[Gt].dx,B.getCenterY()+at[Gt].dy)}),Gt++})}}}else{var I=S.eles.boundingBox();if(m.push({x:I.x1+I.w/2,y:I.y1+I.h/2}),S.randomize){var M=c(S);vt.push(M)}S.quality=="default"||S.quality=="proof"?(Q.push(l(S,vt[0])),h.relocateComponent(m[0],Q[0],S)):h.relocateComponent(m[0],vt[0],S)}var xt=function(O,B){if(S.quality=="default"||S.quality=="proof"){typeof O=="number"&&(O=B);var rt=void 0,lt=void 0,_=O.data("id");return Q.forEach(function($){_ in $&&(rt={x:$[_].getRect().getCenterX(),y:$[_].getRect().getCenterY()},lt=$[_])}),S.nodeDimensionsIncludeLabels&&(lt.labelWidth&&(lt.labelPosHorizontal=="left"?rt.x+=lt.labelWidth/2:lt.labelPosHorizontal=="right"&&(rt.x-=lt.labelWidth/2)),lt.labelHeight&&(lt.labelPosVertical=="top"?rt.y+=lt.labelHeight/2:lt.labelPosVertical=="bottom"&&(rt.y-=lt.labelHeight/2))),rt==null&&(rt={x:O.position("x"),y:O.position("y")}),{x:rt.x,y:rt.y}}else{var et=void 0;return vt.forEach(function($){var it=$.nodeIndexes.get(O.id());it!=null&&(et={x:$.xCoords[it],y:$.yCoords[it]})}),et==null&&(et={x:O.position("x"),y:O.position("y")}),{x:et.x,y:et.y}}};if(S.quality=="default"||S.quality=="proof"||S.randomize){var F=h.calcParentsWithoutChildren(ot,mt),w=mt.filter(function(C){return C.css("display")=="none"});S.eles=mt.not(w),mt.nodes().not(":parent").not(w).layoutPositions(tt,S,xt),F.length>0&&F.forEach(function(C){C.position(xt(C))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),N}();o.exports=T},657:(o,d,r)=>{var g=r(548),e=r(140).layoutBase.Matrix,i=r(140).layoutBase.SVD,h=function(c){var E=c.cy,l=c.eles,L=l.nodes(),T=l.nodes(":parent"),N=new Map,D=new Map,tt=new Map,S=[],ot=[],mt=[],vt=[],Dt=[],G=[],Q=[],a=[],m=void 0,f=void 0,y=1e8,v=1e-9,I=c.piTol,M=c.samplingType,W=c.nodeSeparation,H=void 0,Y=function(){for(var b=0,X=0,U=!1;X<H;){b=Math.floor(Math.random()*f),U=!1;for(var k=0;k<X;k++)if(vt[k]==b){U=!0;break}if(!U)vt[X]=b,X++;else continue}},j=function(b,X,U){for(var k=[],ut=0,st=0,J=0,Z=void 0,Tt=[],Ot=0,At=1,Ft=0;Ft<f;Ft++)Tt[Ft]=y;for(k[st]=b,Tt[b]=0;st>=ut;){J=k[ut++];for(var Nt=S[J],Et=0;Et<Nt.length;Et++)Z=D.get(Nt[Et]),Tt[Z]==y&&(Tt[Z]=Tt[J]+1,k[++st]=Z);G[J][X]=Tt[J]*W}if(U){for(var It=0;It<f;It++)G[It][X]<Dt[It]&&(Dt[It]=G[It][X]);for(var Lt=0;Lt<f;Lt++)Dt[Lt]>Ot&&(Ot=Dt[Lt],At=Lt)}return At},ft=function(b){var X=void 0;if(b){X=Math.floor(Math.random()*f),m=X;for(var k=0;k<f;k++)Dt[k]=y;for(var ut=0;ut<H;ut++)vt[ut]=X,X=j(X,ut,b)}else{Y();for(var U=0;U<H;U++)j(vt[U],U,b,!1)}for(var st=0;st<f;st++)for(var J=0;J<H;J++)G[st][J]*=G[st][J];for(var Z=0;Z<H;Z++)Q[Z]=[];for(var Tt=0;Tt<H;Tt++)for(var Ot=0;Ot<H;Ot++)Q[Tt][Ot]=G[vt[Ot]][Tt]},V=function(){for(var b=i.svd(Q),X=b.S,U=b.U,k=b.V,ut=X[0]*X[0]*X[0],st=[],J=0;J<H;J++){st[J]=[];for(var Z=0;Z<H;Z++)st[J][Z]=0,J==Z&&(st[J][Z]=X[J]/(X[J]*X[J]+ut/(X[J]*X[J])))}a=e.multMat(e.multMat(k,st),e.transpose(U))},ct=function(){for(var b=void 0,X=void 0,U=[],k=[],ut=[],st=[],J=0;J<f;J++)U[J]=Math.random(),k[J]=Math.random();U=e.normalize(U),k=e.normalize(k);for(var Z=0,Tt=v,Ot=v,At=void 0;;){Z++;for(var Ft=0;Ft<f;Ft++)ut[Ft]=U[Ft];if(U=e.multGamma(e.multL(e.multGamma(ut),G,a)),b=e.dotProduct(ut,U),U=e.normalize(U),Tt=e.dotProduct(ut,U),At=Math.abs(Tt/Ot),At<=1+I&&At>=1)break;Ot=Tt}for(var Nt=0;Nt<f;Nt++)ut[Nt]=U[Nt];for(Z=0,Ot=v;;){Z++;for(var Et=0;Et<f;Et++)st[Et]=k[Et];if(st=e.minusOp(st,e.multCons(ut,e.dotProduct(ut,st))),k=e.multGamma(e.multL(e.multGamma(st),G,a)),X=e.dotProduct(st,k),k=e.normalize(k),Tt=e.dotProduct(st,k),At=Math.abs(Tt/Ot),At<=1+I&&At>=1)break;Ot=Tt}for(var It=0;It<f;It++)st[It]=k[It];ot=e.multCons(ut,Math.sqrt(Math.abs(b))),mt=e.multCons(st,Math.sqrt(Math.abs(X)))};g.connectComponents(E,l,g.getTopMostNodes(L),N),T.forEach(function(P){g.connectComponents(E,l,g.getTopMostNodes(P.descendants().intersection(l)),N)});for(var q=0,A=0;A<L.length;A++)L[A].isParent()||D.set(L[A].id(),q++);var z=!0,K=!1,ht=void 0;try{for(var wt=N.keys()[Symbol.iterator](),at;!(z=(at=wt.next()).done);z=!0){var Gt=at.value;D.set(Gt,q++)}}catch(P){K=!0,ht=P}finally{try{!z&&wt.return&&wt.return()}finally{if(K)throw ht}}for(var xt=0;xt<D.size;xt++)S[xt]=[];T.forEach(function(P){for(var b=P.children().intersection(l);b.nodes(":childless").length==0;)b=b.nodes()[0].children().intersection(l);var X=0,U=b.nodes(":childless")[0].connectedEdges().length;b.nodes(":childless").forEach(function(k,ut){k.connectedEdges().length<U&&(U=k.connectedEdges().length,X=ut)}),tt.set(P.id(),b.nodes(":childless")[X].id())}),L.forEach(function(P){var b=void 0;P.isParent()?b=D.get(tt.get(P.id())):b=D.get(P.id()),P.neighborhood().nodes().forEach(function(X){l.intersection(P.edgesWith(X)).length>0&&(X.isParent()?S[b].push(tt.get(X.id())):S[b].push(X.id()))})});var F=function(b){var X=D.get(b),U=void 0;N.get(b).forEach(function(k){E.getElementById(k).isParent()?U=tt.get(k):U=k,S[X].push(U),S[D.get(U)].push(b)})},w=!0,C=!1,O=void 0;try{for(var B=N.keys()[Symbol.iterator](),rt;!(w=(rt=B.next()).done);w=!0){var lt=rt.value;F(lt)}}catch(P){C=!0,O=P}finally{try{!w&&B.return&&B.return()}finally{if(C)throw O}}f=D.size;var _=void 0;if(f>2){H=f<c.sampleSize?f:c.sampleSize;for(var et=0;et<f;et++)G[et]=[];for(var $=0;$<H;$++)a[$]=[];return c.quality=="draft"||c.step=="all"?(ft(M),V(),ct(),_={nodeIndexes:D,xCoords:ot,yCoords:mt}):(D.forEach(function(P,b){ot.push(E.getElementById(b).position("x")),mt.push(E.getElementById(b).position("y"))}),_={nodeIndexes:D,xCoords:ot,yCoords:mt}),_}else{var it=D.keys(),Ct=E.getElementById(it.next().value),dt=Ct.position(),pt=Ct.outerWidth();if(ot.push(dt.x),mt.push(dt.y),f==2){var yt=E.getElementById(it.next().value),x=yt.outerWidth();ot.push(dt.x+pt/2+x/2+c.idealEdgeLength),mt.push(dt.y)}return _={nodeIndexes:D,xCoords:ot,yCoords:mt},_}};o.exports={spectralLayout:h}},579:(o,d,r)=>{var g=r(212),e=function(h){h&&h("layout","fcose",g)};typeof cytoscape!="undefined"&&e(cytoscape),o.exports=e},140:o=>{o.exports=R}},s={};function n(o){var d=s[o];if(d!==void 0)return d.exports;var r=s[o]={exports:{}};return p[o](r,r.exports,n),r.exports}var t=n(579);return t})()})},26914:function(Xt,nt,gt){(function(p,s){Xt.exports=s(gt(13035))})(this,function(R){return(()=>{"use strict";var p={45:(o,d,r)=>{var g={};g.layoutBase=r(551),g.CoSEConstants=r(806),g.CoSEEdge=r(767),g.CoSEGraph=r(880),g.CoSEGraphManager=r(578),g.CoSELayout=r(765),g.CoSENode=r(991),g.ConstraintHandler=r(902),o.exports=g},806:(o,d,r)=>{var g=r(551).FDLayoutConstants;function e(){}for(var i in g)e[i]=g[i];e.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,e.DEFAULT_RADIAL_SEPARATION=g.DEFAULT_EDGE_LENGTH,e.DEFAULT_COMPONENT_SEPERATION=60,e.TILE=!0,e.TILING_PADDING_VERTICAL=10,e.TILING_PADDING_HORIZONTAL=10,e.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,e.ENFORCE_CONSTRAINTS=!0,e.APPLY_LAYOUT=!0,e.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,e.TREE_REDUCTION_ON_INCREMENTAL=!0,e.PURE_INCREMENTAL=e.DEFAULT_INCREMENTAL,o.exports=e},767:(o,d,r)=>{var g=r(551).FDLayoutEdge;function e(h,u,c){g.call(this,h,u,c)}e.prototype=Object.create(g.prototype);for(var i in g)e[i]=g[i];o.exports=e},880:(o,d,r)=>{var g=r(551).LGraph;function e(h,u,c){g.call(this,h,u,c)}e.prototype=Object.create(g.prototype);for(var i in g)e[i]=g[i];o.exports=e},578:(o,d,r)=>{var g=r(551).LGraphManager;function e(h){g.call(this,h)}e.prototype=Object.create(g.prototype);for(var i in g)e[i]=g[i];o.exports=e},765:(o,d,r)=>{var g=r(551).FDLayout,e=r(578),i=r(880),h=r(991),u=r(767),c=r(806),E=r(902),l=r(551).FDLayoutConstants,L=r(551).LayoutConstants,T=r(551).Point,N=r(551).PointD,D=r(551).DimensionD,tt=r(551).Layout,S=r(551).Integer,ot=r(551).IGeometry,mt=r(551).LGraph,vt=r(551).Transform,Dt=r(551).LinkedList;function G(){g.call(this),this.toBeTiled={},this.constraints={}}G.prototype=Object.create(g.prototype);for(var Q in g)G[Q]=g[Q];G.prototype.newGraphManager=function(){var a=new e(this);return this.graphManager=a,a},G.prototype.newGraph=function(a){return new i(null,this.graphManager,a)},G.prototype.newNode=function(a){return new h(this.graphManager,a)},G.prototype.newEdge=function(a){return new u(null,null,a)},G.prototype.initParameters=function(){g.prototype.initParameters.call(this,arguments),this.isSubLayout||(c.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=c.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=c.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=l.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=l.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=l.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},G.prototype.initSpringEmbedder=function(){g.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/l.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},G.prototype.layout=function(){var a=L.DEFAULT_CREATE_BENDS_AS_NEEDED;return a&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},G.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(c.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var m=new Set(this.getAllNodes()),f=this.nodesWithGravity.filter(function(I){return m.has(I)});this.graphManager.setAllNodesToApplyGravitation(f)}}else{var a=this.getFlatForest();if(a.length>0)this.positionNodesRadially(a);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var m=new Set(this.getAllNodes()),f=this.nodesWithGravity.filter(function(y){return m.has(y)});this.graphManager.setAllNodesToApplyGravitation(f),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(E.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),c.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},G.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%l.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var a=new Set(this.getAllNodes()),m=this.nodesWithGravity.filter(function(v){return a.has(v)});this.graphManager.setAllNodesToApplyGravitation(m),this.graphManager.updateBounds(),this.updateGrid(),c.PURE_INCREMENTAL?this.coolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),c.PURE_INCREMENTAL?this.coolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var f=!this.isTreeGrowing&&!this.isGrowthFinished,y=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(f,y),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},G.prototype.getPositionsData=function(){for(var a=this.graphManager.getAllNodes(),m={},f=0;f<a.length;f++){var y=a[f].rect,v=a[f].id;m[v]={id:v,x:y.getCenterX(),y:y.getCenterY(),w:y.width,h:y.height}}return m},G.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var a=!1;if(l.ANIMATE==="during")this.emit("layoutstarted");else{for(;!a;)a=this.tick();this.graphManager.updateBounds()}},G.prototype.moveNodes=function(){for(var a=this.getAllNodes(),m,f=0;f<a.length;f++)m=a[f],m.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var f=0;f<a.length;f++)m=a[f],m.move()},G.prototype.initConstraintVariables=function(){var a=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var m=this.graphManager.getAllNodes(),f=0;f<m.length;f++){var y=m[f];this.idToNodeMap.set(y.id,y)}var v=function A(z){for(var K=z.getChild().getNodes(),ht,wt=0,at=0;at<K.length;at++)ht=K[at],ht.getChild()==null?a.fixedNodeSet.has(ht.id)&&(wt+=100):wt+=A(ht);return wt};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(K){a.fixedNodeSet.add(K.nodeId)});for(var m=this.graphManager.getAllNodes(),y,f=0;f<m.length;f++)if(y=m[f],y.getChild()!=null){var I=v(y);I>0&&(y.fixedNodeWeight=I)}}if(this.constraints.relativePlacementConstraint){var M=new Map,W=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(A){a.fixedNodesOnHorizontal.add(A),a.fixedNodesOnVertical.add(A)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var H=this.constraints.alignmentConstraint.vertical,f=0;f<H.length;f++)this.dummyToNodeForVerticalAlignment.set("dummy"+f,[]),H[f].forEach(function(z){M.set(z,"dummy"+f),a.dummyToNodeForVerticalAlignment.get("dummy"+f).push(z),a.fixedNodeSet.has(z)&&a.fixedNodesOnHorizontal.add("dummy"+f)});if(this.constraints.alignmentConstraint.horizontal)for(var Y=this.constraints.alignmentConstraint.horizontal,f=0;f<Y.length;f++)this.dummyToNodeForHorizontalAlignment.set("dummy"+f,[]),Y[f].forEach(function(z){W.set(z,"dummy"+f),a.dummyToNodeForHorizontalAlignment.get("dummy"+f).push(z),a.fixedNodeSet.has(z)&&a.fixedNodesOnVertical.add("dummy"+f)})}if(c.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(A){var z,K,ht;for(ht=A.length-1;ht>=2*A.length/3;ht--)z=Math.floor(Math.random()*(ht+1)),K=A[ht],A[ht]=A[z],A[z]=K;return A},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(A){if(A.left){var z=M.has(A.left)?M.get(A.left):A.left,K=M.has(A.right)?M.get(A.right):A.right;a.nodesInRelativeHorizontal.includes(z)||(a.nodesInRelativeHorizontal.push(z),a.nodeToRelativeConstraintMapHorizontal.set(z,[]),a.dummyToNodeForVerticalAlignment.has(z)?a.nodeToTempPositionMapHorizontal.set(z,a.idToNodeMap.get(a.dummyToNodeForVerticalAlignment.get(z)[0]).getCenterX()):a.nodeToTempPositionMapHorizontal.set(z,a.idToNodeMap.get(z).getCenterX())),a.nodesInRelativeHorizontal.includes(K)||(a.nodesInRelativeHorizontal.push(K),a.nodeToRelativeConstraintMapHorizontal.set(K,[]),a.dummyToNodeForVerticalAlignment.has(K)?a.nodeToTempPositionMapHorizontal.set(K,a.idToNodeMap.get(a.dummyToNodeForVerticalAlignment.get(K)[0]).getCenterX()):a.nodeToTempPositionMapHorizontal.set(K,a.idToNodeMap.get(K).getCenterX())),a.nodeToRelativeConstraintMapHorizontal.get(z).push({right:K,gap:A.gap}),a.nodeToRelativeConstraintMapHorizontal.get(K).push({left:z,gap:A.gap})}else{var ht=W.has(A.top)?W.get(A.top):A.top,wt=W.has(A.bottom)?W.get(A.bottom):A.bottom;a.nodesInRelativeVertical.includes(ht)||(a.nodesInRelativeVertical.push(ht),a.nodeToRelativeConstraintMapVertical.set(ht,[]),a.dummyToNodeForHorizontalAlignment.has(ht)?a.nodeToTempPositionMapVertical.set(ht,a.idToNodeMap.get(a.dummyToNodeForHorizontalAlignment.get(ht)[0]).getCenterY()):a.nodeToTempPositionMapVertical.set(ht,a.idToNodeMap.get(ht).getCenterY())),a.nodesInRelativeVertical.includes(wt)||(a.nodesInRelativeVertical.push(wt),a.nodeToRelativeConstraintMapVertical.set(wt,[]),a.dummyToNodeForHorizontalAlignment.has(wt)?a.nodeToTempPositionMapVertical.set(wt,a.idToNodeMap.get(a.dummyToNodeForHorizontalAlignment.get(wt)[0]).getCenterY()):a.nodeToTempPositionMapVertical.set(wt,a.idToNodeMap.get(wt).getCenterY())),a.nodeToRelativeConstraintMapVertical.get(ht).push({bottom:wt,gap:A.gap}),a.nodeToRelativeConstraintMapVertical.get(wt).push({top:ht,gap:A.gap})}});else{var j=new Map,ft=new Map;this.constraints.relativePlacementConstraint.forEach(function(A){if(A.left){var z=M.has(A.left)?M.get(A.left):A.left,K=M.has(A.right)?M.get(A.right):A.right;j.has(z)?j.get(z).push(K):j.set(z,[K]),j.has(K)?j.get(K).push(z):j.set(K,[z])}else{var ht=W.has(A.top)?W.get(A.top):A.top,wt=W.has(A.bottom)?W.get(A.bottom):A.bottom;ft.has(ht)?ft.get(ht).push(wt):ft.set(ht,[wt]),ft.has(wt)?ft.get(wt).push(ht):ft.set(wt,[ht])}});var V=function(z,K){var ht=[],wt=[],at=new Dt,Gt=new Set,xt=0;return z.forEach(function(F,w){if(!Gt.has(w)){ht[xt]=[],wt[xt]=!1;var C=w;for(at.push(C),Gt.add(C),ht[xt].push(C);at.length!=0;){C=at.shift(),K.has(C)&&(wt[xt]=!0);var O=z.get(C);O.forEach(function(B){Gt.has(B)||(at.push(B),Gt.add(B),ht[xt].push(B))})}xt++}}),{components:ht,isFixed:wt}},ct=V(j,a.fixedNodesOnHorizontal);this.componentsOnHorizontal=ct.components,this.fixedComponentsOnHorizontal=ct.isFixed;var q=V(ft,a.fixedNodesOnVertical);this.componentsOnVertical=q.components,this.fixedComponentsOnVertical=q.isFixed}}},G.prototype.updateDisplacements=function(){var a=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(q){var A=a.idToNodeMap.get(q.nodeId);A.displacementX=0,A.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var m=this.constraints.alignmentConstraint.vertical,f=0;f<m.length;f++){for(var y=0,v=0;v<m[f].length;v++){if(this.fixedNodeSet.has(m[f][v])){y=0;break}y+=this.idToNodeMap.get(m[f][v]).displacementX}for(var I=y/m[f].length,v=0;v<m[f].length;v++)this.idToNodeMap.get(m[f][v]).displacementX=I}if(this.constraints.alignmentConstraint.horizontal)for(var M=this.constraints.alignmentConstraint.horizontal,f=0;f<M.length;f++){for(var W=0,v=0;v<M[f].length;v++){if(this.fixedNodeSet.has(M[f][v])){W=0;break}W+=this.idToNodeMap.get(M[f][v]).displacementY}for(var H=W/M[f].length,v=0;v<M[f].length;v++)this.idToNodeMap.get(M[f][v]).displacementY=H}}if(this.constraints.relativePlacementConstraint)if(c.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(q){if(!a.fixedNodesOnHorizontal.has(q)){var A=0;a.dummyToNodeForVerticalAlignment.has(q)?A=a.idToNodeMap.get(a.dummyToNodeForVerticalAlignment.get(q)[0]).displacementX:A=a.idToNodeMap.get(q).displacementX,a.nodeToRelativeConstraintMapHorizontal.get(q).forEach(function(z){if(z.right){var K=a.nodeToTempPositionMapHorizontal.get(z.right)-a.nodeToTempPositionMapHorizontal.get(q)-A;K<z.gap&&(A-=z.gap-K)}else{var K=a.nodeToTempPositionMapHorizontal.get(q)-a.nodeToTempPositionMapHorizontal.get(z.left)+A;K<z.gap&&(A+=z.gap-K)}}),a.nodeToTempPositionMapHorizontal.set(q,a.nodeToTempPositionMapHorizontal.get(q)+A),a.dummyToNodeForVerticalAlignment.has(q)?a.dummyToNodeForVerticalAlignment.get(q).forEach(function(z){a.idToNodeMap.get(z).displacementX=A}):a.idToNodeMap.get(q).displacementX=A}}),this.nodesInRelativeVertical.forEach(function(q){if(!a.fixedNodesOnHorizontal.has(q)){var A=0;a.dummyToNodeForHorizontalAlignment.has(q)?A=a.idToNodeMap.get(a.dummyToNodeForHorizontalAlignment.get(q)[0]).displacementY:A=a.idToNodeMap.get(q).displacementY,a.nodeToRelativeConstraintMapVertical.get(q).forEach(function(z){if(z.bottom){var K=a.nodeToTempPositionMapVertical.get(z.bottom)-a.nodeToTempPositionMapVertical.get(q)-A;K<z.gap&&(A-=z.gap-K)}else{var K=a.nodeToTempPositionMapVertical.get(q)-a.nodeToTempPositionMapVertical.get(z.top)+A;K<z.gap&&(A+=z.gap-K)}}),a.nodeToTempPositionMapVertical.set(q,a.nodeToTempPositionMapVertical.get(q)+A),a.dummyToNodeForHorizontalAlignment.has(q)?a.dummyToNodeForHorizontalAlignment.get(q).forEach(function(z){a.idToNodeMap.get(z).displacementY=A}):a.idToNodeMap.get(q).displacementY=A}});else{for(var f=0;f<this.componentsOnHorizontal.length;f++){var Y=this.componentsOnHorizontal[f];if(this.fixedComponentsOnHorizontal[f])for(var v=0;v<Y.length;v++)this.dummyToNodeForVerticalAlignment.has(Y[v])?this.dummyToNodeForVerticalAlignment.get(Y[v]).forEach(function(z){a.idToNodeMap.get(z).displacementX=0}):this.idToNodeMap.get(Y[v]).displacementX=0;else{for(var j=0,ft=0,v=0;v<Y.length;v++)if(this.dummyToNodeForVerticalAlignment.has(Y[v])){var V=this.dummyToNodeForVerticalAlignment.get(Y[v]);j+=V.length*this.idToNodeMap.get(V[0]).displacementX,ft+=V.length}else j+=this.idToNodeMap.get(Y[v]).displacementX,ft++;for(var ct=j/ft,v=0;v<Y.length;v++)this.dummyToNodeForVerticalAlignment.has(Y[v])?this.dummyToNodeForVerticalAlignment.get(Y[v]).forEach(function(z){a.idToNodeMap.get(z).displacementX=ct}):this.idToNodeMap.get(Y[v]).displacementX=ct}}for(var f=0;f<this.componentsOnVertical.length;f++){var Y=this.componentsOnVertical[f];if(this.fixedComponentsOnVertical[f])for(var v=0;v<Y.length;v++)this.dummyToNodeForHorizontalAlignment.has(Y[v])?this.dummyToNodeForHorizontalAlignment.get(Y[v]).forEach(function(K){a.idToNodeMap.get(K).displacementY=0}):this.idToNodeMap.get(Y[v]).displacementY=0;else{for(var j=0,ft=0,v=0;v<Y.length;v++)if(this.dummyToNodeForHorizontalAlignment.has(Y[v])){var V=this.dummyToNodeForHorizontalAlignment.get(Y[v]);j+=V.length*this.idToNodeMap.get(V[0]).displacementY,ft+=V.length}else j+=this.idToNodeMap.get(Y[v]).displacementY,ft++;for(var ct=j/ft,v=0;v<Y.length;v++)this.dummyToNodeForHorizontalAlignment.has(Y[v])?this.dummyToNodeForHorizontalAlignment.get(Y[v]).forEach(function(at){a.idToNodeMap.get(at).displacementY=ct}):this.idToNodeMap.get(Y[v]).displacementY=ct}}}},G.prototype.calculateNodesToApplyGravitationTo=function(){var a=[],m,f=this.graphManager.getGraphs(),y=f.length,v;for(v=0;v<y;v++)m=f[v],m.updateConnected(),m.isConnected||(a=a.concat(m.getNodes()));return a},G.prototype.createBendpoints=function(){var a=[];a=a.concat(this.graphManager.getAllEdges());var m=new Set,f;for(f=0;f<a.length;f++){var y=a[f];if(!m.has(y)){var v=y.getSource(),I=y.getTarget();if(v==I)y.getBendpoints().push(new N),y.getBendpoints().push(new N),this.createDummyNodesForBendpoints(y),m.add(y);else{var M=[];if(M=M.concat(v.getEdgeListToNode(I)),M=M.concat(I.getEdgeListToNode(v)),!m.has(M[0])){if(M.length>1){var W;for(W=0;W<M.length;W++){var H=M[W];H.getBendpoints().push(new N),this.createDummyNodesForBendpoints(H)}}M.forEach(function(Y){m.add(Y)})}}}if(m.size==a.length)break}},G.prototype.positionNodesRadially=function(a){for(var m=new T(0,0),f=Math.ceil(Math.sqrt(a.length)),y=0,v=0,I=0,M=new N(0,0),W=0;W<a.length;W++){W%f==0&&(I=0,v=y,W!=0&&(v+=c.DEFAULT_COMPONENT_SEPERATION),y=0);var H=a[W],Y=tt.findCenterOfTree(H);m.x=I,m.y=v,M=G.radialLayout(H,Y,m),M.y>y&&(y=Math.floor(M.y)),I=Math.floor(M.x+c.DEFAULT_COMPONENT_SEPERATION)}this.transform(new N(L.WORLD_CENTER_X-M.x/2,L.WORLD_CENTER_Y-M.y/2))},G.radialLayout=function(a,m,f){var y=Math.max(this.maxDiagonalInTree(a),c.DEFAULT_RADIAL_SEPARATION);G.branchRadialLayout(m,null,0,359,0,y);var v=mt.calculateBounds(a),I=new vt;I.setDeviceOrgX(v.getMinX()),I.setDeviceOrgY(v.getMinY()),I.setWorldOrgX(f.x),I.setWorldOrgY(f.y);for(var M=0;M<a.length;M++){var W=a[M];W.transform(I)}var H=new N(v.getMaxX(),v.getMaxY());return I.inverseTransformPoint(H)},G.branchRadialLayout=function(a,m,f,y,v,I){var M=(y-f+1)/2;M<0&&(M+=180);var W=(M+f)%360,H=W*ot.TWO_PI/360,Y=Math.cos(H),j=v*Math.cos(H),ft=v*Math.sin(H);a.setCenter(j,ft);var V=[];V=V.concat(a.getEdges());var ct=V.length;m!=null&&ct--;for(var q=0,A=V.length,z,K=a.getEdgesBetween(m);K.length>1;){var ht=K[0];K.splice(0,1);var wt=V.indexOf(ht);wt>=0&&V.splice(wt,1),A--,ct--}m!=null?z=(V.indexOf(K[0])+1)%A:z=0;for(var at=Math.abs(y-f)/ct,Gt=z;q!=ct;Gt=++Gt%A){var xt=V[Gt].getOtherEnd(a);if(xt!=m){var F=(f+q*at)%360,w=(F+at)%360;G.branchRadialLayout(xt,a,F,w,v+I,I),q++}}},G.maxDiagonalInTree=function(a){for(var m=S.MIN_VALUE,f=0;f<a.length;f++){var y=a[f],v=y.getDiagonal();v>m&&(m=v)}return m},G.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},G.prototype.groupZeroDegreeMembers=function(){var a=this,m={};this.memberGroups={},this.idToDummyNode={};for(var f=[],y=this.graphManager.getAllNodes(),v=0;v<y.length;v++){var I=y[v],M=I.getParent();this.getNodeDegreeWithChildren(I)===0&&(M.id==null||!this.getToBeTiled(M))&&f.push(I)}for(var v=0;v<f.length;v++){var I=f[v],W=I.getParent().id;typeof m[W]=="undefined"&&(m[W]=[]),m[W]=m[W].concat(I)}Object.keys(m).forEach(function(H){if(m[H].length>1){var Y="DummyCompound_"+H;a.memberGroups[Y]=m[H];var j=m[H][0].getParent(),ft=new h(a.graphManager);ft.id=Y,ft.paddingLeft=j.paddingLeft||0,ft.paddingRight=j.paddingRight||0,ft.paddingBottom=j.paddingBottom||0,ft.paddingTop=j.paddingTop||0,a.idToDummyNode[Y]=ft;var V=a.getGraphManager().add(a.newGraph(),ft),ct=j.getChild();ct.add(ft);for(var q=0;q<m[H].length;q++){var A=m[H][q];ct.remove(A),V.add(A)}}})},G.prototype.clearCompounds=function(){var a={},m={};this.performDFSOnCompounds();for(var f=0;f<this.compoundOrder.length;f++)m[this.compoundOrder[f].id]=this.compoundOrder[f],a[this.compoundOrder[f].id]=[].concat(this.compoundOrder[f].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[f].getChild()),this.compoundOrder[f].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(a,m)},G.prototype.clearZeroDegreeMembers=function(){var a=this,m=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(f){var y=a.idToDummyNode[f];if(m[f]=a.tileNodes(a.memberGroups[f],y.paddingLeft+y.paddingRight),y.rect.width=m[f].width,y.rect.height=m[f].height,y.setCenter(m[f].centerX,m[f].centerY),y.labelMarginLeft=0,y.labelMarginTop=0,c.NODE_DIMENSIONS_INCLUDE_LABELS){var v=y.rect.width,I=y.rect.height;y.labelWidth&&(y.labelPosHorizontal=="left"?(y.rect.x-=y.labelWidth,y.setWidth(v+y.labelWidth),y.labelMarginLeft=y.labelWidth):y.labelPosHorizontal=="center"&&y.labelWidth>v?(y.rect.x-=(y.labelWidth-v)/2,y.setWidth(y.labelWidth),y.labelMarginLeft=(y.labelWidth-v)/2):y.labelPosHorizontal=="right"&&y.setWidth(v+y.labelWidth)),y.labelHeight&&(y.labelPosVertical=="top"?(y.rect.y-=y.labelHeight,y.setHeight(I+y.labelHeight),y.labelMarginTop=y.labelHeight):y.labelPosVertical=="center"&&y.labelHeight>I?(y.rect.y-=(y.labelHeight-I)/2,y.setHeight(y.labelHeight),y.labelMarginTop=(y.labelHeight-I)/2):y.labelPosVertical=="bottom"&&y.setHeight(I+y.labelHeight))}})},G.prototype.repopulateCompounds=function(){for(var a=this.compoundOrder.length-1;a>=0;a--){var m=this.compoundOrder[a],f=m.id,y=m.paddingLeft,v=m.paddingTop,I=m.labelMarginLeft,M=m.labelMarginTop;this.adjustLocations(this.tiledMemberPack[f],m.rect.x,m.rect.y,y,v,I,M)}},G.prototype.repopulateZeroDegreeMembers=function(){var a=this,m=this.tiledZeroDegreePack;Object.keys(m).forEach(function(f){var y=a.idToDummyNode[f],v=y.paddingLeft,I=y.paddingTop,M=y.labelMarginLeft,W=y.labelMarginTop;a.adjustLocations(m[f],y.rect.x,y.rect.y,v,I,M,W)})},G.prototype.getToBeTiled=function(a){var m=a.id;if(this.toBeTiled[m]!=null)return this.toBeTiled[m];var f=a.getChild();if(f==null)return this.toBeTiled[m]=!1,!1;for(var y=f.getNodes(),v=0;v<y.length;v++){var I=y[v];if(this.getNodeDegree(I)>0)return this.toBeTiled[m]=!1,!1;if(I.getChild()==null){this.toBeTiled[I.id]=!1;continue}if(!this.getToBeTiled(I))return this.toBeTiled[m]=!1,!1}return this.toBeTiled[m]=!0,!0},G.prototype.getNodeDegree=function(a){for(var m=a.id,f=a.getEdges(),y=0,v=0;v<f.length;v++){var I=f[v];I.getSource().id!==I.getTarget().id&&(y=y+1)}return y},G.prototype.getNodeDegreeWithChildren=function(a){var m=this.getNodeDegree(a);if(a.getChild()==null)return m;for(var f=a.getChild().getNodes(),y=0;y<f.length;y++){var v=f[y];m+=this.getNodeDegreeWithChildren(v)}return m},G.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},G.prototype.fillCompexOrderByDFS=function(a){for(var m=0;m<a.length;m++){var f=a[m];f.getChild()!=null&&this.fillCompexOrderByDFS(f.getChild().getNodes()),this.getToBeTiled(f)&&this.compoundOrder.push(f)}},G.prototype.adjustLocations=function(a,m,f,y,v,I,M){m+=y+I,f+=v+M;for(var W=m,H=0;H<a.rows.length;H++){var Y=a.rows[H];m=W;for(var j=0,ft=0;ft<Y.length;ft++){var V=Y[ft];V.rect.x=m,V.rect.y=f,m+=V.rect.width+a.horizontalPadding,V.rect.height>j&&(j=V.rect.height)}f+=j+a.verticalPadding}},G.prototype.tileCompoundMembers=function(a,m){var f=this;this.tiledMemberPack=[],Object.keys(a).forEach(function(y){var v=m[y];if(f.tiledMemberPack[y]=f.tileNodes(a[y],v.paddingLeft+v.paddingRight),v.rect.width=f.tiledMemberPack[y].width,v.rect.height=f.tiledMemberPack[y].height,v.setCenter(f.tiledMemberPack[y].centerX,f.tiledMemberPack[y].centerY),v.labelMarginLeft=0,v.labelMarginTop=0,c.NODE_DIMENSIONS_INCLUDE_LABELS){var I=v.rect.width,M=v.rect.height;v.labelWidth&&(v.labelPosHorizontal=="left"?(v.rect.x-=v.labelWidth,v.setWidth(I+v.labelWidth),v.labelMarginLeft=v.labelWidth):v.labelPosHorizontal=="center"&&v.labelWidth>I?(v.rect.x-=(v.labelWidth-I)/2,v.setWidth(v.labelWidth),v.labelMarginLeft=(v.labelWidth-I)/2):v.labelPosHorizontal=="right"&&v.setWidth(I+v.labelWidth)),v.labelHeight&&(v.labelPosVertical=="top"?(v.rect.y-=v.labelHeight,v.setHeight(M+v.labelHeight),v.labelMarginTop=v.labelHeight):v.labelPosVertical=="center"&&v.labelHeight>M?(v.rect.y-=(v.labelHeight-M)/2,v.setHeight(v.labelHeight),v.labelMarginTop=(v.labelHeight-M)/2):v.labelPosVertical=="bottom"&&v.setHeight(M+v.labelHeight))}})},G.prototype.tileNodes=function(a,m){var f=this.tileNodesByFavoringDim(a,m,!0),y=this.tileNodesByFavoringDim(a,m,!1),v=this.getOrgRatio(f),I=this.getOrgRatio(y),M;return I<v?M=y:M=f,M},G.prototype.getOrgRatio=function(a){var m=a.width,f=a.height,y=m/f;return y<1&&(y=1/y),y},G.prototype.calcIdealRowWidth=function(a,m){var f=c.TILING_PADDING_VERTICAL,y=c.TILING_PADDING_HORIZONTAL,v=a.length,I=0,M=0,W=0;a.forEach(function(q){I+=q.getWidth(),M+=q.getHeight(),q.getWidth()>W&&(W=q.getWidth())});var H=I/v,Y=M/v,j=Math.pow(f-y,2)+4*(H+y)*(Y+f)*v,ft=(y-f+Math.sqrt(j))/(2*(H+y)),V;m?(V=Math.ceil(ft),V==ft&&V++):V=Math.floor(ft);var ct=V*(H+y)-y;return W>ct&&(ct=W),ct+=y*2,ct},G.prototype.tileNodesByFavoringDim=function(a,m,f){var y=c.TILING_PADDING_VERTICAL,v=c.TILING_PADDING_HORIZONTAL,I=c.TILING_COMPARE_BY,M={rows:[],rowWidth:[],rowHeight:[],width:0,height:m,verticalPadding:y,horizontalPadding:v,centerX:0,centerY:0};I&&(M.idealRowWidth=this.calcIdealRowWidth(a,f));var W=function(A){return A.rect.width*A.rect.height},H=function(A,z){return W(z)-W(A)};a.sort(function(q,A){var z=H;return M.idealRowWidth?(z=I,z(q.id,A.id)):z(q,A)});for(var Y=0,j=0,ft=0;ft<a.length;ft++){var V=a[ft];Y+=V.getCenterX(),j+=V.getCenterY()}M.centerX=Y/a.length,M.centerY=j/a.length;for(var ft=0;ft<a.length;ft++){var V=a[ft];if(M.rows.length==0)this.insertNodeToRow(M,V,0,m);else if(this.canAddHorizontal(M,V.rect.width,V.rect.height)){var ct=M.rows.length-1;M.idealRowWidth||(ct=this.getShortestRowIndex(M)),this.insertNodeToRow(M,V,ct,m)}else this.insertNodeToRow(M,V,M.rows.length,m);this.shiftToLastRow(M)}return M},G.prototype.insertNodeToRow=function(a,m,f,y){var v=y;if(f==a.rows.length){var I=[];a.rows.push(I),a.rowWidth.push(v),a.rowHeight.push(0)}var M=a.rowWidth[f]+m.rect.width;a.rows[f].length>0&&(M+=a.horizontalPadding),a.rowWidth[f]=M,a.width<M&&(a.width=M);var W=m.rect.height;f>0&&(W+=a.verticalPadding);var H=0;W>a.rowHeight[f]&&(H=a.rowHeight[f],a.rowHeight[f]=W,H=a.rowHeight[f]-H),a.height+=H,a.rows[f].push(m)},G.prototype.getShortestRowIndex=function(a){for(var m=-1,f=Number.MAX_VALUE,y=0;y<a.rows.length;y++)a.rowWidth[y]<f&&(m=y,f=a.rowWidth[y]);return m},G.prototype.getLongestRowIndex=function(a){for(var m=-1,f=Number.MIN_VALUE,y=0;y<a.rows.length;y++)a.rowWidth[y]>f&&(m=y,f=a.rowWidth[y]);return m},G.prototype.canAddHorizontal=function(a,m,f){if(a.idealRowWidth){var y=a.rows.length-1,v=a.rowWidth[y];return v+m+a.horizontalPadding<=a.idealRowWidth}var I=this.getShortestRowIndex(a);if(I<0)return!0;var M=a.rowWidth[I];if(M+a.horizontalPadding+m<=a.width)return!0;var W=0;a.rowHeight[I]<f&&I>0&&(W=f+a.verticalPadding-a.rowHeight[I]);var H;a.width-M>=m+a.horizontalPadding?H=(a.height+W)/(M+m+a.horizontalPadding):H=(a.height+W)/a.width,W=f+a.verticalPadding;var Y;return a.width<m?Y=(a.height+W)/m:Y=(a.height+W)/a.width,Y<1&&(Y=1/Y),H<1&&(H=1/H),H<Y},G.prototype.shiftToLastRow=function(a){var m=this.getLongestRowIndex(a),f=a.rowWidth.length-1,y=a.rows[m],v=y[y.length-1],I=v.width+a.horizontalPadding;if(a.width-a.rowWidth[f]>I&&m!=f){y.splice(-1,1),a.rows[f].push(v),a.rowWidth[m]=a.rowWidth[m]-I,a.rowWidth[f]=a.rowWidth[f]+I,a.width=a.rowWidth[instance.getLongestRowIndex(a)];for(var M=Number.MIN_VALUE,W=0;W<y.length;W++)y[W].height>M&&(M=y[W].height);m>0&&(M+=a.verticalPadding);var H=a.rowHeight[m]+a.rowHeight[f];a.rowHeight[m]=M,a.rowHeight[f]<v.height+a.verticalPadding&&(a.rowHeight[f]=v.height+a.verticalPadding);var Y=a.rowHeight[m]+a.rowHeight[f];a.height+=Y-H,this.shiftToLastRow(a)}},G.prototype.tilingPreLayout=function(){c.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},G.prototype.tilingPostLayout=function(){c.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},G.prototype.reduceTrees=function(){for(var a=[],m=!0,f;m;){var y=this.graphManager.getAllNodes(),v=[];m=!1;for(var I=0;I<y.length;I++)if(f=y[I],f.getEdges().length==1&&!f.getEdges()[0].isInterGraph&&f.getChild()==null){if(c.PURE_INCREMENTAL){var M=f.getEdges()[0].getOtherEnd(f),W=new D(f.getCenterX()-M.getCenterX(),f.getCenterY()-M.getCenterY());v.push([f,f.getEdges()[0],f.getOwner(),W])}else v.push([f,f.getEdges()[0],f.getOwner()]);m=!0}if(m==!0){for(var H=[],Y=0;Y<v.length;Y++)v[Y][0].getEdges().length==1&&(H.push(v[Y]),v[Y][0].getOwner().remove(v[Y][0]));a.push(H),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=a},G.prototype.growTree=function(a){for(var m=a.length,f=a[m-1],y,v=0;v<f.length;v++)y=f[v],this.findPlaceforPrunedNode(y),y[2].add(y[0]),y[2].add(y[1],y[1].source,y[1].target);a.splice(a.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},G.prototype.findPlaceforPrunedNode=function(a){var m,f,y=a[0];if(y==a[1].source?f=a[1].target:f=a[1].source,c.PURE_INCREMENTAL)y.setCenter(f.getCenterX()+a[3].getWidth(),f.getCenterY()+a[3].getHeight());else{var v=f.startX,I=f.finishX,M=f.startY,W=f.finishY,H=0,Y=0,j=0,ft=0,V=[H,j,Y,ft];if(M>0)for(var ct=v;ct<=I;ct++)V[0]+=this.grid[ct][M-1].length+this.grid[ct][M].length-1;if(I<this.grid.length-1)for(var ct=M;ct<=W;ct++)V[1]+=this.grid[I+1][ct].length+this.grid[I][ct].length-1;if(W<this.grid[0].length-1)for(var ct=v;ct<=I;ct++)V[2]+=this.grid[ct][W+1].length+this.grid[ct][W].length-1;if(v>0)for(var ct=M;ct<=W;ct++)V[3]+=this.grid[v-1][ct].length+this.grid[v][ct].length-1;for(var q=S.MAX_VALUE,A,z,K=0;K<V.length;K++)V[K]<q?(q=V[K],A=1,z=K):V[K]==q&&A++;if(A==3&&q==0)V[0]==0&&V[1]==0&&V[2]==0?m=1:V[0]==0&&V[1]==0&&V[3]==0?m=0:V[0]==0&&V[2]==0&&V[3]==0?m=3:V[1]==0&&V[2]==0&&V[3]==0&&(m=2);else if(A==2&&q==0){var ht=Math.floor(Math.random()*2);V[0]==0&&V[1]==0?ht==0?m=0:m=1:V[0]==0&&V[2]==0?ht==0?m=0:m=2:V[0]==0&&V[3]==0?ht==0?m=0:m=3:V[1]==0&&V[2]==0?ht==0?m=1:m=2:V[1]==0&&V[3]==0?ht==0?m=1:m=3:ht==0?m=2:m=3}else if(A==4&&q==0){var ht=Math.floor(Math.random()*4);m=ht}else m=z;m==0?y.setCenter(f.getCenterX(),f.getCenterY()-f.getHeight()/2-l.DEFAULT_EDGE_LENGTH-y.getHeight()/2):m==1?y.setCenter(f.getCenterX()+f.getWidth()/2+l.DEFAULT_EDGE_LENGTH+y.getWidth()/2,f.getCenterY()):m==2?y.setCenter(f.getCenterX(),f.getCenterY()+f.getHeight()/2+l.DEFAULT_EDGE_LENGTH+y.getHeight()/2):y.setCenter(f.getCenterX()-f.getWidth()/2-l.DEFAULT_EDGE_LENGTH-y.getWidth()/2,f.getCenterY())}},o.exports=G},991:(o,d,r)=>{var g=r(551).FDLayoutNode,e=r(551).IMath;function i(u,c,E,l){g.call(this,u,c,E,l)}i.prototype=Object.create(g.prototype);for(var h in g)i[h]=g[h];i.prototype.calculateDisplacement=function(){var u=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=u.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=u.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=u.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=u.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>u.coolingFactor*u.maxNodeDisplacement&&(this.displacementX=u.coolingFactor*u.maxNodeDisplacement*e.sign(this.displacementX)),Math.abs(this.displacementY)>u.coolingFactor*u.maxNodeDisplacement&&(this.displacementY=u.coolingFactor*u.maxNodeDisplacement*e.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},i.prototype.propogateDisplacementToChildren=function(u,c){for(var E=this.getChild().getNodes(),l,L=0;L<E.length;L++)l=E[L],l.getChild()==null?(l.displacementX+=u,l.displacementY+=c):l.propogateDisplacementToChildren(u,c)},i.prototype.move=function(){var u=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),u.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},i.prototype.setPred1=function(u){this.pred1=u},i.prototype.getPred1=function(){return pred1},i.prototype.getPred2=function(){return pred2},i.prototype.setNext=function(u){this.next=u},i.prototype.getNext=function(){return next},i.prototype.setProcessed=function(u){this.processed=u},i.prototype.isProcessed=function(){return processed},o.exports=i},902:(o,d,r)=>{function g(E){if(Array.isArray(E)){for(var l=0,L=Array(E.length);l<E.length;l++)L[l]=E[l];return L}else return Array.from(E)}var e=r(806),i=r(551).LinkedList,h=r(551).Matrix,u=r(551).SVD;function c(){}c.handleConstraints=function(E){var l={};l.fixedNodeConstraint=E.constraints.fixedNodeConstraint,l.alignmentConstraint=E.constraints.alignmentConstraint,l.relativePlacementConstraint=E.constraints.relativePlacementConstraint;for(var L=new Map,T=new Map,N=[],D=[],tt=E.getAllNodes(),S=0,ot=0;ot<tt.length;ot++){var mt=tt[ot];mt.getChild()==null&&(T.set(mt.id,S++),N.push(mt.getCenterX()),D.push(mt.getCenterY()),L.set(mt.id,mt))}l.relativePlacementConstraint&&l.relativePlacementConstraint.forEach(function(x){!x.gap&&x.gap!=0&&(x.left?x.gap=e.DEFAULT_EDGE_LENGTH+L.get(x.left).getWidth()/2+L.get(x.right).getWidth()/2:x.gap=e.DEFAULT_EDGE_LENGTH+L.get(x.top).getHeight()/2+L.get(x.bottom).getHeight()/2)});var vt=function(P,b){return{x:P.x-b.x,y:P.y-b.y}},Dt=function(P){var b=0,X=0;return P.forEach(function(U){b+=N[T.get(U)],X+=D[T.get(U)]}),{x:b/P.size,y:X/P.size}},G=function(P,b,X,U,k){function ut(Nt,Et){var It=new Set(Nt),Lt=!0,Mt=!1,Yt=void 0;try{for(var Rt=Et[Symbol.iterator](),Pt;!(Lt=(Pt=Rt.next()).done);Lt=!0){var zt=Pt.value;It.add(zt)}}catch(Ht){Mt=!0,Yt=Ht}finally{try{!Lt&&Rt.return&&Rt.return()}finally{if(Mt)throw Yt}}return It}var st=new Map;P.forEach(function(Nt,Et){st.set(Et,0)}),P.forEach(function(Nt,Et){Nt.forEach(function(It){st.set(It.id,st.get(It.id)+1)})});var J=new Map,Z=new Map,Tt=new i;st.forEach(function(Nt,Et){Nt==0?(Tt.push(Et),X||(b=="horizontal"?J.set(Et,T.has(Et)?N[T.get(Et)]:U.get(Et)):J.set(Et,T.has(Et)?D[T.get(Et)]:U.get(Et)))):J.set(Et,Number.NEGATIVE_INFINITY),X&&Z.set(Et,new Set([Et]))}),X&&k.forEach(function(Nt){var Et=[];if(Nt.forEach(function(Mt){X.has(Mt)&&Et.push(Mt)}),Et.length>0){var It=0;Et.forEach(function(Mt){b=="horizontal"?(J.set(Mt,T.has(Mt)?N[T.get(Mt)]:U.get(Mt)),It+=J.get(Mt)):(J.set(Mt,T.has(Mt)?D[T.get(Mt)]:U.get(Mt)),It+=J.get(Mt))}),It=It/Et.length,Nt.forEach(function(Mt){X.has(Mt)||J.set(Mt,It)})}else{var Lt=0;Nt.forEach(function(Mt){b=="horizontal"?Lt+=T.has(Mt)?N[T.get(Mt)]:U.get(Mt):Lt+=T.has(Mt)?D[T.get(Mt)]:U.get(Mt)}),Lt=Lt/Nt.length,Nt.forEach(function(Mt){J.set(Mt,Lt)})}});for(var Ot=function(){var Et=Tt.shift(),It=P.get(Et);It.forEach(function(Lt){if(J.get(Lt.id)<J.get(Et)+Lt.gap)if(X&&X.has(Lt.id)){var Mt=void 0;if(b=="horizontal"?Mt=T.has(Lt.id)?N[T.get(Lt.id)]:U.get(Lt.id):Mt=T.has(Lt.id)?D[T.get(Lt.id)]:U.get(Lt.id),J.set(Lt.id,Mt),Mt<J.get(Et)+Lt.gap){var Yt=J.get(Et)+Lt.gap-Mt;Z.get(Et).forEach(function(Rt){J.set(Rt,J.get(Rt)-Yt)})}}else J.set(Lt.id,J.get(Et)+Lt.gap);st.set(Lt.id,st.get(Lt.id)-1),st.get(Lt.id)==0&&Tt.push(Lt.id),X&&Z.set(Lt.id,ut(Z.get(Et),Z.get(Lt.id)))})};Tt.length!=0;)Ot();if(X){var At=new Set;P.forEach(function(Nt,Et){Nt.length==0&&At.add(Et)});var Ft=[];Z.forEach(function(Nt,Et){if(At.has(Et)){var It=!1,Lt=!0,Mt=!1,Yt=void 0;try{for(var Rt=Nt[Symbol.iterator](),Pt;!(Lt=(Pt=Rt.next()).done);Lt=!0){var zt=Pt.value;X.has(zt)&&(It=!0)}}catch(Ut){Mt=!0,Yt=Ut}finally{try{!Lt&&Rt.return&&Rt.return()}finally{if(Mt)throw Yt}}if(!It){var Ht=!1,Vt=void 0;Ft.forEach(function(Ut,$t){Ut.has([].concat(g(Nt))[0])&&(Ht=!0,Vt=$t)}),Ht?Nt.forEach(function(Ut){Ft[Vt].add(Ut)}):Ft.push(new Set(Nt))}}}),Ft.forEach(function(Nt,Et){var It=Number.POSITIVE_INFINITY,Lt=Number.POSITIVE_INFINITY,Mt=Number.NEGATIVE_INFINITY,Yt=Number.NEGATIVE_INFINITY,Rt=!0,Pt=!1,zt=void 0;try{for(var Ht=Nt[Symbol.iterator](),Vt;!(Rt=(Vt=Ht.next()).done);Rt=!0){var Ut=Vt.value,$t=void 0;b=="horizontal"?$t=T.has(Ut)?N[T.get(Ut)]:U.get(Ut):$t=T.has(Ut)?D[T.get(Ut)]:U.get(Ut);var Qt=J.get(Ut);$t<It&&(It=$t),$t>Mt&&(Mt=$t),Qt<Lt&&(Lt=Qt),Qt>Yt&&(Yt=Qt)}}catch(te){Pt=!0,zt=te}finally{try{!Rt&&Ht.return&&Ht.return()}finally{if(Pt)throw zt}}var ae=(It+Mt)/2-(Lt+Yt)/2,Kt=!0,qt=!1,jt=void 0;try{for(var Jt=Nt[Symbol.iterator](),re;!(Kt=(re=Jt.next()).done);Kt=!0){var _t=re.value;J.set(_t,J.get(_t)+ae)}}catch(te){qt=!0,jt=te}finally{try{!Kt&&Jt.return&&Jt.return()}finally{if(qt)throw jt}}})}return J},Q=function(P){var b=0,X=0,U=0,k=0;if(P.forEach(function(Z){Z.left?N[T.get(Z.left)]-N[T.get(Z.right)]>=0?b++:X++:D[T.get(Z.top)]-D[T.get(Z.bottom)]>=0?U++:k++}),b>X&&U>k)for(var ut=0;ut<T.size;ut++)N[ut]=-1*N[ut],D[ut]=-1*D[ut];else if(b>X)for(var st=0;st<T.size;st++)N[st]=-1*N[st];else if(U>k)for(var J=0;J<T.size;J++)D[J]=-1*D[J]},a=function(P){var b=[],X=new i,U=new Set,k=0;return P.forEach(function(ut,st){if(!U.has(st)){b[k]=[];var J=st;for(X.push(J),U.add(J),b[k].push(J);X.length!=0;){J=X.shift();var Z=P.get(J);Z.forEach(function(Tt){U.has(Tt.id)||(X.push(Tt.id),U.add(Tt.id),b[k].push(Tt.id))})}k++}}),b},m=function(P){var b=new Map;return P.forEach(function(X,U){b.set(U,[])}),P.forEach(function(X,U){X.forEach(function(k){b.get(U).push(k),b.get(k.id).push({id:U,gap:k.gap,direction:k.direction})})}),b},f=function(P){var b=new Map;return P.forEach(function(X,U){b.set(U,[])}),P.forEach(function(X,U){X.forEach(function(k){b.get(k.id).push({id:U,gap:k.gap,direction:k.direction})})}),b},y=[],v=[],I=!1,M=!1,W=new Set,H=new Map,Y=new Map,j=[];if(l.fixedNodeConstraint&&l.fixedNodeConstraint.forEach(function(x){W.add(x.nodeId)}),l.relativePlacementConstraint&&(l.relativePlacementConstraint.forEach(function(x){x.left?(H.has(x.left)?H.get(x.left).push({id:x.right,gap:x.gap,direction:"horizontal"}):H.set(x.left,[{id:x.right,gap:x.gap,direction:"horizontal"}]),H.has(x.right)||H.set(x.right,[])):(H.has(x.top)?H.get(x.top).push({id:x.bottom,gap:x.gap,direction:"vertical"}):H.set(x.top,[{id:x.bottom,gap:x.gap,direction:"vertical"}]),H.has(x.bottom)||H.set(x.bottom,[]))}),Y=m(H),j=a(Y)),e.TRANSFORM_ON_CONSTRAINT_HANDLING){if(l.fixedNodeConstraint&&l.fixedNodeConstraint.length>1)l.fixedNodeConstraint.forEach(function(x,P){y[P]=[x.position.x,x.position.y],v[P]=[N[T.get(x.nodeId)],D[T.get(x.nodeId)]]}),I=!0;else if(l.alignmentConstraint)(function(){var x=0;if(l.alignmentConstraint.vertical){for(var P=l.alignmentConstraint.vertical,b=function(J){var Z=new Set;P[J].forEach(function(At){Z.add(At)});var Tt=new Set([].concat(g(Z)).filter(function(At){return W.has(At)})),Ot=void 0;Tt.size>0?Ot=N[T.get(Tt.values().next().value)]:Ot=Dt(Z).x,P[J].forEach(function(At){y[x]=[Ot,D[T.get(At)]],v[x]=[N[T.get(At)],D[T.get(At)]],x++})},X=0;X<P.length;X++)b(X);I=!0}if(l.alignmentConstraint.horizontal){for(var U=l.alignmentConstraint.horizontal,k=function(J){var Z=new Set;U[J].forEach(function(At){Z.add(At)});var Tt=new Set([].concat(g(Z)).filter(function(At){return W.has(At)})),Ot=void 0;Tt.size>0?Ot=N[T.get(Tt.values().next().value)]:Ot=Dt(Z).y,U[J].forEach(function(At){y[x]=[N[T.get(At)],Ot],v[x]=[N[T.get(At)],D[T.get(At)]],x++})},ut=0;ut<U.length;ut++)k(ut);I=!0}l.relativePlacementConstraint&&(M=!0)})();else if(l.relativePlacementConstraint){for(var ft=0,V=0,ct=0;ct<j.length;ct++)j[ct].length>ft&&(ft=j[ct].length,V=ct);if(ft<Y.size/2)Q(l.relativePlacementConstraint),I=!1,M=!1;else{var q=new Map,A=new Map,z=[];j[V].forEach(function(x){H.get(x).forEach(function(P){P.direction=="horizontal"?(q.has(x)?q.get(x).push(P):q.set(x,[P]),q.has(P.id)||q.set(P.id,[]),z.push({left:x,right:P.id})):(A.has(x)?A.get(x).push(P):A.set(x,[P]),A.has(P.id)||A.set(P.id,[]),z.push({top:x,bottom:P.id}))})}),Q(z),M=!1;var K=G(q,"horizontal"),ht=G(A,"vertical");j[V].forEach(function(x,P){v[P]=[N[T.get(x)],D[T.get(x)]],y[P]=[],K.has(x)?y[P][0]=K.get(x):y[P][0]=N[T.get(x)],ht.has(x)?y[P][1]=ht.get(x):y[P][1]=D[T.get(x)]}),I=!0}}if(I){for(var wt=void 0,at=h.transpose(y),Gt=h.transpose(v),xt=0;xt<at.length;xt++)at[xt]=h.multGamma(at[xt]),Gt[xt]=h.multGamma(Gt[xt]);var F=h.multMat(at,h.transpose(Gt)),w=u.svd(F);wt=h.multMat(w.V,h.transpose(w.U));for(var C=0;C<T.size;C++){var O=[N[C],D[C]],B=[wt[0][0],wt[1][0]],rt=[wt[0][1],wt[1][1]];N[C]=h.dotProduct(O,B),D[C]=h.dotProduct(O,rt)}M&&Q(l.relativePlacementConstraint)}}if(e.ENFORCE_CONSTRAINTS){if(l.fixedNodeConstraint&&l.fixedNodeConstraint.length>0){var lt={x:0,y:0};l.fixedNodeConstraint.forEach(function(x,P){var b={x:N[T.get(x.nodeId)],y:D[T.get(x.nodeId)]},X=x.position,U=vt(X,b);lt.x+=U.x,lt.y+=U.y}),lt.x/=l.fixedNodeConstraint.length,lt.y/=l.fixedNodeConstraint.length,N.forEach(function(x,P){N[P]+=lt.x}),D.forEach(function(x,P){D[P]+=lt.y}),l.fixedNodeConstraint.forEach(function(x){N[T.get(x.nodeId)]=x.position.x,D[T.get(x.nodeId)]=x.position.y})}if(l.alignmentConstraint){if(l.alignmentConstraint.vertical)for(var _=l.alignmentConstraint.vertical,et=function(P){var b=new Set;_[P].forEach(function(k){b.add(k)});var X=new Set([].concat(g(b)).filter(function(k){return W.has(k)})),U=void 0;X.size>0?U=N[T.get(X.values().next().value)]:U=Dt(b).x,b.forEach(function(k){W.has(k)||(N[T.get(k)]=U)})},$=0;$<_.length;$++)et($);if(l.alignmentConstraint.horizontal)for(var it=l.alignmentConstraint.horizontal,Ct=function(P){var b=new Set;it[P].forEach(function(k){b.add(k)});var X=new Set([].concat(g(b)).filter(function(k){return W.has(k)})),U=void 0;X.size>0?U=D[T.get(X.values().next().value)]:U=Dt(b).y,b.forEach(function(k){W.has(k)||(D[T.get(k)]=U)})},dt=0;dt<it.length;dt++)Ct(dt)}l.relativePlacementConstraint&&function(){var x=new Map,P=new Map,b=new Map,X=new Map,U=new Map,k=new Map,ut=new Set,st=new Set;if(W.forEach(function(Wt){ut.add(Wt),st.add(Wt)}),l.alignmentConstraint){if(l.alignmentConstraint.vertical)for(var J=l.alignmentConstraint.vertical,Z=function(St){b.set("dummy"+St,[]),J[St].forEach(function(bt){x.set(bt,"dummy"+St),b.get("dummy"+St).push(bt),W.has(bt)&&ut.add("dummy"+St)}),U.set("dummy"+St,N[T.get(J[St][0])])},Tt=0;Tt<J.length;Tt++)Z(Tt);if(l.alignmentConstraint.horizontal)for(var Ot=l.alignmentConstraint.horizontal,At=function(St){X.set("dummy"+St,[]),Ot[St].forEach(function(bt){P.set(bt,"dummy"+St),X.get("dummy"+St).push(bt),W.has(bt)&&st.add("dummy"+St)}),k.set("dummy"+St,D[T.get(Ot[St][0])])},Ft=0;Ft<Ot.length;Ft++)At(Ft)}var Nt=new Map,Et=new Map,It=function(St){H.get(St).forEach(function(bt){var Zt=void 0,Bt=void 0;bt.direction=="horizontal"?(Zt=x.get(St)?x.get(St):St,x.get(bt.id)?Bt={id:x.get(bt.id),gap:bt.gap,direction:bt.direction}:Bt=bt,Nt.has(Zt)?Nt.get(Zt).push(Bt):Nt.set(Zt,[Bt]),Nt.has(Bt.id)||Nt.set(Bt.id,[])):(Zt=P.get(St)?P.get(St):St,P.get(bt.id)?Bt={id:P.get(bt.id),gap:bt.gap,direction:bt.direction}:Bt=bt,Et.has(Zt)?Et.get(Zt).push(Bt):Et.set(Zt,[Bt]),Et.has(Bt.id)||Et.set(Bt.id,[]))})},Lt=!0,Mt=!1,Yt=void 0;try{for(var Rt=H.keys()[Symbol.iterator](),Pt;!(Lt=(Pt=Rt.next()).done);Lt=!0){var zt=Pt.value;It(zt)}}catch(Wt){Mt=!0,Yt=Wt}finally{try{!Lt&&Rt.return&&Rt.return()}finally{if(Mt)throw Yt}}var Ht=m(Nt),Vt=m(Et),Ut=a(Ht),$t=a(Vt),Qt=f(Nt),ae=f(Et),Kt=[],qt=[];Ut.forEach(function(Wt,St){Kt[St]=[],Wt.forEach(function(bt){Qt.get(bt).length==0&&Kt[St].push(bt)})}),$t.forEach(function(Wt,St){qt[St]=[],Wt.forEach(function(bt){ae.get(bt).length==0&&qt[St].push(bt)})});var jt=G(Nt,"horizontal",ut,U,Kt),Jt=G(Et,"vertical",st,k,qt),re=function(St){b.get(St)?b.get(St).forEach(function(bt){N[T.get(bt)]=jt.get(St)}):N[T.get(St)]=jt.get(St)},_t=!0,te=!1,le=void 0;try{for(var ne=jt.keys()[Symbol.iterator](),fe;!(_t=(fe=ne.next()).done);_t=!0){var oe=fe.value;re(oe)}}catch(Wt){te=!0,le=Wt}finally{try{!_t&&ne.return&&ne.return()}finally{if(te)throw le}}var pe=function(St){X.get(St)?X.get(St).forEach(function(bt){D[T.get(bt)]=Jt.get(St)}):D[T.get(St)]=Jt.get(St)},se=!0,ce=!1,ue=void 0;try{for(var he=Jt.keys()[Symbol.iterator](),ge;!(se=(ge=he.next()).done);se=!0){var oe=ge.value;pe(oe)}}catch(Wt){ce=!0,ue=Wt}finally{try{!se&&he.return&&he.return()}finally{if(ce)throw ue}}}()}for(var pt=0;pt<tt.length;pt++){var yt=tt[pt];yt.getChild()==null&&yt.setCenter(N[T.get(yt.id)],D[T.get(yt.id)])}},o.exports=c},551:o=>{o.exports=R}},s={};function n(o){var d=s[o];if(d!==void 0)return d.exports;var r=s[o]={exports:{}};return p[o](r,r.exports,n),r.exports}var t=n(45);return t})()})},13035:function(Xt){(function(gt,R){Xt.exports=R()})(this,function(){return function(nt){var gt={};function R(p){if(gt[p])return gt[p].exports;var s=gt[p]={i:p,l:!1,exports:{}};return nt[p].call(s.exports,s,s.exports,R),s.l=!0,s.exports}return R.m=nt,R.c=gt,R.i=function(p){return p},R.d=function(p,s,n){R.o(p,s)||Object.defineProperty(p,s,{configurable:!1,enumerable:!0,get:n})},R.n=function(p){var s=p&&p.__esModule?function(){return p.default}:function(){return p};return R.d(s,"a",s),s},R.o=function(p,s){return Object.prototype.hasOwnProperty.call(p,s)},R.p="",R(R.s=28)}([function(nt,gt,R){"use strict";function p(){}p.QUALITY=1,p.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,p.DEFAULT_INCREMENTAL=!1,p.DEFAULT_ANIMATION_ON_LAYOUT=!0,p.DEFAULT_ANIMATION_DURING_LAYOUT=!1,p.DEFAULT_ANIMATION_PERIOD=50,p.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,p.DEFAULT_GRAPH_MARGIN=15,p.NODE_DIMENSIONS_INCLUDE_LABELS=!1,p.SIMPLE_NODE_SIZE=40,p.SIMPLE_NODE_HALF_SIZE=p.SIMPLE_NODE_SIZE/2,p.EMPTY_COMPOUND_NODE_SIZE=40,p.MIN_EDGE_LENGTH=1,p.WORLD_BOUNDARY=1e6,p.INITIAL_WORLD_BOUNDARY=p.WORLD_BOUNDARY/1e3,p.WORLD_CENTER_X=1200,p.WORLD_CENTER_Y=900,nt.exports=p},function(nt,gt,R){"use strict";var p=R(2),s=R(8),n=R(9);function t(d,r,g){p.call(this,g),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=g,this.bendpoints=[],this.source=d,this.target=r}t.prototype=Object.create(p.prototype);for(var o in p)t[o]=p[o];t.prototype.getSource=function(){return this.source},t.prototype.getTarget=function(){return this.target},t.prototype.isInterGraph=function(){return this.isInterGraph},t.prototype.getLength=function(){return this.length},t.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},t.prototype.getBendpoints=function(){return this.bendpoints},t.prototype.getLca=function(){return this.lca},t.prototype.getSourceInLca=function(){return this.sourceInLca},t.prototype.getTargetInLca=function(){return this.targetInLca},t.prototype.getOtherEnd=function(d){if(this.source===d)return this.target;if(this.target===d)return this.source;throw"Node is not incident with this edge"},t.prototype.getOtherEndInGraph=function(d,r){for(var g=this.getOtherEnd(d),e=r.getGraphManager().getRoot();;){if(g.getOwner()==r)return g;if(g.getOwner()==e)break;g=g.getOwner().getParent()}return null},t.prototype.updateLength=function(){var d=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),d),this.isOverlapingSourceAndTarget||(this.lengthX=d[0]-d[2],this.lengthY=d[1]-d[3],Math.abs(this.lengthX)<1&&(this.lengthX=n.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=n.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},t.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=n.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=n.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},nt.exports=t},function(nt,gt,R){"use strict";function p(s){this.vGraphObject=s}nt.exports=p},function(nt,gt,R){"use strict";var p=R(2),s=R(10),n=R(13),t=R(0),o=R(16),d=R(5);function r(e,i,h,u){h==null&&u==null&&(u=i),p.call(this,u),e.graphManager!=null&&(e=e.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=u,this.edges=[],this.graphManager=e,h!=null&&i!=null?this.rect=new n(i.x,i.y,h.width,h.height):this.rect=new n}r.prototype=Object.create(p.prototype);for(var g in p)r[g]=p[g];r.prototype.getEdges=function(){return this.edges},r.prototype.getChild=function(){return this.child},r.prototype.getOwner=function(){return this.owner},r.prototype.getWidth=function(){return this.rect.width},r.prototype.setWidth=function(e){this.rect.width=e},r.prototype.getHeight=function(){return this.rect.height},r.prototype.setHeight=function(e){this.rect.height=e},r.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},r.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},r.prototype.getCenter=function(){return new d(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},r.prototype.getLocation=function(){return new d(this.rect.x,this.rect.y)},r.prototype.getRect=function(){return this.rect},r.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},r.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},r.prototype.setRect=function(e,i){this.rect.x=e.x,this.rect.y=e.y,this.rect.width=i.width,this.rect.height=i.height},r.prototype.setCenter=function(e,i){this.rect.x=e-this.rect.width/2,this.rect.y=i-this.rect.height/2},r.prototype.setLocation=function(e,i){this.rect.x=e,this.rect.y=i},r.prototype.moveBy=function(e,i){this.rect.x+=e,this.rect.y+=i},r.prototype.getEdgeListToNode=function(e){var i=[],h,u=this;return u.edges.forEach(function(c){if(c.target==e){if(c.source!=u)throw"Incorrect edge source!";i.push(c)}}),i},r.prototype.getEdgesBetween=function(e){var i=[],h,u=this;return u.edges.forEach(function(c){if(!(c.source==u||c.target==u))throw"Incorrect edge source and/or target";(c.target==e||c.source==e)&&i.push(c)}),i},r.prototype.getNeighborsList=function(){var e=new Set,i=this;return i.edges.forEach(function(h){if(h.source==i)e.add(h.target);else{if(h.target!=i)throw"Incorrect incidency!";e.add(h.source)}}),e},r.prototype.withChildren=function(){var e=new Set,i,h;if(e.add(this),this.child!=null)for(var u=this.child.getNodes(),c=0;c<u.length;c++)i=u[c],h=i.withChildren(),h.forEach(function(E){e.add(E)});return e},r.prototype.getNoOfChildren=function(){var e=0,i;if(this.child==null)e=1;else for(var h=this.child.getNodes(),u=0;u<h.length;u++)i=h[u],e+=i.getNoOfChildren();return e==0&&(e=1),e},r.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},r.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},r.prototype.scatter=function(){var e,i,h=-t.INITIAL_WORLD_BOUNDARY,u=t.INITIAL_WORLD_BOUNDARY;e=t.WORLD_CENTER_X+o.nextDouble()*(u-h)+h;var c=-t.INITIAL_WORLD_BOUNDARY,E=t.INITIAL_WORLD_BOUNDARY;i=t.WORLD_CENTER_Y+o.nextDouble()*(E-c)+c,this.rect.x=e,this.rect.y=i},r.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var e=this.getChild();if(e.updateBounds(!0),this.rect.x=e.getLeft(),this.rect.y=e.getTop(),this.setWidth(e.getRight()-e.getLeft()),this.setHeight(e.getBottom()-e.getTop()),t.NODE_DIMENSIONS_INCLUDE_LABELS){var i=e.getRight()-e.getLeft(),h=e.getBottom()-e.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(i+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>i?(this.rect.x-=(this.labelWidth-i)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(i+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(h+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>h?(this.rect.y-=(this.labelHeight-h)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(h+this.labelHeight))}}},r.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},r.prototype.transform=function(e){var i=this.rect.x;i>t.WORLD_BOUNDARY?i=t.WORLD_BOUNDARY:i<-t.WORLD_BOUNDARY&&(i=-t.WORLD_BOUNDARY);var h=this.rect.y;h>t.WORLD_BOUNDARY?h=t.WORLD_BOUNDARY:h<-t.WORLD_BOUNDARY&&(h=-t.WORLD_BOUNDARY);var u=new d(i,h),c=e.inverseTransformPoint(u);this.setLocation(c.x,c.y)},r.prototype.getLeft=function(){return this.rect.x},r.prototype.getRight=function(){return this.rect.x+this.rect.width},r.prototype.getTop=function(){return this.rect.y},r.prototype.getBottom=function(){return this.rect.y+this.rect.height},r.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},nt.exports=r},function(nt,gt,R){"use strict";var p=R(0);function s(){}for(var n in p)s[n]=p[n];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,nt.exports=s},function(nt,gt,R){"use strict";function p(s,n){s==null&&n==null?(this.x=0,this.y=0):(this.x=s,this.y=n)}p.prototype.getX=function(){return this.x},p.prototype.getY=function(){return this.y},p.prototype.setX=function(s){this.x=s},p.prototype.setY=function(s){this.y=s},p.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},p.prototype.getCopy=function(){return new p(this.x,this.y)},p.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},nt.exports=p},function(nt,gt,R){"use strict";var p=R(2),s=R(10),n=R(0),t=R(7),o=R(3),d=R(1),r=R(13),g=R(12),e=R(11);function i(u,c,E){p.call(this,E),this.estimatedSize=s.MIN_VALUE,this.margin=n.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=u,c!=null&&c instanceof t?this.graphManager=c:c!=null&&c instanceof Layout&&(this.graphManager=c.graphManager)}i.prototype=Object.create(p.prototype);for(var h in p)i[h]=p[h];i.prototype.getNodes=function(){return this.nodes},i.prototype.getEdges=function(){return this.edges},i.prototype.getGraphManager=function(){return this.graphManager},i.prototype.getParent=function(){return this.parent},i.prototype.getLeft=function(){return this.left},i.prototype.getRight=function(){return this.right},i.prototype.getTop=function(){return this.top},i.prototype.getBottom=function(){return this.bottom},i.prototype.isConnected=function(){return this.isConnected},i.prototype.add=function(u,c,E){if(c==null&&E==null){var l=u;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(l)>-1)throw"Node already in graph!";return l.owner=this,this.getNodes().push(l),l}else{var L=u;if(!(this.getNodes().indexOf(c)>-1&&this.getNodes().indexOf(E)>-1))throw"Source or target not in graph!";if(!(c.owner==E.owner&&c.owner==this))throw"Both owners must be this graph!";return c.owner!=E.owner?null:(L.source=c,L.target=E,L.isInterGraph=!1,this.getEdges().push(L),c.edges.push(L),E!=c&&E.edges.push(L),L)}},i.prototype.remove=function(u){var c=u;if(u instanceof o){if(c==null)throw"Node is null!";if(!(c.owner!=null&&c.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var E=c.edges.slice(),l,L=E.length,T=0;T<L;T++)l=E[T],l.isInterGraph?this.graphManager.remove(l):l.source.owner.remove(l);var N=this.nodes.indexOf(c);if(N==-1)throw"Node not in owner node list!";this.nodes.splice(N,1)}else if(u instanceof d){var l=u;if(l==null)throw"Edge is null!";if(!(l.source!=null&&l.target!=null))throw"Source and/or target is null!";if(!(l.source.owner!=null&&l.target.owner!=null&&l.source.owner==this&&l.target.owner==this))throw"Source and/or target owner is invalid!";var D=l.source.edges.indexOf(l),tt=l.target.edges.indexOf(l);if(!(D>-1&&tt>-1))throw"Source and/or target doesn't know this edge!";l.source.edges.splice(D,1),l.target!=l.source&&l.target.edges.splice(tt,1);var N=l.source.owner.getEdges().indexOf(l);if(N==-1)throw"Not in owner's edge list!";l.source.owner.getEdges().splice(N,1)}},i.prototype.updateLeftTop=function(){for(var u=s.MAX_VALUE,c=s.MAX_VALUE,E,l,L,T=this.getNodes(),N=T.length,D=0;D<N;D++){var tt=T[D];E=tt.getTop(),l=tt.getLeft(),u>E&&(u=E),c>l&&(c=l)}return u==s.MAX_VALUE?null:(T[0].getParent().paddingLeft!=null?L=T[0].getParent().paddingLeft:L=this.margin,this.left=c-L,this.top=u-L,new g(this.left,this.top))},i.prototype.updateBounds=function(u){for(var c=s.MAX_VALUE,E=-s.MAX_VALUE,l=s.MAX_VALUE,L=-s.MAX_VALUE,T,N,D,tt,S,ot=this.nodes,mt=ot.length,vt=0;vt<mt;vt++){var Dt=ot[vt];u&&Dt.child!=null&&Dt.updateBounds(),T=Dt.getLeft(),N=Dt.getRight(),D=Dt.getTop(),tt=Dt.getBottom(),c>T&&(c=T),E<N&&(E=N),l>D&&(l=D),L<tt&&(L=tt)}var G=new r(c,l,E-c,L-l);c==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),ot[0].getParent().paddingLeft!=null?S=ot[0].getParent().paddingLeft:S=this.margin,this.left=G.x-S,this.right=G.x+G.width+S,this.top=G.y-S,this.bottom=G.y+G.height+S},i.calculateBounds=function(u){for(var c=s.MAX_VALUE,E=-s.MAX_VALUE,l=s.MAX_VALUE,L=-s.MAX_VALUE,T,N,D,tt,S=u.length,ot=0;ot<S;ot++){var mt=u[ot];T=mt.getLeft(),N=mt.getRight(),D=mt.getTop(),tt=mt.getBottom(),c>T&&(c=T),E<N&&(E=N),l>D&&(l=D),L<tt&&(L=tt)}var vt=new r(c,l,E-c,L-l);return vt},i.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},i.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},i.prototype.calcEstimatedSize=function(){for(var u=0,c=this.nodes,E=c.length,l=0;l<E;l++){var L=c[l];u+=L.calcEstimatedSize()}return u==0?this.estimatedSize=n.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=u/Math.sqrt(this.nodes.length),this.estimatedSize},i.prototype.updateConnected=function(){var u=this;if(this.nodes.length==0){this.isConnected=!0;return}var c=new e,E=new Set,l=this.nodes[0],L,T,N=l.withChildren();for(N.forEach(function(vt){c.push(vt),E.add(vt)});c.length!==0;){l=c.shift(),L=l.getEdges();for(var D=L.length,tt=0;tt<D;tt++){var S=L[tt];if(T=S.getOtherEndInGraph(l,this),T!=null&&!E.has(T)){var ot=T.withChildren();ot.forEach(function(vt){c.push(vt),E.add(vt)})}}}if(this.isConnected=!1,E.size>=this.nodes.length){var mt=0;E.forEach(function(vt){vt.owner==u&&mt++}),mt==this.nodes.length&&(this.isConnected=!0)}},nt.exports=i},function(nt,gt,R){"use strict";var p,s=R(1);function n(t){p=R(6),this.layout=t,this.graphs=[],this.edges=[]}n.prototype.addRoot=function(){var t=this.layout.newGraph(),o=this.layout.newNode(null),d=this.add(t,o);return this.setRootGraph(d),this.rootGraph},n.prototype.add=function(t,o,d,r,g){if(d==null&&r==null&&g==null){if(t==null)throw"Graph is null!";if(o==null)throw"Parent node is null!";if(this.graphs.indexOf(t)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(t),t.parent!=null)throw"Already has a parent!";if(o.child!=null)throw"Already has a child!";return t.parent=o,o.child=t,t}else{g=d,r=o,d=t;var e=r.getOwner(),i=g.getOwner();if(!(e!=null&&e.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(i!=null&&i.getGraphManager()==this))throw"Target not in this graph mgr!";if(e==i)return d.isInterGraph=!1,e.add(d,r,g);if(d.isInterGraph=!0,d.source=r,d.target=g,this.edges.indexOf(d)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(d),!(d.source!=null&&d.target!=null))throw"Edge source and/or target is null!";if(!(d.source.edges.indexOf(d)==-1&&d.target.edges.indexOf(d)==-1))throw"Edge already in source and/or target incidency list!";return d.source.edges.push(d),d.target.edges.push(d),d}},n.prototype.remove=function(t){if(t instanceof p){var o=t;if(o.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(o==this.rootGraph||o.parent!=null&&o.parent.graphManager==this))throw"Invalid parent node!";var d=[];d=d.concat(o.getEdges());for(var r,g=d.length,e=0;e<g;e++)r=d[e],o.remove(r);var i=[];i=i.concat(o.getNodes());var h;g=i.length;for(var e=0;e<g;e++)h=i[e],o.remove(h);o==this.rootGraph&&this.setRootGraph(null);var u=this.graphs.indexOf(o);this.graphs.splice(u,1),o.parent=null}else if(t instanceof s){if(r=t,r==null)throw"Edge is null!";if(!r.isInterGraph)throw"Not an inter-graph edge!";if(!(r.source!=null&&r.target!=null))throw"Source and/or target is null!";if(!(r.source.edges.indexOf(r)!=-1&&r.target.edges.indexOf(r)!=-1))throw"Source and/or target doesn't know this edge!";var u=r.source.edges.indexOf(r);if(r.source.edges.splice(u,1),u=r.target.edges.indexOf(r),r.target.edges.splice(u,1),!(r.source.owner!=null&&r.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(r.source.owner.getGraphManager().edges.indexOf(r)==-1)throw"Not in owner graph manager's edge list!";var u=r.source.owner.getGraphManager().edges.indexOf(r);r.source.owner.getGraphManager().edges.splice(u,1)}},n.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},n.prototype.getGraphs=function(){return this.graphs},n.prototype.getAllNodes=function(){if(this.allNodes==null){for(var t=[],o=this.getGraphs(),d=o.length,r=0;r<d;r++)t=t.concat(o[r].getNodes());this.allNodes=t}return this.allNodes},n.prototype.resetAllNodes=function(){this.allNodes=null},n.prototype.resetAllEdges=function(){this.allEdges=null},n.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},n.prototype.getAllEdges=function(){if(this.allEdges==null){for(var t=[],o=this.getGraphs(),d=o.length,r=0;r<o.length;r++)t=t.concat(o[r].getEdges());t=t.concat(this.edges),this.allEdges=t}return this.allEdges},n.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},n.prototype.setAllNodesToApplyGravitation=function(t){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=t},n.prototype.getRoot=function(){return this.rootGraph},n.prototype.setRootGraph=function(t){if(t.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=t,t.parent==null&&(t.parent=this.layout.newNode("Root node"))},n.prototype.getLayout=function(){return this.layout},n.prototype.isOneAncestorOfOther=function(t,o){if(!(t!=null&&o!=null))throw"assert failed";if(t==o)return!0;var d=t.getOwner(),r;do{if(r=d.getParent(),r==null)break;if(r==o)return!0;if(d=r.getOwner(),d==null)break}while(!0);d=o.getOwner();do{if(r=d.getParent(),r==null)break;if(r==t)return!0;if(d=r.getOwner(),d==null)break}while(!0);return!1},n.prototype.calcLowestCommonAncestors=function(){for(var t,o,d,r,g,e=this.getAllEdges(),i=e.length,h=0;h<i;h++){if(t=e[h],o=t.source,d=t.target,t.lca=null,t.sourceInLca=o,t.targetInLca=d,o==d){t.lca=o.getOwner();continue}for(r=o.getOwner();t.lca==null;){for(t.targetInLca=d,g=d.getOwner();t.lca==null;){if(g==r){t.lca=g;break}if(g==this.rootGraph)break;if(t.lca!=null)throw"assert failed";t.targetInLca=g.getParent(),g=t.targetInLca.getOwner()}if(r==this.rootGraph)break;t.lca==null&&(t.sourceInLca=r.getParent(),r=t.sourceInLca.getOwner())}if(t.lca==null)throw"assert failed"}},n.prototype.calcLowestCommonAncestor=function(t,o){if(t==o)return t.getOwner();var d=t.getOwner();do{if(d==null)break;var r=o.getOwner();do{if(r==null)break;if(r==d)return r;r=r.getParent().getOwner()}while(!0);d=d.getParent().getOwner()}while(!0);return d},n.prototype.calcInclusionTreeDepths=function(t,o){t==null&&o==null&&(t=this.rootGraph,o=1);for(var d,r=t.getNodes(),g=r.length,e=0;e<g;e++)d=r[e],d.inclusionTreeDepth=o,d.child!=null&&this.calcInclusionTreeDepths(d.child,o+1)},n.prototype.includesInvalidEdge=function(){for(var t,o=[],d=this.edges.length,r=0;r<d;r++)t=this.edges[r],this.isOneAncestorOfOther(t.source,t.target)&&o.push(t);for(var r=0;r<o.length;r++)this.remove(o[r]);return!1},nt.exports=n},function(nt,gt,R){"use strict";var p=R(12);function s(){}s.calcSeparationAmount=function(n,t,o,d){if(!n.intersects(t))throw"assert failed";var r=new Array(2);this.decideDirectionsForOverlappingNodes(n,t,r),o[0]=Math.min(n.getRight(),t.getRight())-Math.max(n.x,t.x),o[1]=Math.min(n.getBottom(),t.getBottom())-Math.max(n.y,t.y),n.getX()<=t.getX()&&n.getRight()>=t.getRight()?o[0]+=Math.min(t.getX()-n.getX(),n.getRight()-t.getRight()):t.getX()<=n.getX()&&t.getRight()>=n.getRight()&&(o[0]+=Math.min(n.getX()-t.getX(),t.getRight()-n.getRight())),n.getY()<=t.getY()&&n.getBottom()>=t.getBottom()?o[1]+=Math.min(t.getY()-n.getY(),n.getBottom()-t.getBottom()):t.getY()<=n.getY()&&t.getBottom()>=n.getBottom()&&(o[1]+=Math.min(n.getY()-t.getY(),t.getBottom()-n.getBottom()));var g=Math.abs((t.getCenterY()-n.getCenterY())/(t.getCenterX()-n.getCenterX()));t.getCenterY()===n.getCenterY()&&t.getCenterX()===n.getCenterX()&&(g=1);var e=g*o[0],i=o[1]/g;o[0]<i?i=o[0]:e=o[1],o[0]=-1*r[0]*(i/2+d),o[1]=-1*r[1]*(e/2+d)},s.decideDirectionsForOverlappingNodes=function(n,t,o){n.getCenterX()<t.getCenterX()?o[0]=-1:o[0]=1,n.getCenterY()<t.getCenterY()?o[1]=-1:o[1]=1},s.getIntersection2=function(n,t,o){var d=n.getCenterX(),r=n.getCenterY(),g=t.getCenterX(),e=t.getCenterY();if(n.intersects(t))return o[0]=d,o[1]=r,o[2]=g,o[3]=e,!0;var i=n.getX(),h=n.getY(),u=n.getRight(),c=n.getX(),E=n.getBottom(),l=n.getRight(),L=n.getWidthHalf(),T=n.getHeightHalf(),N=t.getX(),D=t.getY(),tt=t.getRight(),S=t.getX(),ot=t.getBottom(),mt=t.getRight(),vt=t.getWidthHalf(),Dt=t.getHeightHalf(),G=!1,Q=!1;if(d===g){if(r>e)return o[0]=d,o[1]=h,o[2]=g,o[3]=ot,!1;if(r<e)return o[0]=d,o[1]=E,o[2]=g,o[3]=D,!1}else if(r===e){if(d>g)return o[0]=i,o[1]=r,o[2]=tt,o[3]=e,!1;if(d<g)return o[0]=u,o[1]=r,o[2]=N,o[3]=e,!1}else{var a=n.height/n.width,m=t.height/t.width,f=(e-r)/(g-d),y=void 0,v=void 0,I=void 0,M=void 0,W=void 0,H=void 0;if(-a===f?d>g?(o[0]=c,o[1]=E,G=!0):(o[0]=u,o[1]=h,G=!0):a===f&&(d>g?(o[0]=i,o[1]=h,G=!0):(o[0]=l,o[1]=E,G=!0)),-m===f?g>d?(o[2]=S,o[3]=ot,Q=!0):(o[2]=tt,o[3]=D,Q=!0):m===f&&(g>d?(o[2]=N,o[3]=D,Q=!0):(o[2]=mt,o[3]=ot,Q=!0)),G&&Q)return!1;if(d>g?r>e?(y=this.getCardinalDirection(a,f,4),v=this.getCardinalDirection(m,f,2)):(y=this.getCardinalDirection(-a,f,3),v=this.getCardinalDirection(-m,f,1)):r>e?(y=this.getCardinalDirection(-a,f,1),v=this.getCardinalDirection(-m,f,3)):(y=this.getCardinalDirection(a,f,2),v=this.getCardinalDirection(m,f,4)),!G)switch(y){case 1:M=h,I=d+-T/f,o[0]=I,o[1]=M;break;case 2:I=l,M=r+L*f,o[0]=I,o[1]=M;break;case 3:M=E,I=d+T/f,o[0]=I,o[1]=M;break;case 4:I=c,M=r+-L*f,o[0]=I,o[1]=M;break}if(!Q)switch(v){case 1:H=D,W=g+-Dt/f,o[2]=W,o[3]=H;break;case 2:W=mt,H=e+vt*f,o[2]=W,o[3]=H;break;case 3:H=ot,W=g+Dt/f,o[2]=W,o[3]=H;break;case 4:W=S,H=e+-vt*f,o[2]=W,o[3]=H;break}}return!1},s.getCardinalDirection=function(n,t,o){return n>t?o:1+o%4},s.getIntersection=function(n,t,o,d){if(d==null)return this.getIntersection2(n,t,o);var r=n.x,g=n.y,e=t.x,i=t.y,h=o.x,u=o.y,c=d.x,E=d.y,l=void 0,L=void 0,T=void 0,N=void 0,D=void 0,tt=void 0,S=void 0,ot=void 0,mt=void 0;return T=i-g,D=r-e,S=e*g-r*i,N=E-u,tt=h-c,ot=c*u-h*E,mt=T*tt-N*D,mt===0?null:(l=(D*ot-tt*S)/mt,L=(N*S-T*ot)/mt,new p(l,L))},s.angleOfVector=function(n,t,o,d){var r=void 0;return n!==o?(r=Math.atan((d-t)/(o-n)),o<n?r+=Math.PI:d<t&&(r+=this.TWO_PI)):d<t?r=this.ONE_AND_HALF_PI:r=this.HALF_PI,r},s.doIntersect=function(n,t,o,d){var r=n.x,g=n.y,e=t.x,i=t.y,h=o.x,u=o.y,c=d.x,E=d.y,l=(e-r)*(E-u)-(c-h)*(i-g);if(l===0)return!1;var L=((E-u)*(c-r)+(h-c)*(E-g))/l,T=((g-i)*(c-r)+(e-r)*(E-g))/l;return 0<L&&L<1&&0<T&&T<1},s.findCircleLineIntersections=function(n,t,o,d,r,g,e){var i=(o-n)*(o-n)+(d-t)*(d-t),h=2*((n-r)*(o-n)+(t-g)*(d-t)),u=(n-r)*(n-r)+(t-g)*(t-g)-e*e,c=h*h-4*i*u;if(c>=0){var E=(-h+Math.sqrt(h*h-4*i*u))/(2*i),l=(-h-Math.sqrt(h*h-4*i*u))/(2*i),L=null;return E>=0&&E<=1?[E]:l>=0&&l<=1?[l]:L}else return null},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,nt.exports=s},function(nt,gt,R){"use strict";function p(){}p.sign=function(s){return s>0?1:s<0?-1:0},p.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},p.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},nt.exports=p},function(nt,gt,R){"use strict";function p(){}p.MAX_VALUE=2147483647,p.MIN_VALUE=-2147483648,nt.exports=p},function(nt,gt,R){"use strict";var p=function(){function r(g,e){for(var i=0;i<e.length;i++){var h=e[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(g,h.key,h)}}return function(g,e,i){return e&&r(g.prototype,e),i&&r(g,i),g}}();function s(r,g){if(!(r instanceof g))throw new TypeError("Cannot call a class as a function")}var n=function(g){return{value:g,next:null,prev:null}},t=function(g,e,i,h){return g!==null?g.next=e:h.head=e,i!==null?i.prev=e:h.tail=e,e.prev=g,e.next=i,h.length++,e},o=function(g,e){var i=g.prev,h=g.next;return i!==null?i.next=h:e.head=h,h!==null?h.prev=i:e.tail=i,g.prev=g.next=null,e.length--,g},d=function(){function r(g){var e=this;s(this,r),this.length=0,this.head=null,this.tail=null,g!=null&&g.forEach(function(i){return e.push(i)})}return p(r,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(e,i){return t(i.prev,n(e),i,this)}},{key:"insertAfter",value:function(e,i){return t(i,n(e),i.next,this)}},{key:"insertNodeBefore",value:function(e,i){return t(i.prev,e,i,this)}},{key:"insertNodeAfter",value:function(e,i){return t(i,e,i.next,this)}},{key:"push",value:function(e){return t(this.tail,n(e),null,this)}},{key:"unshift",value:function(e){return t(null,n(e),this.head,this)}},{key:"remove",value:function(e){return o(e,this)}},{key:"pop",value:function(){return o(this.tail,this).value}},{key:"popNode",value:function(){return o(this.tail,this)}},{key:"shift",value:function(){return o(this.head,this).value}},{key:"shiftNode",value:function(){return o(this.head,this)}},{key:"get_object_at",value:function(e){if(e<=this.length()){for(var i=1,h=this.head;i<e;)h=h.next,i++;return h.value}}},{key:"set_object_at",value:function(e,i){if(e<=this.length()){for(var h=1,u=this.head;h<e;)u=u.next,h++;u.value=i}}}]),r}();nt.exports=d},function(nt,gt,R){"use strict";function p(s,n,t){this.x=null,this.y=null,s==null&&n==null&&t==null?(this.x=0,this.y=0):typeof s=="number"&&typeof n=="number"&&t==null?(this.x=s,this.y=n):s.constructor.name=="Point"&&n==null&&t==null&&(t=s,this.x=t.x,this.y=t.y)}p.prototype.getX=function(){return this.x},p.prototype.getY=function(){return this.y},p.prototype.getLocation=function(){return new p(this.x,this.y)},p.prototype.setLocation=function(s,n,t){s.constructor.name=="Point"&&n==null&&t==null?(t=s,this.setLocation(t.x,t.y)):typeof s=="number"&&typeof n=="number"&&t==null&&(parseInt(s)==s&&parseInt(n)==n?this.move(s,n):(this.x=Math.floor(s+.5),this.y=Math.floor(n+.5)))},p.prototype.move=function(s,n){this.x=s,this.y=n},p.prototype.translate=function(s,n){this.x+=s,this.y+=n},p.prototype.equals=function(s){if(s.constructor.name=="Point"){var n=s;return this.x==n.x&&this.y==n.y}return this==s},p.prototype.toString=function(){return new p().constructor.name+"[x="+this.x+",y="+this.y+"]"},nt.exports=p},function(nt,gt,R){"use strict";function p(s,n,t,o){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&n!=null&&t!=null&&o!=null&&(this.x=s,this.y=n,this.width=t,this.height=o)}p.prototype.getX=function(){return this.x},p.prototype.setX=function(s){this.x=s},p.prototype.getY=function(){return this.y},p.prototype.setY=function(s){this.y=s},p.prototype.getWidth=function(){return this.width},p.prototype.setWidth=function(s){this.width=s},p.prototype.getHeight=function(){return this.height},p.prototype.setHeight=function(s){this.height=s},p.prototype.getRight=function(){return this.x+this.width},p.prototype.getBottom=function(){return this.y+this.height},p.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},p.prototype.getCenterX=function(){return this.x+this.width/2},p.prototype.getMinX=function(){return this.getX()},p.prototype.getMaxX=function(){return this.getX()+this.width},p.prototype.getCenterY=function(){return this.y+this.height/2},p.prototype.getMinY=function(){return this.getY()},p.prototype.getMaxY=function(){return this.getY()+this.height},p.prototype.getWidthHalf=function(){return this.width/2},p.prototype.getHeightHalf=function(){return this.height/2},nt.exports=p},function(nt,gt,R){"use strict";var p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function s(){}s.lastID=0,s.createID=function(n){return s.isPrimitive(n)?n:(n.uniqueID!=null||(n.uniqueID=s.getString(),s.lastID++),n.uniqueID)},s.getString=function(n){return n==null&&(n=s.lastID),"Object#"+n},s.isPrimitive=function(n){var t=typeof n=="undefined"?"undefined":p(n);return n==null||t!="object"&&t!="function"},nt.exports=s},function(nt,gt,R){"use strict";function p(h){if(Array.isArray(h)){for(var u=0,c=Array(h.length);u<h.length;u++)c[u]=h[u];return c}else return Array.from(h)}var s=R(0),n=R(7),t=R(3),o=R(1),d=R(6),r=R(5),g=R(17),e=R(29);function i(h){e.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new n(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,h!=null&&(this.isRemoteUse=h)}i.RANDOM_SEED=1,i.prototype=Object.create(e.prototype),i.prototype.getGraphManager=function(){return this.graphManager},i.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},i.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},i.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},i.prototype.newGraphManager=function(){var h=new n(this);return this.graphManager=h,h},i.prototype.newGraph=function(h){return new d(null,this.graphManager,h)},i.prototype.newNode=function(h){return new t(this.graphManager,h)},i.prototype.newEdge=function(h){return new o(null,null,h)},i.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},i.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var h;return this.checkLayoutSuccess()?h=!1:h=this.layout(),s.ANIMATE==="during"?!1:(h&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,h)},i.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},i.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var h,u=this.graphManager.getAllEdges(),c=0;c<u.length;c++)h=u[c];for(var E,l=this.graphManager.getRoot().getNodes(),c=0;c<l.length;c++)E=l[c];this.update(this.graphManager.getRoot())}},i.prototype.update=function(h){if(h==null)this.update2();else if(h instanceof t){var u=h;if(u.getChild()!=null)for(var c=u.getChild().getNodes(),E=0;E<c.length;E++)update(c[E]);if(u.vGraphObject!=null){var l=u.vGraphObject;l.update(u)}}else if(h instanceof o){var L=h;if(L.vGraphObject!=null){var T=L.vGraphObject;T.update(L)}}else if(h instanceof d){var N=h;if(N.vGraphObject!=null){var D=N.vGraphObject;D.update(N)}}},i.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},i.prototype.transform=function(h){if(h==null)this.transform(new r(0,0));else{var u=new g,c=this.graphManager.getRoot().updateLeftTop();if(c!=null){u.setWorldOrgX(h.x),u.setWorldOrgY(h.y),u.setDeviceOrgX(c.x),u.setDeviceOrgY(c.y);for(var E=this.getAllNodes(),l,L=0;L<E.length;L++)l=E[L],l.transform(u)}}},i.prototype.positionNodesRandomly=function(h){if(h==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var u,c,E=h.getNodes(),l=0;l<E.length;l++)u=E[l],c=u.getChild(),c==null||c.getNodes().length==0?u.scatter():(this.positionNodesRandomly(c),u.updateBounds())},i.prototype.getFlatForest=function(){for(var h=[],u=!0,c=this.graphManager.getRoot().getNodes(),E=!0,l=0;l<c.length;l++)c[l].getChild()!=null&&(E=!1);if(!E)return h;var L=new Set,T=[],N=new Map,D=[];for(D=D.concat(c);D.length>0&&u;){for(T.push(D[0]);T.length>0&&u;){var tt=T[0];T.splice(0,1),L.add(tt);for(var S=tt.getEdges(),l=0;l<S.length;l++){var ot=S[l].getOtherEnd(tt);if(N.get(tt)!=ot)if(!L.has(ot))T.push(ot),N.set(ot,tt);else{u=!1;break}}}if(!u)h=[];else{var mt=[].concat(p(L));h.push(mt);for(var l=0;l<mt.length;l++){var vt=mt[l],Dt=D.indexOf(vt);Dt>-1&&D.splice(Dt,1)}L=new Set,N=new Map}}return h},i.prototype.createDummyNodesForBendpoints=function(h){for(var u=[],c=h.source,E=this.graphManager.calcLowestCommonAncestor(h.source,h.target),l=0;l<h.bendpoints.length;l++){var L=this.newNode(null);L.setRect(new Point(0,0),new Dimension(1,1)),E.add(L);var T=this.newEdge(null);this.graphManager.add(T,c,L),u.add(L),c=L}var T=this.newEdge(null);return this.graphManager.add(T,c,h.target),this.edgeToDummyNodes.set(h,u),h.isInterGraph()?this.graphManager.remove(h):E.remove(h),u},i.prototype.createBendpointsFromDummyNodes=function(){var h=[];h=h.concat(this.graphManager.getAllEdges()),h=[].concat(p(this.edgeToDummyNodes.keys())).concat(h);for(var u=0;u<h.length;u++){var c=h[u];if(c.bendpoints.length>0){for(var E=this.edgeToDummyNodes.get(c),l=0;l<E.length;l++){var L=E[l],T=new r(L.getCenterX(),L.getCenterY()),N=c.bendpoints.get(l);N.x=T.x,N.y=T.y,L.getOwner().remove(L)}this.graphManager.add(c,c.source,c.target)}}},i.transform=function(h,u,c,E){if(c!=null&&E!=null){var l=u;if(h<=50){var L=u/c;l-=(u-L)/50*(50-h)}else{var T=u*E;l+=(T-u)/50*(h-50)}return l}else{var N,D;return h<=50?(N=9*u/500,D=u/10):(N=9*u/50,D=-8*u),N*h+D}},i.findCenterOfTree=function(h){var u=[];u=u.concat(h);var c=[],E=new Map,l=!1,L=null;(u.length==1||u.length==2)&&(l=!0,L=u[0]);for(var T=0;T<u.length;T++){var N=u[T],D=N.getNeighborsList().size;E.set(N,N.getNeighborsList().size),D==1&&c.push(N)}var tt=[];for(tt=tt.concat(c);!l;){var S=[];S=S.concat(tt),tt=[];for(var T=0;T<u.length;T++){var N=u[T],ot=u.indexOf(N);ot>=0&&u.splice(ot,1);var mt=N.getNeighborsList();mt.forEach(function(G){if(c.indexOf(G)<0){var Q=E.get(G),a=Q-1;a==1&&tt.push(G),E.set(G,a)}})}c=c.concat(tt),(u.length==1||u.length==2)&&(l=!0,L=u[0])}return L},i.prototype.setGraphManager=function(h){this.graphManager=h},nt.exports=i},function(nt,gt,R){"use strict";function p(){}p.seed=1,p.x=0,p.nextDouble=function(){return p.x=Math.sin(p.seed++)*1e4,p.x-Math.floor(p.x)},nt.exports=p},function(nt,gt,R){"use strict";var p=R(5);function s(n,t){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(n){this.lworldOrgX=n},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(n){this.lworldOrgY=n},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(n){this.lworldExtX=n},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(n){this.lworldExtY=n},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(n){this.ldeviceOrgX=n},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(n){this.ldeviceOrgY=n},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(n){this.ldeviceExtX=n},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(n){this.ldeviceExtY=n},s.prototype.transformX=function(n){var t=0,o=this.lworldExtX;return o!=0&&(t=this.ldeviceOrgX+(n-this.lworldOrgX)*this.ldeviceExtX/o),t},s.prototype.transformY=function(n){var t=0,o=this.lworldExtY;return o!=0&&(t=this.ldeviceOrgY+(n-this.lworldOrgY)*this.ldeviceExtY/o),t},s.prototype.inverseTransformX=function(n){var t=0,o=this.ldeviceExtX;return o!=0&&(t=this.lworldOrgX+(n-this.ldeviceOrgX)*this.lworldExtX/o),t},s.prototype.inverseTransformY=function(n){var t=0,o=this.ldeviceExtY;return o!=0&&(t=this.lworldOrgY+(n-this.ldeviceOrgY)*this.lworldExtY/o),t},s.prototype.inverseTransformPoint=function(n){var t=new p(this.inverseTransformX(n.x),this.inverseTransformY(n.y));return t},nt.exports=s},function(nt,gt,R){"use strict";function p(e){if(Array.isArray(e)){for(var i=0,h=Array(e.length);i<e.length;i++)h[i]=e[i];return h}else return Array.from(e)}var s=R(15),n=R(4),t=R(0),o=R(8),d=R(9);function r(){s.call(this),this.useSmartIdealEdgeLengthCalculation=n.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=n.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=n.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=n.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=n.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*n.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=n.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=n.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=n.MAX_ITERATIONS}r.prototype=Object.create(s.prototype);for(var g in s)r[g]=s[g];r.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=n.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},r.prototype.calcIdealEdgeLengths=function(){for(var e,i,h,u,c,E,l,L=this.getGraphManager().getAllEdges(),T=0;T<L.length;T++)e=L[T],i=e.idealLength,e.isInterGraph&&(u=e.getSource(),c=e.getTarget(),E=e.getSourceInLca().getEstimatedSize(),l=e.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(e.idealLength+=E+l-2*t.SIMPLE_NODE_SIZE),h=e.getLca().getInclusionTreeDepth(),e.idealLength+=i*n.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(u.getInclusionTreeDepth()+c.getInclusionTreeDepth()-2*h))},r.prototype.initSpringEmbedder=function(){var e=this.getAllNodes().length;this.incremental?(e>n.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*n.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(e-n.ADAPTATION_LOWER_NODE_LIMIT)/(n.ADAPTATION_UPPER_NODE_LIMIT-n.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-n.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=n.MAX_NODE_DISPLACEMENT_INCREMENTAL):(e>n.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(n.COOLING_ADAPTATION_FACTOR,1-(e-n.ADAPTATION_LOWER_NODE_LIMIT)/(n.ADAPTATION_UPPER_NODE_LIMIT-n.ADAPTATION_LOWER_NODE_LIMIT)*(1-n.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=n.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*n.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},r.prototype.calcSpringForces=function(){for(var e=this.getAllEdges(),i,h=0;h<e.length;h++)i=e[h],this.calcSpringForce(i,i.idealLength)},r.prototype.calcRepulsionForces=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h,u,c,E,l=this.getAllNodes(),L;if(this.useFRGridVariant)for(this.totalIterations%n.GRID_CALCULATION_CHECK_PERIOD==1&&e&&this.updateGrid(),L=new Set,h=0;h<l.length;h++)c=l[h],this.calculateRepulsionForceOfANode(c,L,e,i),L.add(c);else for(h=0;h<l.length;h++)for(c=l[h],u=h+1;u<l.length;u++)E=l[u],c.getOwner()==E.getOwner()&&this.calcRepulsionForce(c,E)},r.prototype.calcGravitationalForces=function(){for(var e,i=this.getAllNodesToApplyGravitation(),h=0;h<i.length;h++)e=i[h],this.calcGravitationalForce(e)},r.prototype.moveNodes=function(){for(var e=this.getAllNodes(),i,h=0;h<e.length;h++)i=e[h],i.move()},r.prototype.calcSpringForce=function(e,i){var h=e.getSource(),u=e.getTarget(),c,E,l,L;if(this.uniformLeafNodeSizes&&h.getChild()==null&&u.getChild()==null)e.updateLengthSimple();else if(e.updateLength(),e.isOverlapingSourceAndTarget)return;c=e.getLength(),c!=0&&(E=e.edgeElasticity*(c-i),l=E*(e.lengthX/c),L=E*(e.lengthY/c),h.springForceX+=l,h.springForceY+=L,u.springForceX-=l,u.springForceY-=L)},r.prototype.calcRepulsionForce=function(e,i){var h=e.getRect(),u=i.getRect(),c=new Array(2),E=new Array(4),l,L,T,N,D,tt,S;if(h.intersects(u)){o.calcSeparationAmount(h,u,c,n.DEFAULT_EDGE_LENGTH/2),tt=2*c[0],S=2*c[1];var ot=e.noOfChildren*i.noOfChildren/(e.noOfChildren+i.noOfChildren);e.repulsionForceX-=ot*tt,e.repulsionForceY-=ot*S,i.repulsionForceX+=ot*tt,i.repulsionForceY+=ot*S}else this.uniformLeafNodeSizes&&e.getChild()==null&&i.getChild()==null?(l=u.getCenterX()-h.getCenterX(),L=u.getCenterY()-h.getCenterY()):(o.getIntersection(h,u,E),l=E[2]-E[0],L=E[3]-E[1]),Math.abs(l)<n.MIN_REPULSION_DIST&&(l=d.sign(l)*n.MIN_REPULSION_DIST),Math.abs(L)<n.MIN_REPULSION_DIST&&(L=d.sign(L)*n.MIN_REPULSION_DIST),T=l*l+L*L,N=Math.sqrt(T),D=(e.nodeRepulsion/2+i.nodeRepulsion/2)*e.noOfChildren*i.noOfChildren/T,tt=D*l/N,S=D*L/N,e.repulsionForceX-=tt,e.repulsionForceY-=S,i.repulsionForceX+=tt,i.repulsionForceY+=S},r.prototype.calcGravitationalForce=function(e){var i,h,u,c,E,l,L,T;i=e.getOwner(),h=(i.getRight()+i.getLeft())/2,u=(i.getTop()+i.getBottom())/2,c=e.getCenterX()-h,E=e.getCenterY()-u,l=Math.abs(c)+e.getWidth()/2,L=Math.abs(E)+e.getHeight()/2,e.getOwner()==this.graphManager.getRoot()?(T=i.getEstimatedSize()*this.gravityRangeFactor,(l>T||L>T)&&(e.gravitationForceX=-this.gravityConstant*c,e.gravitationForceY=-this.gravityConstant*E)):(T=i.getEstimatedSize()*this.compoundGravityRangeFactor,(l>T||L>T)&&(e.gravitationForceX=-this.gravityConstant*c*this.compoundGravityConstant,e.gravitationForceY=-this.gravityConstant*E*this.compoundGravityConstant))},r.prototype.isConverged=function(){var e,i=!1;return this.totalIterations>this.maxIterations/3&&(i=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),e=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,e||i},r.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},r.prototype.calcNoOfChildrenForAllNodes=function(){for(var e,i=this.graphManager.getAllNodes(),h=0;h<i.length;h++)e=i[h],e.noOfChildren=e.getNoOfChildren()},r.prototype.calcGrid=function(e){var i=0,h=0;i=parseInt(Math.ceil((e.getRight()-e.getLeft())/this.repulsionRange)),h=parseInt(Math.ceil((e.getBottom()-e.getTop())/this.repulsionRange));for(var u=new Array(i),c=0;c<i;c++)u[c]=new Array(h);for(var c=0;c<i;c++)for(var E=0;E<h;E++)u[c][E]=new Array;return u},r.prototype.addNodeToGrid=function(e,i,h){var u=0,c=0,E=0,l=0;u=parseInt(Math.floor((e.getRect().x-i)/this.repulsionRange)),c=parseInt(Math.floor((e.getRect().width+e.getRect().x-i)/this.repulsionRange)),E=parseInt(Math.floor((e.getRect().y-h)/this.repulsionRange)),l=parseInt(Math.floor((e.getRect().height+e.getRect().y-h)/this.repulsionRange));for(var L=u;L<=c;L++)for(var T=E;T<=l;T++)this.grid[L][T].push(e),e.setGridCoordinates(u,c,E,l)},r.prototype.updateGrid=function(){var e,i,h=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),e=0;e<h.length;e++)i=h[e],this.addNodeToGrid(i,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},r.prototype.calculateRepulsionForceOfANode=function(e,i,h,u){if(this.totalIterations%n.GRID_CALCULATION_CHECK_PERIOD==1&&h||u){var c=new Set;e.surrounding=new Array;for(var E,l=this.grid,L=e.startX-1;L<e.finishX+2;L++)for(var T=e.startY-1;T<e.finishY+2;T++)if(!(L<0||T<0||L>=l.length||T>=l[0].length)){for(var N=0;N<l[L][T].length;N++)if(E=l[L][T][N],!(e.getOwner()!=E.getOwner()||e==E)&&!i.has(E)&&!c.has(E)){var D=Math.abs(e.getCenterX()-E.getCenterX())-(e.getWidth()/2+E.getWidth()/2),tt=Math.abs(e.getCenterY()-E.getCenterY())-(e.getHeight()/2+E.getHeight()/2);D<=this.repulsionRange&&tt<=this.repulsionRange&&c.add(E)}}e.surrounding=[].concat(p(c))}for(L=0;L<e.surrounding.length;L++)this.calcRepulsionForce(e,e.surrounding[L])},r.prototype.calcRepulsionRange=function(){return 0},nt.exports=r},function(nt,gt,R){"use strict";var p=R(1),s=R(4);function n(o,d,r){p.call(this,o,d,r),this.idealLength=s.DEFAULT_EDGE_LENGTH,this.edgeElasticity=s.DEFAULT_SPRING_STRENGTH}n.prototype=Object.create(p.prototype);for(var t in p)n[t]=p[t];nt.exports=n},function(nt,gt,R){"use strict";var p=R(3),s=R(4);function n(o,d,r,g){p.call(this,o,d,r,g),this.nodeRepulsion=s.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}n.prototype=Object.create(p.prototype);for(var t in p)n[t]=p[t];n.prototype.setGridCoordinates=function(o,d,r,g){this.startX=o,this.finishX=d,this.startY=r,this.finishY=g},nt.exports=n},function(nt,gt,R){"use strict";function p(s,n){this.width=0,this.height=0,s!==null&&n!==null&&(this.height=n,this.width=s)}p.prototype.getWidth=function(){return this.width},p.prototype.setWidth=function(s){this.width=s},p.prototype.getHeight=function(){return this.height},p.prototype.setHeight=function(s){this.height=s},nt.exports=p},function(nt,gt,R){"use strict";var p=R(14);function s(){this.map={},this.keys=[]}s.prototype.put=function(n,t){var o=p.createID(n);this.contains(o)||(this.map[o]=t,this.keys.push(n))},s.prototype.contains=function(n){var t=p.createID(n);return this.map[n]!=null},s.prototype.get=function(n){var t=p.createID(n);return this.map[t]},s.prototype.keySet=function(){return this.keys},nt.exports=s},function(nt,gt,R){"use strict";var p=R(14);function s(){this.set={}}s.prototype.add=function(n){var t=p.createID(n);this.contains(t)||(this.set[t]=n)},s.prototype.remove=function(n){delete this.set[p.createID(n)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(n){return this.set[p.createID(n)]==n},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(n){for(var t=Object.keys(this.set),o=t.length,d=0;d<o;d++)n.push(this.set[t[d]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(n){for(var t=n.length,o=0;o<t;o++){var d=n[o];this.add(d)}},nt.exports=s},function(nt,gt,R){"use strict";function p(){}p.multMat=function(s,n){for(var t=[],o=0;o<s.length;o++){t[o]=[];for(var d=0;d<n[0].length;d++){t[o][d]=0;for(var r=0;r<s[0].length;r++)t[o][d]+=s[o][r]*n[r][d]}}return t},p.transpose=function(s){for(var n=[],t=0;t<s[0].length;t++){n[t]=[];for(var o=0;o<s.length;o++)n[t][o]=s[o][t]}return n},p.multCons=function(s,n){for(var t=[],o=0;o<s.length;o++)t[o]=s[o]*n;return t},p.minusOp=function(s,n){for(var t=[],o=0;o<s.length;o++)t[o]=s[o]-n[o];return t},p.dotProduct=function(s,n){for(var t=0,o=0;o<s.length;o++)t+=s[o]*n[o];return t},p.mag=function(s){return Math.sqrt(this.dotProduct(s,s))},p.normalize=function(s){for(var n=[],t=this.mag(s),o=0;o<s.length;o++)n[o]=s[o]/t;return n},p.multGamma=function(s){for(var n=[],t=0,o=0;o<s.length;o++)t+=s[o];t*=-1/s.length;for(var d=0;d<s.length;d++)n[d]=t+s[d];return n},p.multL=function(s,n,t){for(var o=[],d=[],r=[],g=0;g<n[0].length;g++){for(var e=0,i=0;i<n.length;i++)e+=-.5*n[i][g]*s[i];d[g]=e}for(var h=0;h<t.length;h++){for(var u=0,c=0;c<t.length;c++)u+=t[h][c]*d[c];r[h]=u}for(var E=0;E<n.length;E++){for(var l=0,L=0;L<n[0].length;L++)l+=n[E][L]*r[L];o[E]=l}return o},nt.exports=p},function(nt,gt,R){"use strict";var p=function(){function o(d,r){for(var g=0;g<r.length;g++){var e=r[g];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(d,e.key,e)}}return function(d,r,g){return r&&o(d.prototype,r),g&&o(d,g),d}}();function s(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}var n=R(11),t=function(){function o(d,r){s(this,o),(r!==null||r!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var g=void 0;d instanceof n?g=d.size():g=d.length,this._quicksort(d,0,g-1)}return p(o,[{key:"_quicksort",value:function(r,g,e){if(g<e){var i=this._partition(r,g,e);this._quicksort(r,g,i),this._quicksort(r,i+1,e)}}},{key:"_partition",value:function(r,g,e){for(var i=this._get(r,g),h=g,u=e;;){for(;this.compareFunction(i,this._get(r,u));)u--;for(;this.compareFunction(this._get(r,h),i);)h++;if(h<u)this._swap(r,h,u),h++,u--;else return u}}},{key:"_get",value:function(r,g){return r instanceof n?r.get_object_at(g):r[g]}},{key:"_set",value:function(r,g,e){r instanceof n?r.set_object_at(g,e):r[g]=e}},{key:"_swap",value:function(r,g,e){var i=this._get(r,g);this._set(r,g,this._get(r,e)),this._set(r,e,i)}},{key:"_defaultCompareFunction",value:function(r,g){return g>r}}]),o}();nt.exports=t},function(nt,gt,R){"use strict";function p(){}p.svd=function(s){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=s.length,this.n=s[0].length;var n=Math.min(this.m,this.n);this.s=function(Rt){for(var Pt=[];Rt-- >0;)Pt.push(0);return Pt}(Math.min(this.m+1,this.n)),this.U=function(Rt){var Pt=function zt(Ht){if(Ht.length==0)return 0;for(var Vt=[],Ut=0;Ut<Ht[0];Ut++)Vt.push(zt(Ht.slice(1)));return Vt};return Pt(Rt)}([this.m,n]),this.V=function(Rt){var Pt=function zt(Ht){if(Ht.length==0)return 0;for(var Vt=[],Ut=0;Ut<Ht[0];Ut++)Vt.push(zt(Ht.slice(1)));return Vt};return Pt(Rt)}([this.n,this.n]);for(var t=function(Rt){for(var Pt=[];Rt-- >0;)Pt.push(0);return Pt}(this.n),o=function(Rt){for(var Pt=[];Rt-- >0;)Pt.push(0);return Pt}(this.m),d=!0,r=!0,g=Math.min(this.m-1,this.n),e=Math.max(0,Math.min(this.n-2,this.m)),i=0;i<Math.max(g,e);i++){if(i<g){this.s[i]=0;for(var h=i;h<this.m;h++)this.s[i]=p.hypot(this.s[i],s[h][i]);if(this.s[i]!==0){s[i][i]<0&&(this.s[i]=-this.s[i]);for(var u=i;u<this.m;u++)s[u][i]/=this.s[i];s[i][i]+=1}this.s[i]=-this.s[i]}for(var c=i+1;c<this.n;c++){if(function(Rt,Pt){return Rt&&Pt}(i<g,this.s[i]!==0)){for(var E=0,l=i;l<this.m;l++)E+=s[l][i]*s[l][c];E=-E/s[i][i];for(var L=i;L<this.m;L++)s[L][c]+=E*s[L][i]}t[c]=s[i][c]}if(function(Rt,Pt){return Rt&&Pt}(d,i<g))for(var T=i;T<this.m;T++)this.U[T][i]=s[T][i];if(i<e){t[i]=0;for(var N=i+1;N<this.n;N++)t[i]=p.hypot(t[i],t[N]);if(t[i]!==0){t[i+1]<0&&(t[i]=-t[i]);for(var D=i+1;D<this.n;D++)t[D]/=t[i];t[i+1]+=1}if(t[i]=-t[i],function(Rt,Pt){return Rt&&Pt}(i+1<this.m,t[i]!==0)){for(var tt=i+1;tt<this.m;tt++)o[tt]=0;for(var S=i+1;S<this.n;S++)for(var ot=i+1;ot<this.m;ot++)o[ot]+=t[S]*s[ot][S];for(var mt=i+1;mt<this.n;mt++)for(var vt=-t[mt]/t[i+1],Dt=i+1;Dt<this.m;Dt++)s[Dt][mt]+=vt*o[Dt]}if(r)for(var G=i+1;G<this.n;G++)this.V[G][i]=t[G]}}var Q=Math.min(this.n,this.m+1);if(g<this.n&&(this.s[g]=s[g][g]),this.m<Q&&(this.s[Q-1]=0),e+1<Q&&(t[e]=s[e][Q-1]),t[Q-1]=0,d){for(var a=g;a<n;a++){for(var m=0;m<this.m;m++)this.U[m][a]=0;this.U[a][a]=1}for(var f=g-1;f>=0;f--)if(this.s[f]!==0){for(var y=f+1;y<n;y++){for(var v=0,I=f;I<this.m;I++)v+=this.U[I][f]*this.U[I][y];v=-v/this.U[f][f];for(var M=f;M<this.m;M++)this.U[M][y]+=v*this.U[M][f]}for(var W=f;W<this.m;W++)this.U[W][f]=-this.U[W][f];this.U[f][f]=1+this.U[f][f];for(var H=0;H<f-1;H++)this.U[H][f]=0}else{for(var Y=0;Y<this.m;Y++)this.U[Y][f]=0;this.U[f][f]=1}}if(r)for(var j=this.n-1;j>=0;j--){if(function(Rt,Pt){return Rt&&Pt}(j<e,t[j]!==0))for(var ft=j+1;ft<n;ft++){for(var V=0,ct=j+1;ct<this.n;ct++)V+=this.V[ct][j]*this.V[ct][ft];V=-V/this.V[j+1][j];for(var q=j+1;q<this.n;q++)this.V[q][ft]+=V*this.V[q][j]}for(var A=0;A<this.n;A++)this.V[A][j]=0;this.V[j][j]=1}for(var z=Q-1,K=0,ht=Math.pow(2,-52),wt=Math.pow(2,-966);Q>0;){var at=void 0,Gt=void 0;for(at=Q-2;at>=-1&&at!==-1;at--)if(Math.abs(t[at])<=wt+ht*(Math.abs(this.s[at])+Math.abs(this.s[at+1]))){t[at]=0;break}if(at===Q-2)Gt=4;else{var xt=void 0;for(xt=Q-1;xt>=at&&xt!==at;xt--){var F=(xt!==Q?Math.abs(t[xt]):0)+(xt!==at+1?Math.abs(t[xt-1]):0);if(Math.abs(this.s[xt])<=wt+ht*F){this.s[xt]=0;break}}xt===at?Gt=3:xt===Q-1?Gt=1:(Gt=2,at=xt)}switch(at++,Gt){case 1:{var w=t[Q-2];t[Q-2]=0;for(var C=Q-2;C>=at;C--){var O=p.hypot(this.s[C],w),B=this.s[C]/O,rt=w/O;if(this.s[C]=O,C!==at&&(w=-rt*t[C-1],t[C-1]=B*t[C-1]),r)for(var lt=0;lt<this.n;lt++)O=B*this.V[lt][C]+rt*this.V[lt][Q-1],this.V[lt][Q-1]=-rt*this.V[lt][C]+B*this.V[lt][Q-1],this.V[lt][C]=O}}break;case 2:{var _=t[at-1];t[at-1]=0;for(var et=at;et<Q;et++){var $=p.hypot(this.s[et],_),it=this.s[et]/$,Ct=_/$;if(this.s[et]=$,_=-Ct*t[et],t[et]=it*t[et],d)for(var dt=0;dt<this.m;dt++)$=it*this.U[dt][et]+Ct*this.U[dt][at-1],this.U[dt][at-1]=-Ct*this.U[dt][et]+it*this.U[dt][at-1],this.U[dt][et]=$}}break;case 3:{var pt=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[Q-1]),Math.abs(this.s[Q-2])),Math.abs(t[Q-2])),Math.abs(this.s[at])),Math.abs(t[at])),yt=this.s[Q-1]/pt,x=this.s[Q-2]/pt,P=t[Q-2]/pt,b=this.s[at]/pt,X=t[at]/pt,U=((x+yt)*(x-yt)+P*P)/2,k=yt*P*(yt*P),ut=0;(function(Rt,Pt){return Rt||Pt})(U!==0,k!==0)&&(ut=Math.sqrt(U*U+k),U<0&&(ut=-ut),ut=k/(U+ut));for(var st=(b+yt)*(b-yt)+ut,J=b*X,Z=at;Z<Q-1;Z++){var Tt=p.hypot(st,J),Ot=st/Tt,At=J/Tt;if(Z!==at&&(t[Z-1]=Tt),st=Ot*this.s[Z]+At*t[Z],t[Z]=Ot*t[Z]-At*this.s[Z],J=At*this.s[Z+1],this.s[Z+1]=Ot*this.s[Z+1],r)for(var Ft=0;Ft<this.n;Ft++)Tt=Ot*this.V[Ft][Z]+At*this.V[Ft][Z+1],this.V[Ft][Z+1]=-At*this.V[Ft][Z]+Ot*this.V[Ft][Z+1],this.V[Ft][Z]=Tt;if(Tt=p.hypot(st,J),Ot=st/Tt,At=J/Tt,this.s[Z]=Tt,st=Ot*t[Z]+At*this.s[Z+1],this.s[Z+1]=-At*t[Z]+Ot*this.s[Z+1],J=At*t[Z+1],t[Z+1]=Ot*t[Z+1],d&&Z<this.m-1)for(var Nt=0;Nt<this.m;Nt++)Tt=Ot*this.U[Nt][Z]+At*this.U[Nt][Z+1],this.U[Nt][Z+1]=-At*this.U[Nt][Z]+Ot*this.U[Nt][Z+1],this.U[Nt][Z]=Tt}t[Q-2]=st,K=K+1}break;case 4:{if(this.s[at]<=0&&(this.s[at]=this.s[at]<0?-this.s[at]:0,r))for(var Et=0;Et<=z;Et++)this.V[Et][at]=-this.V[Et][at];for(;at<z&&!(this.s[at]>=this.s[at+1]);){var It=this.s[at];if(this.s[at]=this.s[at+1],this.s[at+1]=It,r&&at<this.n-1)for(var Lt=0;Lt<this.n;Lt++)It=this.V[Lt][at+1],this.V[Lt][at+1]=this.V[Lt][at],this.V[Lt][at]=It;if(d&&at<this.m-1)for(var Mt=0;Mt<this.m;Mt++)It=this.U[Mt][at+1],this.U[Mt][at+1]=this.U[Mt][at],this.U[Mt][at]=It;at++}K=0,Q--}break}}var Yt={U:this.U,V:this.V,S:this.s};return Yt},p.hypot=function(s,n){var t=void 0;return Math.abs(s)>Math.abs(n)?(t=n/s,t=Math.abs(s)*Math.sqrt(1+t*t)):n!=0?(t=s/n,t=Math.abs(n)*Math.sqrt(1+t*t)):t=0,t},nt.exports=p},function(nt,gt,R){"use strict";var p=function(){function t(o,d){for(var r=0;r<d.length;r++){var g=d[r];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(o,g.key,g)}}return function(o,d,r){return d&&t(o.prototype,d),r&&t(o,r),o}}();function s(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(o,d){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,t),this.sequence1=o,this.sequence2=d,this.match_score=r,this.mismatch_penalty=g,this.gap_penalty=e,this.iMax=o.length+1,this.jMax=d.length+1,this.grid=new Array(this.iMax);for(var i=0;i<this.iMax;i++){this.grid[i]=new Array(this.jMax);for(var h=0;h<this.jMax;h++)this.grid[i][h]=0}this.tracebackGrid=new Array(this.iMax);for(var u=0;u<this.iMax;u++){this.tracebackGrid[u]=new Array(this.jMax);for(var c=0;c<this.jMax;c++)this.tracebackGrid[u][c]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return p(t,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var d=1;d<this.jMax;d++)this.grid[0][d]=this.grid[0][d-1]+this.gap_penalty,this.tracebackGrid[0][d]=[!1,!1,!0];for(var r=1;r<this.iMax;r++)this.grid[r][0]=this.grid[r-1][0]+this.gap_penalty,this.tracebackGrid[r][0]=[!1,!0,!1];for(var g=1;g<this.iMax;g++)for(var e=1;e<this.jMax;e++){var i=void 0;this.sequence1[g-1]===this.sequence2[e-1]?i=this.grid[g-1][e-1]+this.match_score:i=this.grid[g-1][e-1]+this.mismatch_penalty;var h=this.grid[g-1][e]+this.gap_penalty,u=this.grid[g][e-1]+this.gap_penalty,c=[i,h,u],E=this.arrayAllMaxIndexes(c);this.grid[g][e]=c[E[0]],this.tracebackGrid[g][e]=[E.includes(0),E.includes(1),E.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var d=[];for(d.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});d[0];){var r=d[0],g=this.tracebackGrid[r.pos[0]][r.pos[1]];g[0]&&d.push({pos:[r.pos[0]-1,r.pos[1]-1],seq1:this.sequence1[r.pos[0]-1]+r.seq1,seq2:this.sequence2[r.pos[1]-1]+r.seq2}),g[1]&&d.push({pos:[r.pos[0]-1,r.pos[1]],seq1:this.sequence1[r.pos[0]-1]+r.seq1,seq2:"-"+r.seq2}),g[2]&&d.push({pos:[r.pos[0],r.pos[1]-1],seq1:"-"+r.seq1,seq2:this.sequence2[r.pos[1]-1]+r.seq2}),r.pos[0]===0&&r.pos[1]===0&&this.alignments.push({sequence1:r.seq1,sequence2:r.seq2}),d.shift()}return this.alignments}},{key:"getAllIndexes",value:function(d,r){for(var g=[],e=-1;(e=d.indexOf(r,e+1))!==-1;)g.push(e);return g}},{key:"arrayAllMaxIndexes",value:function(d){return this.getAllIndexes(d,Math.max.apply(null,d))}}]),t}();nt.exports=n},function(nt,gt,R){"use strict";var p=function(){};p.FDLayout=R(18),p.FDLayoutConstants=R(4),p.FDLayoutEdge=R(19),p.FDLayoutNode=R(20),p.DimensionD=R(21),p.HashMap=R(22),p.HashSet=R(23),p.IGeometry=R(8),p.IMath=R(9),p.Integer=R(10),p.Point=R(12),p.PointD=R(5),p.RandomSeed=R(16),p.RectangleD=R(13),p.Transform=R(17),p.UniqueIDGeneretor=R(14),p.Quicksort=R(25),p.LinkedList=R(11),p.LGraphObject=R(2),p.LGraph=R(6),p.LEdge=R(1),p.LGraphManager=R(7),p.LNode=R(3),p.Layout=R(15),p.LayoutConstants=R(0),p.NeedlemanWunsch=R(27),p.Matrix=R(24),p.SVD=R(26),nt.exports=p},function(nt,gt,R){"use strict";function p(){this.listeners=[]}var s=p.prototype;s.addListener=function(n,t){this.listeners.push({event:n,callback:t})},s.removeListener=function(n,t){for(var o=this.listeners.length;o>=0;o--){var d=this.listeners[o];d.event===n&&d.callback===t&&this.listeners.splice(o,1)}},s.emit=function(n,t){for(var o=0;o<this.listeners.length;o++){var d=this.listeners[o];n===d.event&&d.callback(t)}},nt.exports=p}])})},35380:function(Xt,nt,gt){"use strict";var xt;gt.d(nt,{diagram:function(){return Gt}});var R=gt(92459),p=gt(89389),s=gt(80999),n=gt(91840),t=gt(70482),o=gt(12491),d=gt(1387),r=gt(44867),g=gt(90166),e={L:"left",R:"right",T:"top",B:"bottom"},i={L:(0,t.eW)(F=>`${F},${F/2} 0,${F} 0,0`,"L"),R:(0,t.eW)(F=>`0,${F/2} ${F},0 ${F},${F}`,"R"),T:(0,t.eW)(F=>`0,0 ${F},0 ${F/2},${F}`,"T"),B:(0,t.eW)(F=>`${F/2},0 ${F},${F} 0,${F}`,"B")},h={L:(0,t.eW)((F,w)=>F-w+2,"L"),R:(0,t.eW)((F,w)=>F-2,"R"),T:(0,t.eW)((F,w)=>F-w+2,"T"),B:(0,t.eW)((F,w)=>F-2,"B")},u=(0,t.eW)(function(F){return E(F)?F==="L"?"R":"L":F==="T"?"B":"T"},"getOppositeArchitectureDirection"),c=(0,t.eW)(function(F){const w=F;return w==="L"||w==="R"||w==="T"||w==="B"},"isArchitectureDirection"),E=(0,t.eW)(function(F){const w=F;return w==="L"||w==="R"},"isArchitectureDirectionX"),l=(0,t.eW)(function(F){const w=F;return w==="T"||w==="B"},"isArchitectureDirectionY"),L=(0,t.eW)(function(F,w){const C=E(F)&&l(w),O=l(F)&&E(w);return C||O},"isArchitectureDirectionXY"),T=(0,t.eW)(function(F){const w=F[0],C=F[1],O=E(w)&&l(C),B=l(w)&&E(C);return O||B},"isArchitecturePairXY"),N=(0,t.eW)(function(F){return F!=="LL"&&F!=="RR"&&F!=="TT"&&F!=="BB"},"isValidArchitectureDirectionPair"),D=(0,t.eW)(function(F,w){const C=`${F}${w}`;return N(C)?C:void 0},"getArchitectureDirectionPair"),tt=(0,t.eW)(function([F,w],C){const O=C[0],B=C[1];return E(O)?l(B)?[F+(O==="L"?-1:1),w+(B==="T"?1:-1)]:[F+(O==="L"?-1:1),w]:E(B)?[F+(B==="L"?1:-1),w+(O==="T"?1:-1)]:[F,w+(O==="T"?1:-1)]},"shiftPositionByArchitectureDirectionPair"),S=(0,t.eW)(function(F){return F==="LT"||F==="TL"?[1,1]:F==="BL"||F==="LB"?[1,-1]:F==="BR"||F==="RB"?[-1,-1]:[-1,1]},"getArchitectureDirectionXYFactors"),ot=(0,t.eW)(function(F,w){return L(F,w)?"bend":E(F)?"horizontal":"vertical"},"getArchitectureDirectionAlignment"),mt=(0,t.eW)(function(F){return F.type==="service"},"isArchitectureService"),vt=(0,t.eW)(function(F){return F.type==="junction"},"isArchitectureJunction"),Dt=(0,t.eW)(F=>F.data(),"edgeData"),G=(0,t.eW)(F=>F.data(),"nodeData"),Q=t.vZ.architecture,a=(xt=class{constructor(){this.nodes={},this.groups={},this.edges=[],this.registeredIds={},this.elements={},this.setAccTitle=t.GN,this.getAccTitle=t.eu,this.setDiagramTitle=t.g2,this.getDiagramTitle=t.Kr,this.getAccDescription=t.Mx,this.setAccDescription=t.U$,this.clear()}clear(){this.nodes={},this.groups={},this.edges=[],this.registeredIds={},this.dataStructures=void 0,this.elements={},(0,t.ZH)()}addService({id:w,icon:C,in:O,title:B,iconText:rt}){if(this.registeredIds[w]!==void 0)throw new Error(`The service id [${w}] is already in use by another ${this.registeredIds[w]}`);if(O!==void 0){if(w===O)throw new Error(`The service [${w}] cannot be placed within itself`);if(this.registeredIds[O]===void 0)throw new Error(`The service [${w}]'s parent does not exist. Please make sure the parent is created before this service`);if(this.registeredIds[O]==="node")throw new Error(`The service [${w}]'s parent is not a group`)}this.registeredIds[w]="node",this.nodes[w]={id:w,type:"service",icon:C,iconText:rt,title:B,edges:[],in:O}}getServices(){return Object.values(this.nodes).filter(mt)}addJunction({id:w,in:C}){this.registeredIds[w]="node",this.nodes[w]={id:w,type:"junction",edges:[],in:C}}getJunctions(){return Object.values(this.nodes).filter(vt)}getNodes(){return Object.values(this.nodes)}getNode(w){var C;return(C=this.nodes[w])!=null?C:null}addGroup({id:w,icon:C,in:O,title:B}){var rt,lt,_;if(((rt=this.registeredIds)==null?void 0:rt[w])!==void 0)throw new Error(`The group id [${w}] is already in use by another ${this.registeredIds[w]}`);if(O!==void 0){if(w===O)throw new Error(`The group [${w}] cannot be placed within itself`);if(((lt=this.registeredIds)==null?void 0:lt[O])===void 0)throw new Error(`The group [${w}]'s parent does not exist. Please make sure the parent is created before this group`);if(((_=this.registeredIds)==null?void 0:_[O])==="node")throw new Error(`The group [${w}]'s parent is not a group`)}this.registeredIds[w]="group",this.groups[w]={id:w,icon:C,title:B,in:O}}getGroups(){return Object.values(this.groups)}addEdge({lhsId:w,rhsId:C,lhsDir:O,rhsDir:B,lhsInto:rt,rhsInto:lt,lhsGroup:_,rhsGroup:et,title:$}){if(!c(O))throw new Error(`Invalid direction given for left hand side of edge ${w}--${C}. Expected (L,R,T,B) got ${String(O)}`);if(!c(B))throw new Error(`Invalid direction given for right hand side of edge ${w}--${C}. Expected (L,R,T,B) got ${String(B)}`);if(this.nodes[w]===void 0&&this.groups[w]===void 0)throw new Error(`The left-hand id [${w}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(this.nodes[C]===void 0&&this.groups[C]===void 0)throw new Error(`The right-hand id [${C}] does not yet exist. Please create the service/group before declaring an edge to it.`);const it=this.nodes[w].in,Ct=this.nodes[C].in;if(_&&it&&Ct&&it==Ct)throw new Error(`The left-hand id [${w}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(et&&it&&Ct&&it==Ct)throw new Error(`The right-hand id [${C}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);const dt={lhsId:w,lhsDir:O,lhsInto:rt,lhsGroup:_,rhsId:C,rhsDir:B,rhsInto:lt,rhsGroup:et,title:$};this.edges.push(dt),this.nodes[w]&&this.nodes[C]&&(this.nodes[w].edges.push(this.edges[this.edges.length-1]),this.nodes[C].edges.push(this.edges[this.edges.length-1]))}getEdges(){return this.edges}getDataStructures(){if(this.dataStructures===void 0){const w={},C=Object.entries(this.nodes).reduce((et,[$,it])=>(et[$]=it.edges.reduce((Ct,dt)=>{var x,P,b,X;const pt=(x=this.getNode(dt.lhsId))==null?void 0:x.in,yt=(P=this.getNode(dt.rhsId))==null?void 0:P.in;if(pt&&yt&&pt!==yt){const U=ot(dt.lhsDir,dt.rhsDir);U!=="bend"&&((b=w[pt])!=null||(w[pt]={}),w[pt][yt]=U,(X=w[yt])!=null||(w[yt]={}),w[yt][pt]=U)}if(dt.lhsId===$){const U=D(dt.lhsDir,dt.rhsDir);U&&(Ct[U]=dt.rhsId)}else{const U=D(dt.rhsDir,dt.lhsDir);U&&(Ct[U]=dt.lhsId)}return Ct},{}),et),{}),O=Object.keys(C)[0],B={[O]:1},rt=Object.keys(C).reduce((et,$)=>$===O?et:ie(ee({},et),{[$]:1}),{}),lt=(0,t.eW)(et=>{const $={[et]:[0,0]},it=[et];for(;it.length>0;){const Ct=it.shift();if(Ct){B[Ct]=1,delete rt[Ct];const dt=C[Ct],[pt,yt]=$[Ct];Object.entries(dt).forEach(([x,P])=>{B[P]||($[P]=tt([pt,yt],x),it.push(P))})}}return $},"BFS"),_=[lt(O)];for(;Object.keys(rt).length>0;)_.push(lt(Object.keys(rt)[0]));this.dataStructures={adjList:C,spatialMaps:_,groupAlignments:w}}return this.dataStructures}setElementForId(w,C){this.elements[w]=C}getElementById(w){return this.elements[w]}getConfig(){return(0,s.Rb)(ee(ee({},Q),(0,t.iE)().architecture))}getConfigField(w){return this.getConfig()[w]}},(0,t.eW)(xt,"ArchitectureDB"),xt),m=(0,t.eW)((F,w)=>{(0,p.A)(F,w),F.groups.map(C=>w.addGroup(C)),F.services.map(C=>w.addService(ie(ee({},C),{type:"service"}))),F.junctions.map(C=>w.addJunction(ie(ee({},C),{type:"junction"}))),F.edges.map(C=>w.addEdge(C))},"populateDb"),f={parser:{yy:void 0},parse:(0,t.eW)(F=>kt(this,null,function*(){var O;const w=yield(0,o.Qc)("architecture",F);t.cM.debug(w);const C=(O=f.parser)==null?void 0:O.yy;if(!(C instanceof a))throw new Error("parser.parser?.yy was not a ArchitectureDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");m(w,C)}),"parse")},y=(0,t.eW)(F=>`
  .edge {
    stroke-width: ${F.archEdgeWidth};
    stroke: ${F.archEdgeColor};
    fill: none;
  }

  .arrow {
    fill: ${F.archEdgeArrowColor};
  }

  .node-bkg {
    fill: none;
    stroke: ${F.archGroupBorderColor};
    stroke-width: ${F.archGroupBorderWidth};
    stroke-dasharray: 8;
  }
  .node-icon-text {
    display: flex; 
    align-items: center;
  }
  
  .node-icon-text > div {
    color: #fff;
    margin: 1px;
    height: fit-content;
    text-align: center;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
  }
`,"getStyles"),v=y,I=(0,t.eW)(F=>`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${F}</g>`,"wrapIcon"),M={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:I('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:I('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:I('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:I('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:I('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:R.cN,blank:{body:I("")}}},W=(0,t.eW)(function(F,w,C){return kt(this,null,function*(){const O=C.getConfigField("padding"),B=C.getConfigField("iconSize"),rt=B/2,lt=B/6,_=lt/2;yield Promise.all(w.edges().map(et=>kt(this,null,function*(){var Tt,Ot;const{source:$,sourceDir:it,sourceArrow:Ct,sourceGroup:dt,target:pt,targetDir:yt,targetArrow:x,targetGroup:P,label:b}=Dt(et);let{x:X,y:U}=et[0].sourceEndpoint();const{x:k,y:ut}=et[0].midpoint();let{x:st,y:J}=et[0].targetEndpoint();const Z=O+4;if(dt&&(E(it)?X+=it==="L"?-Z:Z:U+=it==="T"?-Z:Z+18),P&&(E(yt)?st+=yt==="L"?-Z:Z:J+=yt==="T"?-Z:Z+18),!dt&&((Tt=C.getNode($))==null?void 0:Tt.type)==="junction"&&(E(it)?X+=it==="L"?rt:-rt:U+=it==="T"?rt:-rt),!P&&((Ot=C.getNode(pt))==null?void 0:Ot.type)==="junction"&&(E(yt)?st+=yt==="L"?rt:-rt:J+=yt==="T"?rt:-rt),et[0]._private.rscratch){const At=F.insert("g");if(At.insert("path").attr("d",`M ${X},${U} L ${k},${ut} L${st},${J} `).attr("class","edge"),Ct){const Ft=E(it)?h[it](X,lt):X-_,Nt=l(it)?h[it](U,lt):U-_;At.insert("polygon").attr("points",i[it](lt)).attr("transform",`translate(${Ft},${Nt})`).attr("class","arrow")}if(x){const Ft=E(yt)?h[yt](st,lt):st-_,Nt=l(yt)?h[yt](J,lt):J-_;At.insert("polygon").attr("points",i[yt](lt)).attr("transform",`translate(${Ft},${Nt})`).attr("class","arrow")}if(b){const Ft=L(it,yt)?"XY":E(it)?"X":"Y";let Nt=0;Ft==="X"?Nt=Math.abs(X-st):Ft==="Y"?Nt=Math.abs(U-J)/1.5:Nt=Math.abs(X-st)/2;const Et=At.append("g");if(yield(0,R.rw)(Et,b,{useHtmlLabels:!1,width:Nt,classes:"architecture-service-label"},(0,t.nV)()),Et.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),Ft==="X")Et.attr("transform","translate("+k+", "+ut+")");else if(Ft==="Y")Et.attr("transform","translate("+k+", "+ut+") rotate(-90)");else if(Ft==="XY"){const It=D(it,yt);if(It&&T(It)){const Lt=Et.node().getBoundingClientRect(),[Mt,Yt]=S(It);Et.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*Mt*Yt*45})`);const Rt=Et.node().getBoundingClientRect();Et.attr("transform",`
                translate(${k}, ${ut-Lt.height/2})
                translate(${Mt*Rt.width/2}, ${Yt*Rt.height/2})
                rotate(${-1*Mt*Yt*45}, 0, ${Lt.height/2})
              `)}}}}})))})},"drawEdges"),H=(0,t.eW)(function(F,w,C){return kt(this,null,function*(){const B=C.getConfigField("padding")*.75,rt=C.getConfigField("fontSize"),_=C.getConfigField("iconSize")/2;yield Promise.all(w.nodes().map(et=>kt(this,null,function*(){const $=G(et);if($.type==="group"){const{h:it,w:Ct,x1:dt,y1:pt}=et.boundingBox();F.append("rect").attr("x",dt+_).attr("y",pt+_).attr("width",Ct).attr("height",it).attr("class","node-bkg");const yt=F.append("g");let x=dt,P=pt;if($.icon){const b=yt.append("g");b.html(`<g>${yield(0,R.s4)($.icon,{height:B,width:B,fallbackPrefix:M.prefix})}</g>`),b.attr("transform","translate("+(x+_+1)+", "+(P+_+1)+")"),x+=B,P+=rt/2-1-2}if($.label){const b=yt.append("g");yield(0,R.rw)(b,$.label,{useHtmlLabels:!1,width:Ct,classes:"architecture-service-label"},(0,t.nV)()),b.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),b.attr("transform","translate("+(x+_+4)+", "+(P+_+2)+")")}}})))})},"drawGroups"),Y=(0,t.eW)(function(F,w,C){return kt(this,null,function*(){var B;const O=(0,t.nV)();for(const rt of C){const lt=w.append("g"),_=F.getConfigField("iconSize");if(rt.title){const Ct=lt.append("g");yield(0,R.rw)(Ct,rt.title,{useHtmlLabels:!1,width:_*1.5,classes:"architecture-service-label"},O),Ct.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),Ct.attr("transform","translate("+_/2+", "+_+")")}const et=lt.append("g");if(rt.icon)et.html(`<g>${yield(0,R.s4)(rt.icon,{height:_,width:_,fallbackPrefix:M.prefix})}</g>`);else if(rt.iconText){et.html(`<g>${yield(0,R.s4)("blank",{height:_,width:_,fallbackPrefix:M.prefix})}</g>`);const pt=et.append("g").append("foreignObject").attr("width",_).attr("height",_).append("div").attr("class","node-icon-text").attr("style",`height: ${_}px;`).append("div").html((0,t.oO)(rt.iconText,O)),yt=(B=parseInt(window.getComputedStyle(pt.node(),null).getPropertyValue("font-size").replace(/\D/g,"")))!=null?B:16;pt.attr("style",`-webkit-line-clamp: ${Math.floor((_-2)/yt)};`)}else et.append("path").attr("class","node-bkg").attr("id","node-"+rt.id).attr("d",`M0 ${_} v${-_} q0,-5 5,-5 h${_} q5,0 5,5 v${_} H0 Z`);lt.attr("class","architecture-service");const{width:$,height:it}=lt._groups[0][0].getBBox();rt.width=$,rt.height=it,F.setElementForId(rt.id,lt)}return 0})},"drawServices"),j=(0,t.eW)(function(F,w,C){C.forEach(O=>{const B=w.append("g"),rt=F.getConfigField("iconSize");B.append("g").append("rect").attr("id","node-"+O.id).attr("fill-opacity","0").attr("width",rt).attr("height",rt),B.attr("class","architecture-junction");const{width:_,height:et}=B._groups[0][0].getBBox();B.width=_,B.height=et,F.setElementForId(O.id,B)})},"drawJunctions");(0,R.ef)([{name:M.prefix,icons:M}]),d.Z.use(r);function ft(F,w,C){F.forEach(O=>{w.add({group:"nodes",data:{type:"service",id:O.id,icon:O.icon,label:O.title,parent:O.in,width:C.getConfigField("iconSize"),height:C.getConfigField("iconSize")},classes:"node-service"})})}(0,t.eW)(ft,"addServices");function V(F,w,C){F.forEach(O=>{w.add({group:"nodes",data:{type:"junction",id:O.id,parent:O.in,width:C.getConfigField("iconSize"),height:C.getConfigField("iconSize")},classes:"node-junction"})})}(0,t.eW)(V,"addJunctions");function ct(F,w){w.nodes().map(C=>{const O=G(C);if(O.type==="group")return;O.x=C.position().x,O.y=C.position().y,F.getElementById(O.id).attr("transform","translate("+(O.x||0)+","+(O.y||0)+")")})}(0,t.eW)(ct,"positionNodes");function q(F,w){F.forEach(C=>{w.add({group:"nodes",data:{type:"group",id:C.id,icon:C.icon,label:C.title,parent:C.in},classes:"node-group"})})}(0,t.eW)(q,"addGroups");function A(F,w){F.forEach(C=>{const{lhsId:O,rhsId:B,lhsInto:rt,lhsGroup:lt,rhsInto:_,lhsDir:et,rhsDir:$,rhsGroup:it,title:Ct}=C,dt=L(C.lhsDir,C.rhsDir)?"segments":"straight",pt={id:`${O}-${B}`,label:Ct,source:O,sourceDir:et,sourceArrow:rt,sourceGroup:lt,sourceEndpoint:et==="L"?"0 50%":et==="R"?"100% 50%":et==="T"?"50% 0":"50% 100%",target:B,targetDir:$,targetArrow:_,targetGroup:it,targetEndpoint:$==="L"?"0 50%":$==="R"?"100% 50%":$==="T"?"50% 0":"50% 100%"};w.add({group:"edges",data:pt,classes:dt})})}(0,t.eW)(A,"addEdges");function z(F,w,C){const O=(0,t.eW)((_,et)=>Object.entries(_).reduce(($,[it,Ct])=>{var yt,x,P;let dt=0;const pt=Object.entries(Ct);if(pt.length===1)return $[it]=pt[0][1],$;for(let b=0;b<pt.length-1;b++)for(let X=b+1;X<pt.length;X++){const[U,k]=pt[b],[ut,st]=pt[X];if(((yt=C[U])==null?void 0:yt[ut])===et)(x=$[it])!=null||($[it]=[]),$[it]=[...$[it],...k,...st];else if(U==="default"||ut==="default")(P=$[it])!=null||($[it]=[]),$[it]=[...$[it],...k,...st];else{const Z=`${it}-${dt++}`;$[Z]=k;const Tt=`${it}-${dt++}`;$[Tt]=st}}return $},{}),"flattenAlignments"),B=w.map(_=>{const et={},$={};return Object.entries(_).forEach(([it,[Ct,dt]])=>{var yt,x,P,b,X,U,k,ut;const pt=(x=(yt=F.getNode(it))==null?void 0:yt.in)!=null?x:"default";(P=et[dt])!=null||(et[dt]={}),(X=(b=et[dt])[pt])!=null||(b[pt]=[]),et[dt][pt].push(it),(U=$[Ct])!=null||($[Ct]={}),(ut=(k=$[Ct])[pt])!=null||(k[pt]=[]),$[Ct][pt].push(it)}),{horiz:Object.values(O(et,"horizontal")).filter(it=>it.length>1),vert:Object.values(O($,"vertical")).filter(it=>it.length>1)}}),[rt,lt]=B.reduce(([_,et],{horiz:$,vert:it})=>[[..._,...$],[...et,...it]],[[],[]]);return{horizontal:rt,vertical:lt}}(0,t.eW)(z,"getAlignments");function K(F,w){const C=[],O=(0,t.eW)(rt=>`${rt[0]},${rt[1]}`,"posToStr"),B=(0,t.eW)(rt=>rt.split(",").map(lt=>parseInt(lt)),"strToPos");return F.forEach(rt=>{const lt=Object.fromEntries(Object.entries(rt).map(([it,Ct])=>[O(Ct),it])),_=[O([0,0])],et={},$={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};for(;_.length>0;){const it=_.shift();if(it){et[it]=1;const Ct=lt[it];if(Ct){const dt=B(it);Object.entries($).forEach(([pt,yt])=>{const x=O([dt[0]+yt[0],dt[1]+yt[1]]),P=lt[x];P&&!et[x]&&(_.push(x),C.push({[e[pt]]:P,[e[u(pt)]]:Ct,gap:1.5*w.getConfigField("iconSize")}))})}}}}),C}(0,t.eW)(K,"getRelativeConstraints");function ht(F,w,C,O,B,{spatialMaps:rt,groupAlignments:lt}){return new Promise(_=>{const et=(0,g.Ys)("body").append("div").attr("id","cy").attr("style","display:none"),$=(0,d.Z)({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${B.getConfigField("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${B.getConfigField("padding")}px`}}],layout:{name:"grid",boundingBox:{x1:0,x2:100,y1:0,y2:100}}});et.remove(),q(C,$),ft(F,$,B),V(w,$,B),A(O,$);const it=z(B,rt,lt),Ct=K(rt,B),dt=$.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(pt){const[yt,x]=pt.connectedNodes(),{parent:P}=G(yt),{parent:b}=G(x);return P===b?1.5*B.getConfigField("iconSize"):.5*B.getConfigField("iconSize")},edgeElasticity(pt){const[yt,x]=pt.connectedNodes(),{parent:P}=G(yt),{parent:b}=G(x);return P===b?.45:.001},alignmentConstraint:it,relativePlacementConstraint:Ct});dt.one("layoutstop",()=>{var yt;function pt(x,P,b,X){let U,k;const{x:ut,y:st}=x,{x:J,y:Z}=P;k=(X-st+(ut-b)*(st-Z)/(ut-J))/Math.sqrt(1+Math.pow((st-Z)/(ut-J),2)),U=Math.sqrt(Math.pow(X-st,2)+Math.pow(b-ut,2)-Math.pow(k,2));const Tt=Math.sqrt(Math.pow(J-ut,2)+Math.pow(Z-st,2));U=U/Tt;let Ot=(J-ut)*(X-st)-(Z-st)*(b-ut);switch(!0){case Ot>=0:Ot=1;break;case Ot<0:Ot=-1;break}let At=(J-ut)*(b-ut)+(Z-st)*(X-st);switch(!0){case At>=0:At=1;break;case At<0:At=-1;break}return k=Math.abs(k)*Ot,U=U*At,{distances:k,weights:U}}(0,t.eW)(pt,"getSegmentWeights"),$.startBatch();for(const x of Object.values($.edges()))if((yt=x.data)!=null&&yt.call(x)){const{x:P,y:b}=x.source().position(),{x:X,y:U}=x.target().position();if(P!==X&&b!==U){const k=x.sourceEndpoint(),ut=x.targetEndpoint(),{sourceDir:st}=Dt(x),[J,Z]=l(st)?[k.x,ut.y]:[ut.x,k.y],{weights:Tt,distances:Ot}=pt(k,ut,J,Z);x.style("segment-distances",Ot),x.style("segment-weights",Tt)}}$.endBatch(),dt.run()}),dt.run(),$.ready(pt=>{t.cM.info("Ready",pt),_($)})})}(0,t.eW)(ht,"layoutArchitecture");var wt=(0,t.eW)((F,w,C,O)=>kt(this,null,function*(){const B=O.db,rt=B.getServices(),lt=B.getJunctions(),_=B.getGroups(),et=B.getEdges(),$=B.getDataStructures(),it=(0,n.P)(w),Ct=it.append("g");Ct.attr("class","architecture-edges");const dt=it.append("g");dt.attr("class","architecture-services");const pt=it.append("g");pt.attr("class","architecture-groups"),yield Y(B,dt,rt),j(B,dt,lt);const yt=yield ht(rt,lt,_,et,B,$);yield W(Ct,yt,B),yield H(pt,yt,B),ct(B,yt),(0,t.j7)(void 0,it,B.getConfigField("padding"),B.getConfigField("useMaxWidth"))}),"draw"),at={draw:wt},Gt={parser:f,get db(){return new a},renderer:at,styles:v}},89389:function(Xt,nt,gt){"use strict";gt.d(nt,{A:function(){return p}});var R=gt(70482);function p(s,n){var t,o,d;s.accDescr&&((t=n.setAccDescription)==null||t.call(n,s.accDescr)),s.accTitle&&((o=n.setAccTitle)==null||o.call(n,s.accTitle)),s.title&&((d=n.setDiagramTitle)==null||d.call(n,s.title))}(0,R.eW)(p,"populateCommonDb")}}]);
}());