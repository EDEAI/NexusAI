"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[10],{80459:function(X,U,t){var R=t(32332),N=t(67294),O=t(85893),o=function(_){var m=_.width,P=m===void 0?"40px":m,A=_.bg,T=A===void 0?"#F4F8F1":A,L=_.rounded,v=L===void 0?"6px":L,D=_.data,y=_.imgWidth,b=y===void 0?"18px":y;return D.avatar&&(b=P),(0,O.jsx)("div",{className:"w-[".concat(P,"] h-[").concat(P,"] bg-[").concat(T,"] rounded-[").concat(v,"] relative flex items-center justify-center shrink-0"),children:(0,O.jsx)("img",{src:D.avatar?D.avatar:(0,R.s9)("single",D.icon),className:"w-[".concat(b,"]  h-[").concat(b,"]")})})};U.Z=(0,N.memo)(o)},72406:function(X,U,t){var R=t(58533),N=t(99702),O=t(74330),o=t(85893),k=function(m){var P=m.children,A=m.elid,T=m.dataLength,L=m.ishasMore,v=m.upSlide,D=m.isFooter,y=m.pageNumber,b=y===void 0?2:y;return(0,o.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,o.jsx)(R.Z,{dataLength:T,scrollableTarget:A,next:v,hasMore:L,loader:(0,o.jsx)("div",{className:"flex justify-center h-[60px] items-center",children:b>1?(0,o.jsx)(O.Z,{}):(0,o.jsx)(o.Fragment,{})}),children:P}),D&&(0,o.jsx)("div",{className:"mt-[30px] flex-1 flex ",style:{alignItems:"flex-end"},children:(0,o.jsx)(N.Z,{className:"relative"})})]})};U.Z=k},44010:function(X,U,t){var R=t(15009),N=t.n(R),O=t(19632),o=t.n(O),k=t(97857),_=t.n(k),m=t(99289),P=t.n(m),A=t(9783),T=t.n(A),L=t(5574),v=t.n(L),D=t(72406),y=t(80459),b=t(28508),Y=t(82061),pe=t(35312),F=t(78045),xe=t(26915),fe=t(74330),me=t(71230),he=t(15746),q=t(32983),G=t(28036),x=t(67294),ve=t(42237),ge=t(22352),e=t(85893),Ee=function(C){var z=C.show,je=C.popupClose,Me=C.popupSave,H=C.checkList,ee=C.zIndex,te=ee===void 0?"":ee,ne=C.nodetype,l=ne===void 0?"agent":ne,I=C.radio,f=(0,pe.useIntl)(),h=(0,x.useRef)([]),De=(0,x.useState)([]),ae=v()(De,2),E=ae[0],Z=ae[1],ye=(0,x.useState)(3),se=v()(ye,2),W=se[0],re=se[1],Ie=(0,x.useState)(!0),ce=v()(Ie,2),Pe=ce[0],be=ce[1],Ce=(0,x.useState)([]),_e=v()(Ce,2),j=_e[0],K=_e[1],Ne=(0,x.useState)([]),le=v()(Ne,2),M=le[0],B=le[1],Oe=(0,x.useState)(!0),oe=v()(Oe,2),Ae=oe[0],Te=oe[1],Le=(0,x.useRef)(null),Be=(0,x.useState)(""),ie=v()(Be,2),Se=ie[0],Ue=ie[1],u=(0,x.useRef)({page:1,page_size:999999,search_type:3,apps_name:"",tag_ids:""}),ue=function(a){return h.current.filter(function(r){return r.type==a}).length},de=T()(T()({},"my_".concat(l),ue("my_".concat(l))),"more_".concat(l),ue("more_".concat(l))),$=function(){return W==3?j&&j.length>0?j:[]:M&&M.length>0?M:[]},Re=function(a){re(a.target.value),u.current.search_type=a.target.value,S(u.current,!0)},S=function(){var n=P()(N()().mark(function a(r){var s,i,d,c,p=arguments;return N()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return s=p.length>1&&p[1]!==void 0?p[1]:!1,s&&(u.current.page=1),g.next=4,(0,ve.RE)(l,r);case 4:i=g.sent,(i==null?void 0:i.code)==0&&(d=i.data.list.map(function(Q){return _()(_()({},Q),{},{check:ke(Q,r.search_type)})}),c=function(ze,He){He(s?o()(d):[].concat(o()(ze),o()(d)))},r.search_type==3?(c(j,K),be(i.data.total_pages>u.current.page)):(c(M,B),Te(i.data.total_pages>u.current.page)));case 6:case"end":return g.stop()}},a)}));return function(r){return n.apply(this,arguments)}}(),We=function(a){u.current.apps_name=a.target.value,u.current.page=1,S(u.current,!0)},Ke=function(a,r){var s=a==3;r.type=s?"my_".concat(l):"more_".concat(l),h.current=[r];var i=function(c,p){return c.map(function(w){return _()(_()({},w),{},{check:p(w.app_id)})})};K(function(d){return i(d,function(c){return c==r.app_id&&s})}),B(function(d){return i(d,function(c){return c==r.app_id&&!s})})},we=function(a,r){r.type=a==3?"my_".concat(l):"more_".concat(l);var s=h.current,i=s.find(function(c){return c.app_id==r.app_id});i?s.splice(s.findIndex(function(c){return c.app_id==r.app_id}),1):s.push(r);var d=function(p,w){return p.map(function(g){return _()(_()({},g),{},{check:g.app_id==w?!g.check:g.check})})};a==3?K(function(c){return d(c,r.app_id)}):B(function(c){return d(c,r.app_id)})},ke=function(a,r){var s=h.current;return I&&s.length>1?0:s.some(function(i){return i.app_id==a.app_id})?1:0},V=function(){je(),h.current=[],Z([]),B([]),re(3)},Ze=function(){Me({checkItem:o()(h.current)}),V()},Fe=function(){var a=u.current.search_type==3,r=a?j:M,s=a?"my":"more",i=r.map(function(p){return _()(_()({},p),{},{type:"".concat(s,"_").concat(l)})}),d=h.current.filter(function(p){return p.type!="".concat(s,"_").concat(l)});h.current=[].concat(o()(d),o()(i));var c=r.map(function(p){return _()(_()({},p),{},{check:1})});a?K(function(){return c}):B(function(){return c})};(0,x.useEffect)(function(){z&&(u.current.search_type=3,u.current.apps_name="",H.length&&(h.current=o()(H),Z(o()(H))),S(_()(_()({},u.current),{},{search_type:3}),!0),S(_()(_()({},u.current),{},{search_type:2}),!0))},[z]),(0,x.useEffect)(function(){Z(o()(h.current))},[j,M]);var J=(0,x.useRef)(!1);(0,x.useEffect)(function(){if(h.current.length!==E.length&&J.current){var n=function(i,d){return i.map(function(c){return _()(_()({},c),{},{check:d.some(function(p){return c.app_id===p.app_id})?1:0})})};h.current=o()(E);var a=E.filter(function(s){return s.type==="my_agent"}),r=E.filter(function(s){return s.type==="more_agent"});K(function(s){return n(s,a)}),B(function(s){return n(s,r)}),J.current=!1}},[E]);var Ge=function(a){J.current=!0,Z(function(r){return r.filter(function(s){return a.some(function(i){return s.app_id!=i.app_id})})})};return z?(0,e.jsx)("div",{ref:Le,style:te?{zIndex:te}:{zIndex:30},className:'transition  w-full h-full fixed top-[0] left-[0] bg-[rgba(0,0,0,0.5)] flex items-center justify-center z-30"',children:(0,e.jsx)("div",{className:"w-[980px] h-[646px] bg-[#fff] rounded-[6px] transition",children:(0,e.jsxs)("div",{className:"flex flex-col h-full w-full",children:[(0,e.jsxs)("div",{className:"text-[16px] flex items-center p-[20px]",style:{borderBottom:"1px solid #ebebeb"},children:[(0,e.jsx)("span",{className:"flex-1 text-[14px] font-[500] text-[#213044]",children:f.formatMessage({id:"app.check_".concat(l,"_popup.title")})}),(0,e.jsx)(b.Z,{className:"text-[16px] cursor-pointer",onClick:V})]}),(0,e.jsxs)("div",{className:"flex flex-1 overflow-x-hidden w-full min-w-0",children:[(0,e.jsxs)("div",{className:"pt-[20px] h-full flex-1 min-w-0",children:[(0,e.jsxs)("div",{className:"flex items-center pt-[0] p-[20px]",children:[(0,e.jsxs)("span",{className:"text-[#999]",children:[f.formatMessage({id:"app.check_".concat(l,"_popup.chenck_text")}),"\uFF1A"]}),(0,e.jsxs)("div",{className:"flex items-center gap-x-[12px]",children:[(0,e.jsxs)("span",{className:"text-[#213044] text-[14px]",children:[f.formatMessage({id:"app.check_".concat(l,"_popup.select_1")}),":"," ",de["my_".concat(l)]]}),(0,e.jsxs)("span",{className:"text-[#213044] text-[14px]",children:[f.formatMessage({id:"app.check_".concat(l,"_popup.select_2")}),":"," ",de["more_".concat(l)]]})]})]}),(0,e.jsxs)("div",{className:"flex gap-x-[20px] pt-[0] p-[20px]",children:[(0,e.jsxs)(F.ZP.Group,{onChange:Re,defaultValue:"3",size:"large",children:[(0,e.jsx)(F.ZP.Button,{value:"3",children:(0,e.jsx)("span",{className:"text-[14px]",children:f.formatMessage({id:"app.check_".concat(l,"_popup.select_1")})})}),(0,e.jsx)(F.ZP.Button,{value:"2",children:(0,e.jsx)("span",{className:"text-[14px]",children:f.formatMessage({id:"app.check_".concat(l,"_popup.select_2")})})})]}),(0,e.jsx)(xe.Z,{className:"w-[320px] text-[14px] flex-1",style:{fontSize:"14px !important"},onPressEnter:We,size:"large",placeholder:f.formatMessage({id:"app.check_".concat(l,"_popup.search")}),onChange:function(a){return Ue(a.target.value)},value:Se,prefix:(0,e.jsx)("img",{src:"/icons/search_icon.svg",className:"w-[16px] h-[16px] mr-[10px]"})}),(0,e.jsx)(ge.Z,{allowClear:!0,onChange:function(a){u.current.tag_ids=a?a.join(","):"",u.current.page=1,S(u.current,!0)},showAddButton:!1,size:"large",className:"min-w-[240px] flex-1",listStyle:"horizontal"})]}),(0,e.jsxs)("div",{className:"overflow-y-auto  px-[20px]",id:"agentScroll",style:{height:"calc(100% - 100px)"},children:[j.length||M.length?(0,e.jsx)(e.Fragment,{}):(0,e.jsx)("div",{className:"h-full w-full absolute top-0 left-0 flex justify-center items-center z-[100] bg-[rgba(255,255,255,0.5)]",children:(0,e.jsx)(fe.Z,{size:"large"})}),(0,e.jsx)(D.Z,{dataLength:W==3?j.length:M.length,elid:"agentScroll",ishasMore:W==3?Pe:Ae,upSlide:function(){u.current.page+=1,S(u.current)},children:(0,e.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,e.jsx)(me.Z,{gutter:[15,15],children:$()&&$().length?$().map(function(n,a){return(0,e.jsx)(he.Z,{span:E.length&&!I?8:6,children:(0,e.jsxs)("div",{className:"bg-[#fff] flex gap-x-[20px] p-[10px] cursor-pointer border-solid border-[1px] rounded-[4px] ".concat(n.check?I?"border-[#1b64f3]":"border-gray-100":"border-[#eee]"),onClick:function(){I?Ke(W,n):we(W,n)},children:[(0,e.jsx)(y.Z,{data:n,imgWidth:"20px"}),(0,e.jsxs)("div",{className:"flex flex-col gap-y-[5px] justify-center flex-1 min-w-[0]",children:[(0,e.jsx)("div",{className:"text-[12px] font-[500] w-full truncate ".concat(n.check?I?"text-[#213044]":"text-gray-300":"text-[#213044]"),children:n.name}),(0,e.jsx)("div",{className:"text-[12px] w-full truncate ".concat(n.check?I?"text-[#999]":"text-gray-300":"text-[#999]"),children:n.description})]})]})},n.app_id)}):(0,e.jsx)("div",{className:"w-full h-[380px] flex justify-center items-center",children:(0,e.jsx)(q.Z,{style:{margin:"0px",fontSize:"16px"},imageStyle:{width:"60px",margin:"0 auto",marginBottom:"2px"},description:f.formatMessage({id:"app.dashboard.None"}),image:q.Z.PRESENTED_IMAGE_SIMPLE})})})})})]})]}),!I&&(j.length||M.length)&&E&&E.length?(0,e.jsxs)("div",{className:"h-full flex flex-col",style:{boxShadow:"rgba(0, 0, 0, 0.1) 0px 0px 3px 0px"},children:[(0,e.jsxs)("div",{className:"py-[10px] px-[10px] text-[14px]",children:[f.formatMessage({id:"app.check_popup.add"}),f.formatMessage({id:"app.check_".concat(l,"_popup.name")})]}),(0,e.jsx)("div",{className:"w-[260px]  overflow-y-auto flex-1 min-w-0 min-h-0",children:(0,e.jsx)("div",{className:"flex gap-[6px] p-4 pt-[6px] flex-wrap w-full",children:E.map(function(n){return(0,e.jsxs)("div",{className:"w-full cursor-pointer relative",children:[(0,e.jsx)("div",{className:"flex items-center gap-x-[5px] bg-[#FAFAFA] transition p-[10px] slider_agent_box",children:(0,e.jsxs)("div",{className:"flex gap-x-[15px] flex-1 min-w-[0]",children:[(0,e.jsx)(y.Z,{data:n}),(0,e.jsxs)("div",{className:"flex flex-col gap-y-[5px] justify-center flex-1 min-w-[0]",children:[(0,e.jsx)("span",{className:"text-[#213044] text-[12px] font-[500] truncate w-full",children:n.name}),(0,e.jsx)("span",{className:"text-[#999999] text-[12px] truncate",children:n.description})]})]})}),(0,e.jsx)("div",{className:"text-[#f73131] transition text-[14px] absolute top-[6px] right-[6px]",children:(0,e.jsx)(Y.Z,{})}),(0,e.jsx)("div",{className:"hover:opacity-100 opacity-0 transition absolute w-full h-full flex items-center justify-center top-0 left-0 bg-[rgba(255,255,255,0.8)]",onClick:function(){Ge([n])},children:(0,e.jsx)("div",{className:"text-[#1b64f3] transition text-[24px]",children:(0,e.jsx)(Y.Z,{})})})]},n.app_id)})})})]}):(0,e.jsx)(e.Fragment,{})]}),(0,e.jsxs)("div",{className:"p-[20px] flex gap-x-[20px] justify-end",style:{borderTop:"1px solid #e8e8e8"},children:[I?(0,e.jsx)(e.Fragment,{}):(0,e.jsx)("div",{className:"flex-1",children:(0,e.jsx)(G.ZP,{htmlType:"submit",onClick:Fe,children:f.formatMessage({id:"app.check_popup.check"})})}),(0,e.jsx)(G.ZP,{className:"text-[14px] text-[#213044] w-[88px] h-[40px]",style:{border:"1px solid #D8D8D8"},onClick:V,children:f.formatMessage({id:"app.check_".concat(l,"_popup.cancel")})}),(0,e.jsx)(G.ZP,{type:"primary",className:"bg-[#1B64F3] rounded-[4px] w-[88px] h-[40px]",htmlType:"submit",onClick:Ze,children:f.formatMessage({id:"app.check_".concat(l,"_popup.save")})})]})]})})}):(0,e.jsx)(e.Fragment,{})};U.Z=Ee}}]);
