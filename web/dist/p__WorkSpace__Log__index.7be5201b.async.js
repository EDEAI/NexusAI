"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[735],{36711:function(j,f,e){e.r(f),e.d(f,{waitTime:function(){return C},waitTimePromise:function(){return E}});var v=e(97857),M=e.n(v),P=e(5574),I=e.n(P),T=e(15009),l=e.n(T),b=e(99289),c=e.n(b),D=e(42237),O=e(29608),R=e(32592),w=e(35312),B=e(67294),A=e(85893),E=function(){var s=c()(l()().mark(function _(){var n,r=arguments;return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>0&&r[0]!==void 0?r[0]:100,t.abrupt("return",new Promise(function(g){setTimeout(function(){g(!0)},n)}));case 2:case"end":return t.stop()}},_)}));return function(){return s.apply(this,arguments)}}(),C=function(){var s=c()(l()().mark(function _(){var n,r=arguments;return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>0&&r[0]!==void 0?r[0]:100,t.next=3,E(n);case 3:case"end":return t.stop()}},_)}));return function(){return s.apply(this,arguments)}}();f.default=function(){var s=(0,w.useIntl)(),_=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:s.formatMessage({id:"workflow.toName",defaultMessage:""}),dataIndex:"app_runs_name",ellipsis:!0,fieldProps:{onChange:function(u){var a;o==null||(a=o.current)===null||a===void 0||a.submit()}}},{title:s.formatMessage({id:"workflow.created_time",defaultMessage:""}),dataIndex:"created_time",ellipsis:!0,tooltip:s.formatMessage({id:"workflow.created_time_des",defaultMessage:s.formatMessage({id:"workflow.created_time_des",defaultMessage:""})}),search:!1},{disable:!0,title:s.formatMessage({id:"workflow.status",defaultMessage:""}),dataIndex:"app_runs_status",filters:!0,onFilter:!0,ellipsis:!0,valueType:"select",fieldProps:{onChange:function(u){var a;o==null||(a=o.current)===null||a===void 0||a.submit()}},valueEnum:{1:{text:s.formatMessage({id:"workflow.running",defaultMessage:""}),status:"Processing"},2:{text:s.formatMessage({id:"workflow.runSc",defaultMessage:""}),status:"Success"},3:{text:s.formatMessage({id:"workflow.runF",defaultMessage:""}),status:"Error"}}},{title:"".concat(s.formatMessage({id:"workflow.elapsed_time",defaultMessage:""}),"S"),dataIndex:"elapsed_time",ellipsis:!0,tooltip:s.formatMessage({id:"workflow.run_time"}),search:!1},{title:"Tokens",key:"showTime",dataIndex:"total_tokens",hideInSearch:!0},{title:s.formatMessage({id:"workflow.user"}),dataIndex:"nickname",search:!1,key:"user"}],n=(0,w.useSearchParams)(),r=I()(n,1),p=r[0],t=(0,O.Z)(function(i){return i.setRunPanelLogRecord}),g=p.get("app_id"),o=(0,B.useRef)(null);return(0,A.jsx)(R.Z,{columns:_,formRef:o,form:{submitter:!1},cardBordered:!0,request:function(){var i=c()(l()().mark(function u(a,h,U){var m;return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return console.log(a,h,U),d.next=3,(0,D.bB)(M()(M()({app_runs_name:"",app_runs_status:0},a),{},{app_id:g}));case 3:return m=d.sent,console.log(m),d.abrupt("return",{data:m.data.list,success:!0,total:m.data.total_count});case 6:case"end":return d.stop()}},u)}));return function(u,a,h){return i.apply(this,arguments)}}(),onRow:function(u){return{onClick:function(){console.log("Row clicked:",u),t(u)}}},editable:{type:"multiple"},rowKey:"app_runs_id",search:{labelWidth:"auto"},options:{setting:{listsHeight:600}},pagination:{pageSize:12,showSizeChanger:!1},dateFormatter:"string",headerTitle:s.formatMessage({id:"workflow.workflowLog",defaultMessage:""})})}}}]);
