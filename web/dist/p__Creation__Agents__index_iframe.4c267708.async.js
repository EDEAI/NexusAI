"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[2266],{44685:function(w,f){var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M290 236.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0013.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 000 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 00-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z"}}]},name:"fullscreen",theme:"outlined"};f.Z=e},24266:function(w,f,e){e.r(f);var T=e(97857),m=e.n(T),j=e(15009),u=e.n(j),B=e(99289),g=e.n(B),R=e(5574),d=e.n(R),S=e(11551),b=e(32332),C=e(32060),W=e(45585),p=e(35312),y=e(45360),K=e(74330),i=e(67294),H=e(89310),v=e(85893),N="915279714@qq.com",z="Wc915279714",G=function(){var D=(0,p.useIntl)(),x=(0,i.useState)(null),I=d()(x,2),Z=I[0],$=I[1],F=(0,i.useState)(null),M=d()(F,2),k=M[0],J=M[1],Q=(0,i.useState)(null),L=d()(Q,2),V=L[0],X=L[1],Y=(0,i.useState)(!0),O=d()(Y,2),q=O[0],ee=O[1],ae=(0,i.useState)("".concat(window.innerHeight,"px")),P=d()(ae,2),U=P[0],te=P[1];(0,i.useEffect)(function(){se()},[]),(0,i.useEffect)(function(){var n=function(){te("".concat(window.innerHeight,"px"))};return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}},[]);var se=function(){var n=g()(u()().mark(function r(){return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ne({password:z,username:N});case 2:le(),document.body.style.overflow="hidden";case 4:case"end":return a.stop()}},r)}));return function(){return n.apply(this,arguments)}}(),ne=function(){var n=g()(u()().mark(function r(_){var a,t,o;return u()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,a=_.password,t=_.username,s.next=4,(0,C.x4)({password:a,username:t});case 4:if(o=s.sent,!(o!=null&&o.access_token)){s.next=9;break}return s.next=8,_e();case 8:return s.abrupt("return",!0);case 9:s.next=15;break;case 11:return s.prev=11,s.t0=s.catch(0),console.log(s.t0),s.abrupt("return",!1);case 15:case"end":return s.stop()}},r,null,[[0,11]])}));return function(_){return n.apply(this,arguments)}}(),A=(0,W.ZP)(),re=A.refreshUserInfo,E=A.userInfo,_e=function(){var n=g()(u()().mark(function r(){return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,re();case 2:(0,b.f1)("SET",6,!1,""),setTimeout(function(){(0,p.setLocale)((E==null?void 0:E.language)=="en"?"en-US":"zh-CN")},100);case 4:case"end":return a.stop()}},r)}));return function(){return n.apply(this,arguments)}}(),le=function(){var n=g()(u()().mark(function r(_){var a,t,o,h;return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(a=new URLSearchParams(window.location.search),t=null,!(a.get("app_id")||_)){l.next=8;break}return l.next=5,(0,S.ek)(_||a.get("app_id"),a.get("type"));case 5:t=l.sent,l.next=11;break;case 8:return l.next=10,(0,b.cI)();case 10:t=l.sent;case 11:o=t.data,t.data.callable_items&&(t.data.agent.selected_skills=[],t.data.agent.selected_workflows=[],t.data.callable_items.forEach(function(c){c.item_type==1?t.data.agent.selected_skills.push(m()(m()({},c),{},{mode:4})):t.data.agent.selected_workflows.push(m()(m()({},c),{},{mode:2}))})),$(t.data),X(t.data.agent.publish_status===0&&t.data.is_creator===1?"false":"true"),t.data.agent.publish_status===1&&y.ZP.warning(D.formatMessage({id:"agent.message.listwarning"}),5),h=o.agent_abilities_list.filter(function(c,fe){return c.status===1}),J(ue(h).concat([{value:0,label:D.formatMessage({id:"agent.allability"})}])),ee(!1);case 19:case"end":return l.stop()}},r)}));return function(_){return n.apply(this,arguments)}}(),ue=function(r){return r.map(function(_){return{value:_.agent_ability_id,label:_.name}})},ie=function(){return!1},oe=function(){return!1},de=function(){};return(0,v.jsx)("div",{className:" flex bg-white absolute w-full h-full top-0 left-0",style:{height:U},children:q?(0,v.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,v.jsx)(K.Z,{size:"large"})}):(0,v.jsx)(H.Z,{saveInfo:{firstjudgingcondition:ie,secondjudgingcondition:oe,agentupdata:de},operationbentate:V,iframe:{height:U},data:{abilitiesList:k,detailList:Z}})})};f.default=G}}]);
