"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[10],{72406:function(de,B,n){var S=n(58533),T=n(99702),U=n(74330),i=n(85893),R=function(v){var w=v.children,K=v.elid,A=v.dataLength,W=v.ishasMore,g=v.upSlide,k=v.isFooter,P=v.pageNumber,Z=P===void 0?2:P;return(0,i.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,i.jsx)(S.Z,{dataLength:A,scrollableTarget:K,next:g,hasMore:W,loader:(0,i.jsx)("div",{className:"flex justify-center h-[60px] items-center",children:Z>1?(0,i.jsx)(U.Z,{}):(0,i.jsx)(i.Fragment,{})}),children:w}),k&&(0,i.jsx)("div",{className:"mt-[30px] flex-1 flex ",style:{alignItems:"flex-end"},children:(0,i.jsx)(T.Z,{className:"relative"})})]})};B.Z=R},44010:function(de,B,n){var S=n(15009),T=n.n(S),U=n(19632),i=n.n(U),R=n(97857),u=n.n(R),v=n(99289),w=n.n(v),K=n(9783),A=n.n(K),W=n(5574),g=n.n(W),k=n(72406),P=n(32332),Z=n(28508),X=n(82061),pe=n(35312),F=n(78045),xe=n(26915),fe=n(74330),me=n(71230),he=n(15746),Y=n(32983),G=n(28036),x=n(67294),ve=n(42237),ge=n(22352),e=n(85893),je=function(D){var z=D.show,Ee=D.popupClose,Me=D.popupSave,H=D.checkList,q=D.zIndex,ee=q===void 0?"":q,te=D.nodetype,l=te===void 0?"agent":te,y=D.radio,f=(0,pe.useIntl)(),m=(0,x.useRef)([]),ye=(0,x.useState)([]),ne=g()(ye,2),j=ne[0],L=ne[1],De=(0,x.useState)(3),se=g()(De,2),N=se[0],ae=se[1],be=(0,x.useState)(!0),re=g()(be,2),Ie=re[0],Pe=re[1],Ne=(0,x.useState)([]),ce=g()(Ne,2),E=ce[0],C=ce[1],Ce=(0,x.useState)([]),le=g()(Ce,2),M=le[0],b=le[1],Oe=(0,x.useState)(!0),_e=g()(Oe,2),Te=_e[0],Ae=_e[1],Le=(0,x.useRef)(null),Be=(0,x.useState)(""),ie=g()(Be,2),Se=ie[0],Ue=ie[1],o=(0,x.useRef)({page:1,page_size:999999,search_type:3,apps_name:"",tag_ids:""}),oe=function(s){return m.current.filter(function(r){return r.type==s}).length},ue=A()(A()({},"my_".concat(l),oe("my_".concat(l))),"more_".concat(l),oe("more_".concat(l))),$=function(){return N==3?E&&E.length>0?E:[]:M&&M.length>0?M:[]},Re=function(s){ae(s.target.value),o.current.search_type=s.target.value,I(o.current,!0)},I=function(){var t=w()(T()().mark(function s(r){var a,_,d,c,p=arguments;return T()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return a=p.length>1&&p[1]!==void 0?p[1]:!1,a&&(o.current.page=1),h.next=4,(0,ve.RE)(l,r);case 4:_=h.sent,(_==null?void 0:_.code)==0&&(d=_.data.list.map(function(Q){return u()(u()({},Q),{},{check:ke(Q,r.search_type)})}),c=function(ze,He){He(a?i()(d):[].concat(i()(ze),i()(d)))},r.search_type==3?(c(E,C),Pe(_.data.total_pages>o.current.page)):(c(M,b),Ae(_.data.total_pages>o.current.page)));case 6:case"end":return h.stop()}},s)}));return function(r){return t.apply(this,arguments)}}(),we=function(s){o.current.apps_name=s.target.value,o.current.page=1,I(o.current,!0)},Ke=function(s,r){var a=s==3;r.type=a?"my_".concat(l):"more_".concat(l),m.current=[r];var _=function(c,p){return c.map(function(O){return u()(u()({},O),{},{check:p(O.app_id)})})};C(function(d){return _(d,function(c){return c==r.app_id&&a})}),b(function(d){return _(d,function(c){return c==r.app_id&&!a})})},We=function(s,r){r.type=s==3?"my_".concat(l):"more_".concat(l);var a=m.current,_=a.find(function(c){return c.app_id==r.app_id});_?a.splice(a.findIndex(function(c){return c.app_id==r.app_id}),1):a.push(r);var d=function(p,O){return p.map(function(h){return u()(u()({},h),{},{check:h.app_id==O?!h.check:h.check})})};s==3?C(function(c){return d(c,r.app_id)}):b(function(c){return d(c,r.app_id)})},ke=function(s,r){var a=m.current;return y&&a.length>1?0:a.some(function(_){return _.app_id==s.app_id})?1:0},V=function(){Ee(),m.current=[],L([]),b([]),ae(3)},Ze=function(){Me({checkItem:i()(m.current)}),V()},Fe=function(){var s=o.current.search_type==3,r=s?E:M,a=s?"my":"more",_=r.map(function(p){return u()(u()({},p),{},{type:"".concat(a,"_").concat(l)})}),d=m.current.filter(function(p){return p.type!="".concat(a,"_").concat(l)});m.current=[].concat(i()(d),i()(_));var c=r.map(function(p){return u()(u()({},p),{},{check:1})});s?C(function(){return c}):b(function(){return c})};(0,x.useEffect)(function(){z&&(o.current.search_type=3,o.current.apps_name="",H.length&&(m.current=i()(H),L(i()(H))),I(u()(u()({},o.current),{},{search_type:3}),!0),I(u()(u()({},o.current),{},{search_type:2}),!0))},[z]),(0,x.useEffect)(function(){L(i()(m.current))},[E,M]);var J=(0,x.useRef)(!1);(0,x.useEffect)(function(){if(m.current.length!==j.length&&J.current){var t=function(_,d){return _.map(function(c){return u()(u()({},c),{},{check:d.some(function(p){return c.app_id===p.app_id})?1:0})})};m.current=i()(j);var s=j.filter(function(a){return a.type==="my_agent"}),r=j.filter(function(a){return a.type==="more_agent"});C(function(a){return t(a,s)}),b(function(a){return t(a,r)}),J.current=!1}},[j]);var Ge=function(s){J.current=!0,L(function(r){return r.filter(function(a){return s.some(function(_){return a.app_id!=_.app_id})})})};return z?(0,e.jsx)("div",{ref:Le,style:ee?{zIndex:ee}:{zIndex:30},className:'transition  w-full h-full fixed top-[0] left-[0] bg-[rgba(0,0,0,0.5)] flex items-center justify-center z-30"',children:(0,e.jsx)("div",{className:"w-[980px] h-[646px] bg-[#fff] rounded-[6px] transition",children:(0,e.jsxs)("div",{className:"flex flex-col h-full w-full",children:[(0,e.jsxs)("div",{className:"text-[16px] flex items-center p-[20px]",style:{borderBottom:"1px solid #ebebeb"},children:[(0,e.jsx)("span",{className:"flex-1 text-[14px] font-[500] text-[#213044]",children:f.formatMessage({id:"app.check_".concat(l,"_popup.title")})}),(0,e.jsx)(Z.Z,{className:"text-[16px] cursor-pointer",onClick:V})]}),(0,e.jsxs)("div",{className:"flex flex-1 overflow-x-hidden w-full min-w-0",children:[(0,e.jsxs)("div",{className:"pt-[20px] h-full flex-1 min-w-0",children:[(0,e.jsxs)("div",{className:"flex items-center pt-[0] p-[20px]",children:[(0,e.jsxs)("span",{className:"text-[#999]",children:[f.formatMessage({id:"app.check_".concat(l,"_popup.chenck_text")}),"\uFF1A"]}),(0,e.jsxs)("div",{className:"flex items-center gap-x-[12px]",children:[(0,e.jsxs)("span",{className:"text-[#213044] text-[14px]",children:[f.formatMessage({id:"app.check_".concat(l,"_popup.select_1")}),":"," ",ue["my_".concat(l)]]}),(0,e.jsxs)("span",{className:"text-[#213044] text-[14px]",children:[f.formatMessage({id:"app.check_".concat(l,"_popup.select_2")}),":"," ",ue["more_".concat(l)]]})]})]}),(0,e.jsxs)("div",{className:"flex gap-x-[20px] pt-[0] p-[20px]",children:[(0,e.jsxs)(F.ZP.Group,{onChange:Re,defaultValue:"3",size:"large",children:[(0,e.jsx)(F.ZP.Button,{value:"3",children:(0,e.jsx)("span",{className:"text-[14px]",children:f.formatMessage({id:"app.check_".concat(l,"_popup.select_1")})})}),(0,e.jsx)(F.ZP.Button,{value:"2",children:(0,e.jsx)("span",{className:"text-[14px]",children:f.formatMessage({id:"app.check_".concat(l,"_popup.select_2")})})})]}),(0,e.jsx)(xe.Z,{className:"w-[320px] text-[14px] flex-1",style:{fontSize:"14px !important"},onPressEnter:we,size:"large",placeholder:f.formatMessage({id:"app.check_".concat(l,"_popup.search")}),onChange:function(s){return Ue(s.target.value)},value:Se,prefix:(0,e.jsx)("img",{src:"/icons/search_icon.svg",className:"w-[16px] h-[16px] mr-[10px]"})}),(0,e.jsx)(ge.Z,{allowClear:!0,onChange:function(s){o.current.tag_ids=s?s.join(","):"",o.current.page=1,I(o.current,!0)},showAddButton:!1,size:"large",className:"min-w-[240px] flex-1",listStyle:"horizontal"})]}),(0,e.jsxs)("div",{className:"overflow-y-auto  px-[20px]",id:"agentScroll",style:{height:"calc(100% - 100px)"},children:[E.length||M.length?(0,e.jsx)(e.Fragment,{}):(0,e.jsx)("div",{className:"h-full w-full absolute top-0 left-0 flex justify-center items-center z-[100] bg-[rgba(255,255,255,0.5)]",children:(0,e.jsx)(fe.Z,{size:"large"})}),(0,e.jsx)(k.Z,{dataLength:N==3?E.length:M.length,elid:"agentScroll",ishasMore:N==3?Ie:Te,upSlide:function(){o.current.page+=1,I(o.current)},children:(0,e.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,e.jsx)(me.Z,{gutter:[15,15],children:$()&&$().length?$().map(function(t,s){return(0,e.jsx)(he.Z,{span:j.length&&!y?8:6,children:(0,e.jsxs)("div",{className:"bg-[#fff] flex gap-x-[20px] p-[10px] cursor-pointer border-solid border-[1px] rounded-[4px] ".concat(t.check?y?"border-[#1b64f3]":"border-gray-100":"border-[#eee]"),onClick:function(){y?Ke(N,t):We(N,t)},children:[(0,e.jsx)("div",{className:"w-[40px] h-[40px] bg-[#F4F8F1] rounded-[6px] relative flex items-center justify-center shrink-0",children:(0,e.jsx)("img",{src:(0,P.s9)("single",t.icon),alt:"",className:"w-[20px]  h-[20px]"})}),(0,e.jsxs)("div",{className:"flex flex-col gap-y-[5px] justify-center flex-1 min-w-[0]",children:[(0,e.jsx)("div",{className:"text-[12px] font-[500] w-full truncate ".concat(t.check?y?"text-[#213044]":"text-gray-300":"text-[#213044]"),children:t.name}),(0,e.jsx)("div",{className:"text-[12px] w-full truncate ".concat(t.check?y?"text-[#999]":"text-gray-300":"text-[#999]"),children:t.description})]})]})},t.app_id)}):(0,e.jsx)("div",{className:"w-full h-[380px] flex justify-center items-center",children:(0,e.jsx)(Y.Z,{style:{margin:"0px",fontSize:"16px"},imageStyle:{width:"60px",margin:"0 auto",marginBottom:"2px"},description:f.formatMessage({id:"app.dashboard.None"}),image:Y.Z.PRESENTED_IMAGE_SIMPLE})})})})})]})]}),!y&&(E.length||M.length)&&j&&j.length?(0,e.jsxs)("div",{className:"h-full flex flex-col",style:{boxShadow:"rgba(0, 0, 0, 0.1) 0px 0px 3px 0px"},children:[(0,e.jsxs)("div",{className:"py-[10px] px-[10px] text-[14px]",children:[f.formatMessage({id:"app.check_popup.add"}),f.formatMessage({id:"app.check_".concat(l,"_popup.name")})]}),(0,e.jsx)("div",{className:"w-[260px]  overflow-y-auto flex-1 min-w-0 min-h-0",children:(0,e.jsx)("div",{className:"flex gap-[6px] p-4 pt-[6px] flex-wrap w-full",children:j.map(function(t){return(0,e.jsxs)("div",{className:"w-full cursor-pointer relative",children:[(0,e.jsx)("div",{className:"flex items-center gap-x-[5px] bg-[#FAFAFA] transition p-[10px] slider_agent_box",children:(0,e.jsxs)("div",{className:"flex gap-x-[15px] flex-1 min-w-[0]",children:[(0,e.jsx)("div",{className:"w-[40px] h-[40px] bg-[#F4F8F1] rounded-[6px] flex items-center justify-center shrink-0",children:(0,e.jsx)("img",{src:(0,P.s9)("single",t.icon),alt:"",className:"w-[18px]  h-[18px]"})}),(0,e.jsxs)("div",{className:"flex flex-col gap-y-[5px] justify-center flex-1 min-w-[0]",children:[(0,e.jsx)("span",{className:"text-[#213044] text-[12px] font-[500] truncate w-full",children:t.name}),(0,e.jsx)("span",{className:"text-[#999999] text-[12px] truncate",children:t.description})]})]})}),(0,e.jsx)("div",{className:"text-[#f73131] transition text-[14px] absolute top-[6px] right-[6px]",children:(0,e.jsx)(X.Z,{})}),(0,e.jsx)("div",{className:"hover:opacity-100 opacity-0 transition absolute w-full h-full flex items-center justify-center top-0 left-0 bg-[rgba(255,255,255,0.8)]",onClick:function(){Ge([t])},children:(0,e.jsx)("div",{className:"text-[#1b64f3] transition text-[24px]",children:(0,e.jsx)(X.Z,{})})})]},t.app_id)})})})]}):(0,e.jsx)(e.Fragment,{})]}),(0,e.jsxs)("div",{className:"p-[20px] flex gap-x-[20px] justify-end",style:{borderTop:"1px solid #e8e8e8"},children:[y?(0,e.jsx)(e.Fragment,{}):(0,e.jsx)("div",{className:"flex-1",children:(0,e.jsx)(G.ZP,{htmlType:"submit",onClick:Fe,children:f.formatMessage({id:"app.check_popup.check"})})}),(0,e.jsx)(G.ZP,{className:"text-[14px] text-[#213044] w-[88px] h-[40px]",style:{border:"1px solid #D8D8D8"},onClick:V,children:f.formatMessage({id:"app.check_".concat(l,"_popup.cancel")})}),(0,e.jsx)(G.ZP,{type:"primary",className:"bg-[#1B64F3] rounded-[4px] w-[88px] h-[40px]",htmlType:"submit",onClick:Ze,children:f.formatMessage({id:"app.check_".concat(l,"_popup.save")})})]})]})})}):(0,e.jsx)(e.Fragment,{})};B.Z=je}}]);
