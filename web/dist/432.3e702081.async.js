"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[432],{82826:function(xe,ae,$){$.d(ae,{Z:function(){return R}});var c=$(1413),J=$(67294),se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},oe=se,re=$(91146),ie=function(de,ue){return J.createElement(re.Z,(0,c.Z)((0,c.Z)({},de),{},{ref:ue,icon:oe}))},q=J.forwardRef(ie),R=q},91806:function(xe,ae,$){$.d(ae,{Z:function(){return R}});var c=$(1413),J=$(67294),se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-40 824H232V687h97.9c11.6 32.8 32 62.3 59.1 84.7 34.5 28.5 78.2 44.3 123 44.3s88.5-15.7 123-44.3c27.1-22.4 47.5-51.9 59.1-84.7H792v-63H643.6l-5.2 24.7C626.4 708.5 573.2 752 512 752s-114.4-43.5-126.5-103.3l-5.2-24.7H232V136h560v752zM320 341h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 160h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"container",theme:"outlined"},oe=se,re=$(91146),ie=function(de,ue){return J.createElement(re.Z,(0,c.Z)((0,c.Z)({},de),{},{ref:ue,icon:oe}))},q=J.forwardRef(ie),R=q},69243:function(xe,ae,$){$.d(ae,{Z:function(){return R}});var c=$(1413),J=$(67294),se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 140H96c-17.7 0-32 14.3-32 32v496c0 17.7 14.3 32 32 32h380v112H304c-8.8 0-16 7.2-16 16v48c0 4.4 3.6 8 8 8h432c4.4 0 8-3.6 8-8v-48c0-8.8-7.2-16-16-16H548V700h380c17.7 0 32-14.3 32-32V172c0-17.7-14.3-32-32-32zm-40 488H136V212h752v416z"}}]},name:"desktop",theme:"outlined"},oe=se,re=$(91146),ie=function(de,ue){return J.createElement(re.Z,(0,c.Z)((0,c.Z)({},de),{},{ref:ue,icon:oe}))},q=J.forwardRef(ie),R=q},58638:function(xe,ae,$){$.d(ae,{Z:function(){return R}});var c=$(1413),J=$(67294),se={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"},oe=se,re=$(91146),ie=function(de,ue){return J.createElement(re.Z,(0,c.Z)((0,c.Z)({},de),{},{ref:ue,icon:oe}))},q=J.forwardRef(ie),R=q},48869:function(xe,ae,$){$.d(ae,{Z:function(){return R}});var c=$(1413),J=$(67294),se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 518H506V160c0-4.4-3.6-8-8-8h-26a398.46 398.46 0 00-282.8 117.1 398.19 398.19 0 00-85.7 127.1A397.61 397.61 0 0072 552a398.46 398.46 0 00117.1 282.8c36.7 36.7 79.5 65.6 127.1 85.7A397.61 397.61 0 00472 952a398.46 398.46 0 00282.8-117.1c36.7-36.7 65.6-79.5 85.7-127.1A397.61 397.61 0 00872 552v-26c0-4.4-3.6-8-8-8zM705.7 787.8A331.59 331.59 0 01470.4 884c-88.1-.4-170.9-34.9-233.2-97.2C174.5 724.1 140 640.7 140 552c0-88.7 34.5-172.1 97.2-234.8 54.6-54.6 124.9-87.9 200.8-95.5V586h364.3c-7.7 76.3-41.3 147-96.6 201.8zM952 462.4l-2.6-28.2c-8.5-92.1-49.4-179-115.2-244.6A399.4 399.4 0 00589 74.6L560.7 72c-4.7-.4-8.7 3.2-8.7 7.9V464c0 4.4 3.6 8 8 8l384-1c4.7 0 8.4-4 8-8.6zm-332.2-58.2V147.6a332.24 332.24 0 01166.4 89.8c45.7 45.6 77 103.6 90 166.1l-256.4.7z"}}]},name:"pie-chart",theme:"outlined"},oe=se,re=$(91146),ie=function(de,ue){return J.createElement(re.Z,(0,c.Z)((0,c.Z)({},de),{},{ref:ue,icon:oe}))},q=J.forwardRef(ie),R=q},74842:function(xe,ae,$){$.d(ae,{Z:function(){return R}});var c=$(1413),J=$(67294),se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"},oe=se,re=$(91146),ie=function(de,ue){return J.createElement(re.Z,(0,c.Z)((0,c.Z)({},de),{},{ref:ue,icon:oe}))},q=J.forwardRef(ie),R=q},16091:function(){},13118:function(xe,ae,$){var c=$(97582),J=$(67294),se=$(53606),oe=$(52982),re=function(){return oe.Z?document.visibilityState:"visible"};function ie(){var q=(0,c.CR)((0,J.useState)(re),2),R=q[0],fe=q[1];return(0,se.Z)("visibilitychange",function(){fe(re())},{target:function(){return document}}),R}ae.Z=ie},34559:function(xe,ae,$){$.d(ae,{tV:function(){return jo}});var c=$(67294);function J(t){let e;const n=new Set,o=(v,s)=>{const u=typeof v=="function"?v(e):v;if(u!==e){const f=e;e=s?u:Object.assign({},e,u),n.forEach(p=>p(e,f))}},r=()=>e,a=(v,s=r,u=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=s(e);function p(){const g=s(e);if(!u(f,g)){const b=f;v(f=g,b)}}return n.add(p),()=>n.delete(p)},d={setState:o,getState:r,subscribe:(v,s,u)=>s||u?a(v,s,u):(n.add(v),()=>n.delete(v)),destroy:()=>n.clear()};return e=t(o,r,d),d}const oe=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?c.useEffect:c.useLayoutEffect;function re(t){const e=typeof t=="function"?J(t):t,n=(o=e.getState,r=Object.is)=>{const[,a]=(0,c.useReducer)(m=>m+1,0),l=e.getState(),i=(0,c.useRef)(l),d=(0,c.useRef)(o),v=(0,c.useRef)(r),s=(0,c.useRef)(!1),u=(0,c.useRef)();u.current===void 0&&(u.current=o(l));let f,p=!1;(i.current!==l||d.current!==o||v.current!==r||s.current)&&(f=o(l),p=!r(u.current,f)),oe(()=>{p&&(u.current=f),i.current=l,d.current=o,v.current=r,s.current=!1});const g=(0,c.useRef)(l);oe(()=>{const m=()=>{try{const E=e.getState(),w=d.current(E);v.current(u.current,w)||(i.current=E,u.current=w,a())}catch(E){s.current=!0,a()}},y=e.subscribe(m);return e.getState()!==g.current&&m(),y},[]);const b=p?f:u.current;return(0,c.useDebugValue)(b),b};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const o=[n,e];return{next(){const r=o.length<=0;return{value:o.shift(),done:r}}}},n}function ie(){const t=(0,c.createContext)(void 0);return{Provider:({initialStore:r,createStore:a,children:l})=>{const i=(0,c.useRef)();return i.current||(r&&(console.warn("Provider initialStore is deprecated and will be removed in the next version."),a||(a=()=>r)),i.current=a()),(0,c.createElement)(t.Provider,{value:i.current},l)},useStore:(r,a=Object.is)=>{const l=(0,c.useContext)(t);if(!l)throw new Error("Seems like you have not used zustand provider as an ancestor.");return l(r,a)},useStoreApi:()=>{const r=(0,c.useContext)(t);if(!r)throw new Error("Seems like you have not used zustand provider as an ancestor.");return(0,c.useMemo)(()=>({getState:r.getState,setState:r.setState,subscribe:r.subscribe,destroy:r.destroy}),[r])}}}var q=$(96711);function R(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fe(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function de(t,e){if(t){if(typeof t=="string")return fe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(t,e)}}function ue(t){if(Array.isArray(t))return t}function Go(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o=[],r=!0,a=!1,l,i;try{for(n=n.call(t);!(r=(l=n.next()).done)&&(o.push(l.value),!(e&&o.length===e));r=!0);}catch(d){a=!0,i=d}finally{try{!r&&n.return!=null&&n.return()}finally{if(a)throw i}}return o}}function Qo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y(t,e){return ue(t)||Go(t,e)||de(t,e)||Qo()}var Ie;(function(t){t.Strict="strict",t.Loose="loose"})(Ie||(Ie={}));var Gt;(function(t){t.Lines="lines",t.Dots="dots"})(Gt||(Gt={}));var Ae;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Ae||(Ae={}));var Se;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Se||(Se={}));var tt;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(tt||(tt={}));var N;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(N||(N={}));var bt=function(e){return{width:e.offsetWidth,height:e.offsetHeight}},Re=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(e,n),o)},Qt=function(e,n){return{x:Re(e.x,n[0][0],n[1][0]),y:Re(e.y,n[0][1],n[1][1])}},Jt=function(e){var n,o;return((n=e.getRootNode)===null||n===void 0?void 0:n.call(e))||((o=window)===null||o===void 0?void 0:o.document)},qt=function(e,n){return{x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x2,n.x2),y2:Math.max(e.y2,n.y2)}},$e=function(e){var n=e.x,o=e.y,r=e.width,a=e.height;return{x:n,y:o,x2:n+r,y2:o+a}},_t=function(e){var n=e.x,o=e.y,r=e.x2,a=e.y2;return{x:n,y:o,width:r-n,height:a-o}},Oi=function(e,n){return _t(qt($e(e),$e(n)))},en=function(e){return!isNaN(e)&&isFinite(e)},ne=Symbol("internals");function tn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function Qe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tn(Object(n),!0).forEach(function(o){R(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function nn(t,e){var n=t.find(function(v){return v.id===e.parentNode});if(n){var o=e.position.x+e.width-n.width,r=e.position.y+e.height-n.height;if(o>0||r>0||e.position.x<0||e.position.y<0){var a,l;if(n.style=Qe({},n.style)||{},n.style.width=(a=n.style.width)!==null&&a!==void 0?a:n.width,n.style.height=(l=n.style.height)!==null&&l!==void 0?l:n.height,o>0&&(n.style.width+=o),r>0&&(n.style.height+=r),e.position.x<0){var i=Math.abs(e.position.x);n.position.x=n.position.x-i,n.style.width+=i,e.position.x=0}if(e.position.y<0){var d=Math.abs(e.position.y);n.position.y=n.position.y-d,n.style.height+=d,e.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function on(t,e){if(t.some(function(o){return o.type==="reset"}))return t.filter(function(o){return o.type==="reset"}).map(function(o){return o.item});var n=t.filter(function(o){return o.type==="add"}).map(function(o){return o.item});return e.reduce(function(o,r){var a=t.find(function(d){return d.id===r.id});if(a)switch(a.type){case"select":return o.push(Qe(Qe({},r),{},{selected:a.selected})),o;case"position":{var l=Qe({},r);return typeof a.position!="undefined"&&(l.position=a.position),typeof a.positionAbsolute!="undefined"&&(l.positionAbsolute=a.positionAbsolute),typeof a.dragging!="undefined"&&(l.dragging=a.dragging),l.expandParent&&nn(o,l),o.push(l),o}case"dimensions":{var i=Qe({},r);return typeof a.dimensions!="undefined"&&(i.width=a.dimensions.width,i.height=a.dimensions.height),i.expandParent&&nn(o,i),o.push(i),o}case"remove":return o}return o.push(r),o},n)}function rn(t,e){return on(t,e)}function Jo(t,e){return on(t,e)}var we=function(e,n){return{id:e,type:"select",selected:n}};function Te(t,e){return t.reduce(function(n,o){var r=e.includes(o.id);return!o.selected&&r?(o.selected=!0,n.push(we(o.id,!0))):o.selected&&!r&&(o.selected=!1,n.push(we(o.id,!1))),n},[])}function an(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?an(Object(n),!0).forEach(function(o){R(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var cn=function(e,n,o){var r=n.querySelectorAll(e);if(!r||!r.length)return null;var a=Array.from(r),l=n.getBoundingClientRect();return a.map(function(i){var d=i.getBoundingClientRect();return ln({id:i.getAttribute("data-handleid"),position:i.getAttribute("data-handlepos"),x:(d.left-l.left)/o,y:(d.top-l.top)/o},bt(i))})};function Je(t,e,n){return n===void 0?n:function(o){var r=e().nodeInternals.get(t);n(o,ln({},r))}}function sn(t){var e=t.id,n=t.store,o=n.getState(),r=o.addSelectedNodes,a=o.unselectNodesAndEdges,l=o.multiSelectionActive,i=o.nodeInternals,d=i.get(e);n.setState({nodesSelectionActive:!1}),d.selected?d.selected&&l&&a({nodes:[d]}):r([e])}function dn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function Ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dn(Object(n),!0).forEach(function(o){R(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var qo=function(e){return"id"in e&&"source"in e&&"target"in e},un=function(e){return"id"in e&&!("source"in e)&&!("target"in e)},Pi=function(e,n,o){if(!un(e))return[];var r=o.filter(function(a){return a.source===e.id}).map(function(a){return a.target});return n.filter(function(a){return r.includes(a.id)})},xi=function(e,n,o){if(!un(e))return[];var r=o.filter(function(a){return a.target===e.id}).map(function(a){return a.source});return n.filter(function(a){return r.includes(a.id)})},vn=function(e){var n=e.source,o=e.sourceHandle,r=e.target,a=e.targetHandle;return"reactflow__edge-".concat(n).concat(o||"","-").concat(r).concat(a||"")},St=function(e,n){if(typeof e=="undefined")return"";if(typeof e=="string")return e;var o=n?"".concat(n,"__"):"";return"".concat(o).concat(Object.keys(e).sort().map(function(r){return"".concat(r,"=").concat(e[r])}).join("&"))},_o=function(e,n){return n.some(function(o){return o.source===e.source&&o.target===e.target&&(o.sourceHandle===e.sourceHandle||!o.sourceHandle&&!e.sourceHandle)&&(o.targetHandle===e.targetHandle||!o.targetHandle&&!e.targetHandle)})},er=function(e,n){if(!e.source||!e.target)return n;var o;return qo(e)?o=Ne({},e):o=Ne(Ne({},e),{},{id:vn(e)}),_o(o,n)?n:n.concat(o)},Ni=function(e,n,o){if(!n.source||!n.target)return o;var r=o.find(function(l){return l.id===e.id});if(!r)return o;var a=Ne(Ne({},e),{},{id:vn(n),source:n.source,target:n.target,sourceHandle:n.sourceHandle,targetHandle:n.targetHandle});return o.filter(function(l){return l.id!==e.id}).concat(a)},gn=function(e,n,o,r){var a=e.x,l=e.y,i=Y(n,3),d=i[0],v=i[1],s=i[2],u=Y(r,2),f=u[0],p=u[1],g={x:(a-d)/s,y:(l-v)/s};return o?{x:f*Math.round(g.x/f),y:p*Math.round(g.y/p)}:g},wt=function(e){if(e.length===0)return{x:0,y:0,width:0,height:0};var n=e.reduce(function(o,r){var a=r.positionAbsolute,l=r.position,i=r.width,d=r.height;return qt(o,$e({x:a?a.x:l.x,y:a?a.y:l.y,width:i||0,height:d||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return _t(n)},fn=function(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[0,0,1],r=Y(o,3),a=r[0],l=r[1],i=r[2],d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,s=$e({x:(n.x-a)/i,y:(n.y-l)/i,width:n.width/i,height:n.height/i}),u=[];return e.forEach(function(f){var p=f.positionAbsolute,g=f.width,b=f.height,m=f.selectable,y=m===void 0?!0:m;if(v&&!y)return!1;var E=$e(Ne(Ne({},p),{},{width:g||0,height:b||0})),w=Math.max(0,Math.min(s.x2,E.x2)-Math.max(s.x,E.x)),S=Math.max(0,Math.min(s.y2,E.y2)-Math.max(s.y,E.y)),h=Math.ceil(w*S),C=typeof g=="undefined"||typeof b=="undefined"||g===null||b===null,P=d&&h>0,O=(g||0)*(b||0),x=C||P||h>=O;x&&u.push(f)}),u},pn=function(e,n){var o=e.map(function(r){return r.id});return n.filter(function(r){return o.includes(r.source)||o.includes(r.target)})},mn=function(e,n,o,r,a){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:.1,i=n/(e.width*(1+l)),d=o/(e.height*(1+l)),v=Math.min(i,d),s=Re(v,r,a),u=e.x+e.width/2,f=e.y+e.height/2,p=n/2-u*s,g=o/2-f*s;return[p,g,s]},Me=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.transition().duration(n)};function hn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function Le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hn(Object(n),!0).forEach(function(o){R(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function yn(t,e,n,o){var r,a,l,i,d,v,s,u,f,p,g,b;if(!t.parentNode)return o;var m=e.get(t.parentNode);return yn(m,e,n,{x:((r=o.x)!==null&&r!==void 0?r:0)+((a=(l=m.position)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0),y:((i=o.y)!==null&&i!==void 0?i:0)+((d=(v=m.position)===null||v===void 0?void 0:v.y)!==null&&d!==void 0?d:0),z:((s=(u=m[ne])===null||u===void 0?void 0:u.z)!==null&&s!==void 0?s:0)>((f=o.z)!==null&&f!==void 0?f:0)?(p=(g=m[ne])===null||g===void 0?void 0:g.z)!==null&&p!==void 0?p:0:(b=o.z)!==null&&b!==void 0?b:0})}function Et(t,e){var n=new Map,o={};return t.forEach(function(r){var a,l=en(r.zIndex)?r.zIndex:r.selected?1e3:0,i=e.get(r.id),d=Le(Le({width:i==null?void 0:i.width,height:i==null?void 0:i.height},r),{},{positionAbsolute:{x:r.position.x,y:r.position.y}});r.parentNode&&(d.parentNode=r.parentNode,o[r.parentNode]=!0),Object.defineProperty(d,ne,{enumerable:!1,value:{handleBounds:i==null||(a=i[ne])===null||a===void 0?void 0:a.handleBounds,z:l}}),n.set(r.id,d)}),n.forEach(function(r){if(r.parentNode&&!n.has(r.parentNode))throw new Error("Parent node ".concat(r.parentNode," not found"));if(r.parentNode||o[r.id]){var a,l,i=yn(r,n,o,Le(Le({},r.position),{},{z:(a=(l=r[ne])===null||l===void 0?void 0:l.z)!==null&&a!==void 0?a:0})),d=i.x,v=i.y,s=i.z;r.positionAbsolute={x:d,y:v},r[ne].z=s,o[r.id]&&(r[ne].isParent=!0)}}),n}function bn(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t(),o=n.nodeInternals,r=n.width,a=n.height,l=n.minZoom,i=n.maxZoom,d=n.d3Zoom,v=n.d3Selection,s=n.fitViewOnInitDone,u=n.fitViewOnInit;if((e.initial&&!s&&u||!e.initial)&&d&&v){var f=Array.from(o.values()).filter(function(O){return e.includeHiddenNodes?O.width&&O.height:!O.hidden}),p=f.every(function(O){return O.width&&O.height});if(f.length>0&&p){var g,b,m,y=wt(f),E=mn(y,r,a,(g=e.minZoom)!==null&&g!==void 0?g:l,(b=e.maxZoom)!==null&&b!==void 0?b:i,(m=e.padding)!==null&&m!==void 0?m:.1),w=Y(E,3),S=w[0],h=w[1],C=w[2],P=q.CR.translate(S,h).scale(C);return typeof e.duration=="number"&&e.duration>0?d.transform(Me(v,e.duration),P):d.transform(v,P),!0}}return!1}function tr(t,e){return t.forEach(function(n){var o=e.get(n.id);if(o){var r;e.set(o.id,Le(Le({},o),{},(r={},R(r,ne,o[ne]),R(r,"selected",n.selected),r)))}}),new Map(e)}function nr(t,e){return e.map(function(n){var o=t.find(function(r){return r.id===n.id});return o&&(n.selected=o.selected),n})}function nt(t){var e=t.changedNodes,n=t.changedEdges,o=t.get,r=t.set,a=o(),l=a.nodeInternals,i=a.edges,d=a.onNodesChange,v=a.onEdgesChange,s=a.hasDefaultNodes,u=a.hasDefaultEdges;e!=null&&e.length&&(s&&r({nodeInternals:tr(e,l)}),d==null||d(e)),n!=null&&n.length&&(u&&r({edges:nr(n,i)}),v==null||v(n))}var Ct=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Sn={width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Ct,nodeExtent:Ct,nodesSelectionActive:!1,userSelectionActive:!1,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionMode:Ie.Strict,domNode:null,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,multiSelectionActive:!1,reactFlowVersion:"10.3.17",connectionStartHandle:null,connectOnClick:!0};function wn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function me(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wn(Object(n),!0).forEach(function(o){R(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var Ot=ie(),En=Ot.Provider,te=Ot.useStore,le=Ot.useStoreApi,Cn=function(){return re(function(e,n){return me(me({},Sn),{},{setNodes:function(r){e({nodeInternals:Et(r,n().nodeInternals)})},setEdges:function(r){var a=n(),l=a.defaultEdgeOptions,i=l===void 0?{}:l;e({edges:r.map(function(d){return me(me({},i),d)})})},setDefaultNodesAndEdges:function(r,a){var l=typeof r!="undefined",i=typeof a!="undefined",d=l?Et(r,new Map):new Map,v=i?a:[];e({nodeInternals:d,edges:v,hasDefaultNodes:l,hasDefaultEdges:i})},updateNodeDimensions:function(r){var a=n(),l=a.onNodesChange,i=a.nodeInternals,d=a.fitViewOnInit,v=a.fitViewOnInitDone,s=a.fitViewOnInitOptions,u=a.domNode,f=u==null?void 0:u.querySelector(".react-flow__viewport");if(f){var p=window.getComputedStyle(f),g=new window.DOMMatrixReadOnly(p.transform),b=g.m22,m=r.reduce(function(E,w){var S=i.get(w.id);if(S){var h=bt(w.nodeElement),C=!!(h.width&&h.height&&(S.width!==h.width||S.height!==h.height||w.forceUpdate));C&&(i.set(S.id,me(me({},S),{},R({},ne,me(me({},S[ne]),{},{handleBounds:{source:cn(".source",w.nodeElement,b),target:cn(".target",w.nodeElement,b)}})),h)),E.push({id:S.id,type:"dimensions",dimensions:h}))}return E},[]),y=v||d&&!v&&bn(n,me({initial:!0},s));e({nodeInternals:new Map(i),fitViewOnInitDone:y}),(m==null?void 0:m.length)>0&&(l==null||l(m))}},updateNodePositions:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=n(),d=i.onNodesChange,v=i.nodeInternals,s=i.hasDefaultNodes;if(s||d){var u=r.map(function(g){var b={id:g.id,type:"position",dragging:l};return a&&(b.positionAbsolute=g.positionAbsolute,b.position=g.position),b});if(u!=null&&u.length){if(s){var f=rn(u,Array.from(v.values())),p=Et(f,v);e({nodeInternals:p})}d==null||d(u)}}},addSelectedNodes:function(r){var a=n(),l=a.multiSelectionActive,i=a.nodeInternals,d=a.edges,v,s=null;l?v=r.map(function(u){return we(u,!0)}):(v=Te(Array.from(i.values()),r),s=Te(d,[])),nt({changedNodes:v,changedEdges:s,get:n,set:e})},addSelectedEdges:function(r){var a=n(),l=a.multiSelectionActive,i=a.edges,d=a.nodeInternals,v,s=null;l?v=r.map(function(u){return we(u,!0)}):(v=Te(i,r),s=Te(Array.from(d.values()),[])),nt({changedNodes:s,changedEdges:v,get:n,set:e})},unselectNodesAndEdges:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.nodes,l=r.edges,i=n(),d=i.nodeInternals,v=i.edges,s=a||Array.from(d.values()),u=l||v,f=s.map(function(g){return g.selected=!1,we(g.id,!1)}),p=u.map(function(g){return we(g.id,!1)});nt({changedNodes:f,changedEdges:p,get:n,set:e})},setMinZoom:function(r){var a=n(),l=a.d3Zoom,i=a.maxZoom;l==null||l.scaleExtent([r,i]),e({minZoom:r})},setMaxZoom:function(r){var a=n(),l=a.d3Zoom,i=a.minZoom;l==null||l.scaleExtent([i,r]),e({maxZoom:r})},setTranslateExtent:function(r){var a=n(),l=a.d3Zoom;l==null||l.translateExtent(r),e({translateExtent:r})},resetSelectedElements:function(){var r=n(),a=r.nodeInternals,l=r.edges,i=Array.from(a.values()),d=i.filter(function(s){return s.selected}).map(function(s){return we(s.id,!1)}),v=l.filter(function(s){return s.selected}).map(function(s){return we(s.id,!1)});nt({changedNodes:d,changedEdges:v,get:n,set:e})},setNodeExtent:function(r){var a=n(),l=a.nodeInternals;l.forEach(function(i){i.positionAbsolute=Qt(i.position,r)}),e({nodeExtent:r,nodeInternals:new Map(l)})},reset:function(){return e(me({},Sn))}})})},pe=$(83840);function ve(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(e,n[o])||!Object.is(t[n[o]],e[n[o]]))return!1;return!0}function or(t){if(Array.isArray(t))return fe(t)}function rr(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ar(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function De(t){return or(t)||rr(t)||de(t)||ar()}var ir={zoomIn:function(){},zoomOut:function(){},zoomTo:function(e){},getZoom:function(){return 1},setViewport:function(e){},getViewport:function(){return{x:0,y:0,zoom:1}},fitView:function(){},setCenter:function(e,n){},fitBounds:function(e){},project:function(e){return e},viewportInitialized:!1},lr=function(e){return{d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}},cr=function(){var e=le(),n=te(lr,ve),o=n.d3Zoom,r=n.d3Selection,a=(0,c.useMemo)(function(){return r&&o?{zoomIn:function(i){return o.scaleBy(Me(r,i==null?void 0:i.duration),1.2)},zoomOut:function(i){return o.scaleBy(Me(r,i==null?void 0:i.duration),1/1.2)},zoomTo:function(i,d){return o.scaleTo(Me(r,d==null?void 0:d.duration),i)},getZoom:function(){return e.getState().transform[2]},setViewport:function(i,d){var v,s,u,f=Y(e.getState().transform,3),p=f[0],g=f[1],b=f[2],m=q.CR.translate((v=i.x)!==null&&v!==void 0?v:p,(s=i.y)!==null&&s!==void 0?s:g).scale((u=i.zoom)!==null&&u!==void 0?u:b);o.transform(Me(r,d==null?void 0:d.duration),m)},getViewport:function(){var i=Y(e.getState().transform,3),d=i[0],v=i[1],s=i[2];return{x:d,y:v,zoom:s}},fitView:function(i){return bn(e.getState,i)},setCenter:function(i,d,v){var s=e.getState(),u=s.width,f=s.height,p=s.maxZoom,g=typeof(v==null?void 0:v.zoom)!="undefined"?v.zoom:p,b=u/2-i*g,m=f/2-d*g,y=q.CR.translate(b,m).scale(g);o.transform(Me(r,v==null?void 0:v.duration),y)},fitBounds:function(i,d){var v,s=e.getState(),u=s.width,f=s.height,p=s.minZoom,g=s.maxZoom,b=mn(i,u,f,p,g,(v=d==null?void 0:d.padding)!==null&&v!==void 0?v:.1),m=Y(b,3),y=m[0],E=m[1],w=m[2],S=q.CR.translate(y,E).scale(w);o.transform(Me(r,d==null?void 0:d.duration),S)},project:function(i){var d=e.getState(),v=d.transform,s=d.snapToGrid,u=d.snapGrid;return gn(i,v,s,u)},viewportInitialized:!0}:ir},[o,r]);return a};function On(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function Ze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?On(Object(n),!0).forEach(function(o){R(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Pn(){var t=cr(),e=le(),n=(0,c.useCallback)(function(){var u=e.getState(),f=u.nodeInternals,p=Array.from(f.values());return p.map(function(g){return Ze({},g)})},[]),o=(0,c.useCallback)(function(u){var f=e.getState(),p=f.nodeInternals;return p.get(u)},[]),r=(0,c.useCallback)(function(){var u=e.getState(),f=u.edges,p=f===void 0?[]:f;return p.map(function(g){return Ze({},g)})},[]),a=(0,c.useCallback)(function(u){var f=e.getState(),p=f.edges,g=p===void 0?[]:p;return g.find(function(b){return b.id===u})},[]),l=(0,c.useCallback)(function(u){var f=e.getState(),p=f.nodeInternals,g=f.setNodes,b=f.hasDefaultNodes,m=f.onNodesChange,y=Array.from(p.values()),E=typeof u=="function"?u(y):u;if(b)g(E);else if(m){var w=E.length===0?y.map(function(S){return{type:"remove",id:S.id}}):E.map(function(S){return{item:S,type:"reset"}});m(w)}},[]),i=(0,c.useCallback)(function(u){var f=e.getState(),p=f.edges,g=p===void 0?[]:p,b=f.setEdges,m=f.hasDefaultEdges,y=f.onEdgesChange,E=typeof u=="function"?u(g):u;if(m)b(E);else if(y){var w=E.length===0?g.map(function(S){return{type:"remove",id:S.id}}):E.map(function(S){return{item:S,type:"reset"}});y(w)}},[]),d=(0,c.useCallback)(function(u){var f=Array.isArray(u)?u:[u],p=e.getState(),g=p.nodeInternals,b=p.setNodes,m=p.hasDefaultNodes,y=p.onNodesChange;if(m){var E=Array.from(g.values()),w=[].concat(E,De(f));b(w)}else if(y){var S=f.map(function(h){return{item:h,type:"add"}});y(S)}},[]),v=(0,c.useCallback)(function(u){var f=Array.isArray(u)?u:[u],p=e.getState(),g=p.edges,b=g===void 0?[]:g,m=p.setEdges,y=p.hasDefaultEdges,E=p.onEdgesChange;if(y)m([].concat(De(b),De(f)));else if(E){var w=f.map(function(S){return{item:S,type:"add"}});E(w)}},[]),s=(0,c.useCallback)(function(){var u=e.getState(),f=u.nodeInternals,p=u.edges,g=p===void 0?[]:p,b=u.transform,m=Array.from(f.values()),y=Y(b,3),E=y[0],w=y[1],S=y[2];return{nodes:m.map(function(h){return Ze({},h)}),edges:g.map(function(h){return Ze({},h)}),viewport:{x:E,y:w,zoom:S}}},[]);return(0,c.useMemo)(function(){return Ze(Ze({},t),{},{getNodes:n,getNode:o,getEdges:r,getEdge:a,setNodes:l,setEdges:i,addNodes:d,addEdges:v,toObject:s})},[t,n,o,r,a,l,i,d,v,s])}function sr(t,e){if(t==null)return{};var n={},o=Object.keys(t),r,a;for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function ot(t,e){if(t==null)return{};var n=sr(t,e),o,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)o=a[r],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function dr(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},c.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function ur(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},c.createElement("path",{d:"M0 0h32v4.2H0z"}))}function vr(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},c.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function gr(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},c.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function fr(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},c.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}var pr=["children","className"];function xn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xn(Object(n),!0).forEach(function(o){R(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var rt=function(e){var n=e.children,o=e.className,r=ot(e,pr);return c.createElement("button",mr({type:"button",className:(0,pe.Z)(["react-flow__controls-button",o])},r),n)},hr=function(e){return e.nodesDraggable&&e.nodesConnectable&&e.elementsSelectable},yr=function(e){var n=e.style,o=e.showZoom,r=o===void 0?!0:o,a=e.showFitView,l=a===void 0?!0:a,i=e.showInteractive,d=i===void 0?!0:i,v=e.fitViewOptions,s=e.onZoomIn,u=e.onZoomOut,f=e.onFitView,p=e.onInteractiveChange,g=e.className,b=e.children,m=le(),y=(0,c.useState)(!1),E=Y(y,2),w=E[0],S=E[1],h=te(hr),C=Pn(),P=C.zoomIn,O=C.zoomOut,x=C.fitView;if((0,c.useEffect)(function(){S(!0)},[]),!w)return null;var B=function(){P==null||P(),s==null||s()},D=function(){O==null||O(),u==null||u()},j=function(){x==null||x(v),f==null||f()},z=function(){m.setState({nodesDraggable:!h,nodesConnectable:!h,elementsSelectable:!h}),p==null||p(!h)};return c.createElement("div",{className:(0,pe.Z)(["react-flow__controls",g]),style:n},r&&c.createElement(c.Fragment,null,c.createElement(rt,{onClick:B,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in"},c.createElement(dr,null)),c.createElement(rt,{onClick:D,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out"},c.createElement(ur,null))),l&&c.createElement(rt,{className:"react-flow__controls-fitview",onClick:j,title:"fit view","aria-label":"fit view"},c.createElement(vr,null)),d&&c.createElement(rt,{className:"react-flow__controls-interactive",onClick:z,title:"toggle interactivity","aria-label":"toggle interactivity"},h?c.createElement(fr,null):c.createElement(gr,null)),b)};yr.displayName="Controls";var Mi=null,Nn=$(23838),br=$(46939),Sr=$(62487),wr=["paid-pro","paid-sponsor","paid-enterprise","paid-custom"];function Er(t){var e=t.proOptions,n=t.position,o=n===void 0?"bottom-right":n;if(e!=null&&e.account&&wr.includes(e==null?void 0:e.account)&&e!==null&&e!==void 0&&e.hideAttribution)return null;var r="".concat(o).split("-");return c.createElement("div",{className:(0,pe.Z)(["react-flow__attribution"].concat(De(r))),"data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev/pricing"},c.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer"},"React Flow"))}var Cr=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"];function Mn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function Or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mn(Object(n),!0).forEach(function(o){R(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var Pr=function(e){var n=e.x,o=e.y,r=e.label,a=e.labelStyle,l=a===void 0?{}:a,i=e.labelShowBg,d=i===void 0?!0:i,v=e.labelBgStyle,s=v===void 0?{}:v,u=e.labelBgPadding,f=u===void 0?[2,4]:u,p=e.labelBgBorderRadius,g=p===void 0?2:p,b=e.children,m=e.className,y=ot(e,Cr),E=(0,c.useRef)(null),w=(0,c.useState)({x:0,y:0,width:0,height:0}),S=Y(w,2),h=S[0],C=S[1],P=(0,pe.Z)(["react-flow__edge-textwrapper",m]);return(0,c.useEffect)(function(){if(E.current){var O=E.current.getBBox();C({x:O.x,y:O.y,width:O.width,height:O.height})}},[r]),typeof r=="undefined"||!r?null:c.createElement("g",Or({transform:"translate(".concat(n-h.width/2," ").concat(o-h.height/2,")"),className:P},y),d&&c.createElement("rect",{width:h.width+2*f[0],x:-f[0],y:-f[1],height:h.height+2*f[1],className:"react-flow__edge-textbg",style:s,rx:g,ry:g}),c.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:E,style:l},r),b)},xr=(0,c.memo)(Pr),at=function(t){var e=t.path,n=t.centerX,o=t.centerY,r=t.label,a=t.labelStyle,l=t.labelShowBg,i=t.labelBgStyle,d=t.labelBgPadding,v=t.labelBgBorderRadius,s=t.style,u=t.markerEnd,f=t.markerStart,p=r?c.createElement(xr,{x:n,y:o,label:r,labelStyle:a,labelShowBg:l,labelBgStyle:i,labelBgPadding:d,labelBgBorderRadius:v}):null;return c.createElement(c.Fragment,null,c.createElement("path",{style:s,d:e,className:"react-flow__edge-path",markerEnd:u,markerStart:f}),p)};function it(t){var e=t.pos,n=t.x1,o=t.y1,r=t.x2,a=t.y2,l,i;switch(e){case N.Left:case N.Right:l=.5*(n+r),i=o;break;case N.Top:case N.Bottom:l=n,i=.5*(o+a);break}return[l,i]}function Dn(t){var e=t.sourceX,n=t.sourceY,o=t.sourcePosition,r=o===void 0?N.Bottom:o,a=t.targetX,l=t.targetY,i=t.targetPosition,d=i===void 0?N.Top:i,v=it({pos:r,x1:e,y1:n,x2:a,y2:l}),s=Y(v,2),u=s[0],f=s[1],p=it({pos:d,x1:a,y1:l,x2:e,y2:n}),g=Y(p,2),b=g[0],m=g[1];return"M".concat(e,",").concat(n," C").concat(u,",").concat(f," ").concat(b,",").concat(m," ").concat(a,",").concat(l)}function Nr(t){var e=t.sourceX,n=t.sourceY,o=t.sourcePosition,r=o===void 0?N.Bottom:o,a=t.targetX,l=t.targetY,i=t.targetPosition,d=i===void 0?N.Top:i,v=it({pos:r,x1:e,y1:n,x2:a,y2:l}),s=Y(v,2),u=s[0],f=s[1],p=it({pos:d,x1:a,y1:l,x2:e,y2:n}),g=Y(p,2),b=g[0],m=g[1],y=e*.125+u*.375+b*.375+a*.125,E=n*.125+f*.375+m*.375+l*.125,w=Math.abs(y-e),S=Math.abs(E-n);return[y,E,w,S]}var kn=(0,c.memo)(function(t){var e=t.sourceX,n=t.sourceY,o=t.targetX,r=t.targetY,a=t.sourcePosition,l=a===void 0?N.Bottom:a,i=t.targetPosition,d=i===void 0?N.Top:i,v=t.label,s=t.labelStyle,u=t.labelShowBg,f=t.labelBgStyle,p=t.labelBgPadding,g=t.labelBgBorderRadius,b=t.style,m=t.markerEnd,y=t.markerStart,E={sourceX:e,sourceY:n,sourcePosition:l,targetX:o,targetY:r,targetPosition:d},w=Dn(E),S=Nr(E),h=Y(S,2),C=h[0],P=h[1];return c.createElement(at,{path:w,centerX:C,centerY:P,label:v,labelStyle:s,labelShowBg:u,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:g,style:b,markerEnd:m,markerStart:y})});function Bn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bn(Object(n),!0).forEach(function(o){R(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var Di=function(e,n){return typeof n!="undefined"&&n?"url(#".concat(n,")"):typeof e!="undefined"?"url(#react-flow__".concat(e,")"):"none"},jn=[N.Left,N.Right],zn=function(e){var n=e.sourceX,o=e.sourceY,r=e.targetX,a=e.targetY,l=e.sourcePosition,i=l===void 0?N.Bottom:l,d=e.targetPosition,v=d===void 0?N.Top:d,s=jn.includes(i),u=jn.includes(v),f=s&&!u||u&&!s;if(f){var p=s?Math.abs(r-n):0,g=n>r?n-p:n+p,b=s?0:Math.abs(a-o),m=o<a?o+b:o-b;return[g,m,p,b]}var y=Math.abs(r-n)/2,E=r<n?r+y:r-y,w=Math.abs(a-o)/2,S=a<o?a+w:a-w;return[E,S,y,w]};function qe(t,e,n){return n===void 0?n:function(o){var r=e().edges.find(function(a){return a.id===t});n(o,Mr({},r))}}var Pt=function(e,n,o){return"L ".concat(e,",").concat(n-o,"Q ").concat(e,",").concat(n," ").concat(e+o,",").concat(n)},xt=function(e,n,o){return"L ".concat(e+o,",").concat(n,"Q ").concat(e,",").concat(n," ").concat(e,",").concat(n-o)},Nt=function(e,n,o){return"L ".concat(e,",").concat(n-o,"Q ").concat(e,",").concat(n," ").concat(e-o,",").concat(n)},Mt=function(e,n,o){return"L ".concat(e-o,",").concat(n,"Q ").concat(e,",").concat(n," ").concat(e,",").concat(n-o)},Dt=function(e,n,o){return"L ".concat(e+o,",").concat(n,"Q ").concat(e,",").concat(n," ").concat(e,",").concat(n+o)},kt=function(e,n,o){return"L ".concat(e,",").concat(n+o,"Q ").concat(e,",").concat(n," ").concat(e+o,",").concat(n)},Bt=function(e,n,o){return"L ".concat(e,",").concat(n+o,"Q ").concat(e,",").concat(n," ").concat(e-o,",").concat(n)},jt=function(e,n,o){return"L ".concat(e-o,",").concat(n,"Q ").concat(e,",").concat(n," ").concat(e,",").concat(n+o)};function zt(t){var e=t.sourceX,n=t.sourceY,o=t.sourcePosition,r=o===void 0?N.Bottom:o,a=t.targetX,l=t.targetY,i=t.targetPosition,d=i===void 0?N.Top:i,v=t.borderRadius,s=v===void 0?5:v,u=t.centerX,f=t.centerY,p=zn({sourceX:e,sourceY:n,targetX:a,targetY:l}),g=Y(p,4),b=g[0],m=g[1],y=g[2],E=g[3],w=Math.min(s,Math.abs(a-e)),S=Math.min(s,Math.abs(l-n)),h=Math.min(w,S,y,E),C=[N.Left,N.Right],P=typeof u!="undefined"?u:b,O=typeof f!="undefined"?f:m,x=null,B=null;return e<=a?(x=n<=l?Pt(e,O,h):kt(e,O,h),B=n<=l?jt(a,O,h):Mt(a,O,h)):(x=n<l?Nt(e,O,h):Bt(e,O,h),B=n<l?Dt(a,O,h):xt(a,O,h)),C.includes(r)&&C.includes(d)?e<=a?(x=n<=l?jt(P,n,h):Mt(P,n,h),B=n<=l?Pt(P,l,h):kt(P,l,h)):(r===N.Right&&d===N.Left||r===N.Left&&d===N.Right||r===N.Left&&d===N.Left)&&(x=n<=l?Dt(P,n,h):xt(P,n,h),B=n<=l?Nt(P,l,h):Bt(P,l,h)):C.includes(r)&&!C.includes(d)?(e<=a?x=n<=l?jt(a,n,h):Mt(a,n,h):x=n<=l?Dt(a,n,h):xt(a,n,h),B=""):!C.includes(r)&&C.includes(d)&&(e<=a?x=n<=l?Pt(e,l,h):kt(e,l,h):x=n<=l?Nt(e,l,h):Bt(e,l,h),B=""),"M ".concat(e,",").concat(n).concat(x).concat(B,"L ").concat(a,",").concat(l)}var It=(0,c.memo)(function(t){var e=t.sourceX,n=t.sourceY,o=t.targetX,r=t.targetY,a=t.label,l=t.labelStyle,i=t.labelShowBg,d=t.labelBgStyle,v=t.labelBgPadding,s=t.labelBgBorderRadius,u=t.style,f=t.sourcePosition,p=f===void 0?N.Bottom:f,g=t.targetPosition,b=g===void 0?N.Top:g,m=t.markerEnd,y=t.markerStart,E=t.borderRadius,w=E===void 0?5:E,S=zn({sourceX:e,sourceY:n,targetX:o,targetY:r,sourcePosition:p,targetPosition:b}),h=Y(S,2),C=h[0],P=h[1],O=zt({sourceX:e,sourceY:n,sourcePosition:p,targetX:o,targetY:r,targetPosition:b,borderRadius:w});return c.createElement(at,{path:O,centerX:C,centerY:P,label:a,labelStyle:l,labelShowBg:i,labelBgStyle:d,labelBgPadding:v,labelBgBorderRadius:s,style:u,markerEnd:m,markerStart:y})});function In(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function An(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?In(Object(n),!0).forEach(function(o){R(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var Rn=(0,c.memo)(function(t){return c.createElement(It,An(An({},t),{},{borderRadius:0}))}),$n=(0,c.memo)(function(t){var e=t.sourceX,n=t.sourceY,o=t.targetX,r=t.targetY,a=t.label,l=t.labelStyle,i=t.labelShowBg,d=t.labelBgStyle,v=t.labelBgPadding,s=t.labelBgBorderRadius,u=t.style,f=t.markerEnd,p=t.markerStart,g=Math.abs(r-n)/2,b=r<n?r+g:r-g,m=Math.abs(o-e)/2,y=o<e?o+m:o-m,E="M ".concat(e,",").concat(n,"L ").concat(o,",").concat(r);return c.createElement(at,{path:E,centerX:y,centerY:b,label:a,labelStyle:l,labelShowBg:i,labelBgStyle:d,labelBgPadding:v,labelBgBorderRadius:s,style:u,markerEnd:f,markerStart:p})});function lt(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function ct(t){var e=t.pos,n=t.x1,o=t.y1,r=t.x2,a=t.y2,l=t.c,i,d;switch(e){case N.Left:i=n-lt(n-r,l),d=o;break;case N.Right:i=n+lt(r-n,l),d=o;break;case N.Top:i=n,d=o-lt(o-a,l);break;case N.Bottom:i=n,d=o+lt(a-o,l);break}return[i,d]}function Tn(t){var e=t.sourceX,n=t.sourceY,o=t.sourcePosition,r=o===void 0?N.Bottom:o,a=t.targetX,l=t.targetY,i=t.targetPosition,d=i===void 0?N.Top:i,v=t.curvature,s=v===void 0?.25:v,u=ct({pos:r,x1:e,y1:n,x2:a,y2:l,c:s}),f=Y(u,2),p=f[0],g=f[1],b=ct({pos:d,x1:a,y1:l,x2:e,y2:n,c:s}),m=Y(b,2),y=m[0],E=m[1];return"M".concat(e,",").concat(n," C").concat(p,",").concat(g," ").concat(y,",").concat(E," ").concat(a,",").concat(l)}function Dr(t){var e=t.sourceX,n=t.sourceY,o=t.sourcePosition,r=o===void 0?N.Bottom:o,a=t.targetX,l=t.targetY,i=t.targetPosition,d=i===void 0?N.Top:i,v=t.curvature,s=v===void 0?.25:v,u=ct({pos:r,x1:e,y1:n,x2:a,y2:l,c:s}),f=Y(u,2),p=f[0],g=f[1],b=ct({pos:d,x1:a,y1:l,x2:e,y2:n,c:s}),m=Y(b,2),y=m[0],E=m[1],w=e*.125+p*.375+y*.375+a*.125,S=n*.125+g*.375+E*.375+l*.125,h=Math.abs(w-e),C=Math.abs(S-n);return[w,S,h,C]}var At=(0,c.memo)(function(t){var e=t.sourceX,n=t.sourceY,o=t.targetX,r=t.targetY,a=t.sourcePosition,l=a===void 0?N.Bottom:a,i=t.targetPosition,d=i===void 0?N.Top:i,v=t.label,s=t.labelStyle,u=t.labelShowBg,f=t.labelBgStyle,p=t.labelBgPadding,g=t.labelBgBorderRadius,b=t.style,m=t.markerEnd,y=t.markerStart,E=t.curvature,w={sourceX:e,sourceY:n,sourcePosition:l,targetX:o,targetY:r,targetPosition:d,curvature:E},S=Tn(w),h=Dr(w),C=Y(h,2),P=C[0],O=C[1];return c.createElement(at,{path:S,centerX:P,centerY:O,label:v,labelStyle:s,labelShowBg:u,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:g,style:b,markerEnd:m,markerStart:y})}),Rt=(0,c.createContext)(null),kr=Rt.Provider;Rt.Consumer;function $t(t,e,n,o,r,a,l){var i=l.elementFromPoint(t.clientX,t.clientY),d=(i==null?void 0:i.classList.contains("target"))||!1,v=(i==null?void 0:i.classList.contains("source"))||!1,s={elementBelow:i,isValid:!1,connection:{source:null,target:null,sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(i&&(d||v)){s.isHoveringHandle=!0;var u=i.getAttribute("data-nodeid"),f=i.getAttribute("data-handleid"),p=n?{source:u,sourceHandle:f,target:o,targetHandle:r}:{source:o,sourceHandle:r,target:u,targetHandle:f};s.connection=p;var g=e===Ie.Strict?n&&v||!n&&d:!0;g&&(s.isValid=a(p))}return s}function Tt(t){t==null||t.classList.remove("react-flow__handle-valid"),t==null||t.classList.remove("react-flow__handle-connecting")}function Ln(t){var e=t.event,n=t.handleId,o=t.nodeId,r=t.onConnect,a=t.isTarget,l=t.getState,i=t.setState,d=t.isValidConnection,v=t.elementEdgeUpdaterType,s=t.onEdgeUpdateEnd,u=e.target.closest(".react-flow"),f=Jt(e.target);if(!f)return;var p=f.elementFromPoint(e.clientX,e.clientY),g=p==null?void 0:p.classList.contains("target"),b=p==null?void 0:p.classList.contains("source");if(!u||!g&&!b&&!v)return;var m=l(),y=m.onConnectStart,E=m.connectionMode,w=v||(g?"target":"source"),S=u.getBoundingClientRect(),h;i({connectionPosition:{x:e.clientX-S.left,y:e.clientY-S.top},connectionNodeId:o,connectionHandleId:n,connectionHandleType:w}),y==null||y(e,{nodeId:o,handleId:n,handleType:w});function C(O){i({connectionPosition:{x:O.clientX-S.left,y:O.clientY-S.top}});var x=$t(O,E,a,o,n,d,f),B=x.connection,D=x.elementBelow,j=x.isValid,z=x.isHoveringHandle;if(!z)return Tt(h);B.source!==B.target&&D&&(Tt(h),h=D,D.classList.add("react-flow__handle-connecting"),D.classList.toggle("react-flow__handle-valid",j))}function P(O){var x=l(),B=x.onConnectStop,D=x.onConnectEnd,j=$t(O,E,a,o,n,d,f),z=j.connection,I=j.isValid;B==null||B(O),I&&(r==null||r(z)),D==null||D(O),v&&s&&s(O),Tt(h),i({connectionNodeId:null,connectionHandleId:null,connectionHandleType:null}),f.removeEventListener("mousemove",C),f.removeEventListener("mouseup",P)}f.addEventListener("mousemove",C),f.addEventListener("mouseup",P)}var Br=["type","position","isValidConnection","isConnectable","id","onConnect","children","className","onMouseDown"];function Zn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zn(Object(n),!0).forEach(function(o){R(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var jr=function(){return!0},zr=function(e){return{connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick}},Hn=(0,c.forwardRef)(function(t,e){var n=t.type,o=n===void 0?"source":n,r=t.position,a=r===void 0?N.Top:r,l=t.isValidConnection,i=l===void 0?jr:l,d=t.isConnectable,v=d===void 0?!0:d,s=t.id,u=t.onConnect,f=t.children,p=t.className,g=t.onMouseDown,b=ot(t,Br),m=le(),y=(0,c.useContext)(Rt),E=te(zr,ve),w=E.connectionStartHandle,S=E.connectOnClick,h=s||null,C=o==="target",P=function(D){var j=m.getState(),z=j.defaultEdgeOptions,I=j.onConnect,H=j.hasDefaultEdges,A=Lt(Lt({},z),D);if(H){var L=m.getState(),X=L.edges;m.setState({edges:er(A,X)})}I==null||I(A),u==null||u(A)},O=function(D){D.button===0&&Ln({event:D,handleId:h,nodeId:y,onConnect:P,isTarget:C,getState:m.getState,setState:m.setState,isValidConnection:i}),g==null||g(D)},x=function(D){var j=m.getState(),z=j.onClickConnectStart,I=j.onClickConnectStop,H=j.onClickConnectEnd,A=j.connectionMode;if(!w){z==null||z(D,{nodeId:y,handleId:h,handleType:o}),m.setState({connectionStartHandle:{nodeId:y,type:o,handleId:h}});return}var L=Jt(D.target),X=$t(D,A,w.type==="target",w.nodeId,w.handleId||null,i,L),T=X.connection,V=X.isValid;I==null||I(D),V&&P(T),H==null||H(D),m.setState({connectionStartHandle:null})};return c.createElement("div",Lt({"data-handleid":h,"data-nodeid":y,"data-handlepos":a,className:(0,pe.Z)(["react-flow__handle","react-flow__handle-".concat(a),"nodrag",p,{source:!C,target:C,connectable:v,connecting:(w==null?void 0:w.nodeId)===y&&(w==null?void 0:w.handleId)===h&&(w==null?void 0:w.type)===o}]),onMouseDown:O,onClick:S?x:void 0,ref:e},b),f)});Hn.displayName="Handle";var st=(0,c.memo)(Hn),Vn=function(e){var n=e.data,o=e.isConnectable,r=e.targetPosition,a=r===void 0?N.Top:r,l=e.sourcePosition,i=l===void 0?N.Bottom:l;return c.createElement(c.Fragment,null,c.createElement(st,{type:"target",position:a,isConnectable:o}),n==null?void 0:n.label,c.createElement(st,{type:"source",position:i,isConnectable:o}))};Vn.displayName="DefaultNode";var Zt=(0,c.memo)(Vn),Yn=function(e){var n=e.data,o=e.isConnectable,r=e.sourcePosition,a=r===void 0?N.Bottom:r;return c.createElement(c.Fragment,null,n==null?void 0:n.label,c.createElement(st,{type:"source",position:a,isConnectable:o}))};Yn.displayName="InputNode";var Xn=(0,c.memo)(Yn),Un=function(e){var n=e.data,o=e.isConnectable,r=e.targetPosition,a=r===void 0?N.Top:r;return c.createElement(c.Fragment,null,c.createElement(st,{type:"target",position:a,isConnectable:o}),n==null?void 0:n.label)};Un.displayName="OutputNode";var Kn=(0,c.memo)(Un),Ir=function(e){return{selectedNodes:Array.from(e.nodeInternals.values()).filter(function(n){return n.selected}),selectedEdges:e.edges.filter(function(n){return n.selected})}},Ar=function(e,n){var o=e.selectedNodes.map(function(i){return i.id}),r=n.selectedNodes.map(function(i){return i.id}),a=e.selectedEdges.map(function(i){return i.id}),l=n.selectedEdges.map(function(i){return i.id});return ve(o,r)&&ve(a,l)};function Rr(t){var e=t.onSelectionChange,n=te(Ir,Ar),o=n.selectedNodes,r=n.selectedEdges;return(0,c.useEffect)(function(){e({nodes:o,edges:r})},[o,r]),null}var $r=(0,c.memo)(Rr),Tr=function(e){return{setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset}};function Ee(t,e){(0,c.useEffect)(function(){typeof t!="undefined"&&e(t)},[t])}function W(t,e,n){(0,c.useEffect)(function(){typeof e!="undefined"&&n(R({},t,e))},[e])}var Lr=function(e){var n=e.nodes,o=e.edges,r=e.defaultNodes,a=e.defaultEdges,l=e.onConnect,i=e.onConnectStart,d=e.onConnectStop,v=e.onConnectEnd,s=e.onClickConnectStart,u=e.onClickConnectStop,f=e.onClickConnectEnd,p=e.nodesDraggable,g=e.nodesConnectable,b=e.minZoom,m=e.maxZoom,y=e.nodeExtent,E=e.onNodesChange,w=e.onEdgesChange,S=e.elementsSelectable,h=e.connectionMode,C=e.snapGrid,P=e.snapToGrid,O=e.translateExtent,x=e.connectOnClick,B=e.defaultEdgeOptions,D=e.fitView,j=e.fitViewOptions,z=e.onNodesDelete,I=e.onEdgesDelete,H=e.onNodeDrag,A=e.onNodeDragStart,L=e.onNodeDragStop,X=e.onSelectionDrag,T=e.onSelectionDragStart,V=e.onSelectionDragStop,U=te(Tr,ve),Q=U.setNodes,Z=U.setEdges,F=U.setDefaultNodesAndEdges,_=U.setMinZoom,ee=U.setMaxZoom,M=U.setTranslateExtent,K=U.setNodeExtent,G=U.reset,k=le();return(0,c.useEffect)(function(){return F(r,a),function(){G()}},[]),W("defaultEdgeOptions",B,k.setState),W("connectionMode",h,k.setState),W("onConnect",l,k.setState),W("onConnectStart",i,k.setState),W("onConnectStop",d,k.setState),W("onConnectEnd",v,k.setState),W("onClickConnectStart",s,k.setState),W("onClickConnectStop",u,k.setState),W("onClickConnectEnd",f,k.setState),W("nodesDraggable",p,k.setState),W("nodesConnectable",g,k.setState),W("elementsSelectable",S,k.setState),W("snapToGrid",P,k.setState),W("snapGrid",C,k.setState),W("onNodesChange",E,k.setState),W("onEdgesChange",w,k.setState),W("connectOnClick",x,k.setState),W("fitViewOnInit",D,k.setState),W("fitViewOnInitOptions",j,k.setState),W("onNodesDelete",z,k.setState),W("onEdgesDelete",I,k.setState),W("onNodeDrag",H,k.setState),W("onNodeDragStart",A,k.setState),W("onNodeDragStop",L,k.setState),W("onSelectionDrag",X,k.setState),W("onSelectionDragStart",T,k.setState),W("onSelectionDragStop",V,k.setState),Ee(n,Q),Ee(o,Z),Ee(r,Q),Ee(a,Z),Ee(b,_),Ee(m,ee),Ee(O,M),Ee(y,K),null},Zr=".react-flow{height:100%;overflow:hidden;position:relative;width:100%}.react-flow__container{height:100%;left:0;position:absolute;top:0;width:100%}.react-flow__pane{z-index:1}.react-flow__viewport{pointer-events:none;transform-origin:0 0;z-index:2}.react-flow__renderer{z-index:4}.react-flow__selectionpane{z-index:5}.react-flow .react-flow__edges{overflow:visible;pointer-events:none}.react-flow .react-flow__connectionline{z-index:1001}.react-flow__edge{pointer-events:visibleStroke}.react-flow__edge.inactive{pointer-events:none}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edge-path{fill:none}.react-flow__edge-textwrapper{pointer-events:all}.react-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__connection{pointer-events:none}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connection-path{fill:none}.react-flow__nodes{pointer-events:none;transform-origin:0 0}.react-flow__node{box-sizing:border-box;pointer-events:all;position:absolute;transform-origin:0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__nodesselection{pointer-events:none;transform-origin:left top;z-index:3}.react-flow__nodesselection-rect{cursor:-webkit-grab;cursor:grab;pointer-events:all;position:absolute}.react-flow__handle{pointer-events:none;position:absolute}.react-flow__handle.connectable{pointer-events:all}.react-flow__handle-bottom{bottom:-4px;left:50%;top:auto;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{left:-4px;top:50%;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move;pointer-events:all}.react-flow__controls{bottom:20px;left:15px;position:absolute;z-index:5}.react-flow__controls-button{border:none;height:24px;width:24px}.react-flow__controls-button svg{width:100%}.react-flow__minimap{bottom:20px;position:absolute;right:15px;z-index:5}.react-flow__attribution{background:hsla(0,0%,100%,.5);color:#999;font-size:10px;padding:2px 3px;position:absolute;z-index:1000}.react-flow__attribution a{color:#555;text-decoration:none}.react-flow__attribution.top{top:0}.react-flow__attribution.bottom{bottom:0}.react-flow__attribution.left{left:0}.react-flow__attribution.right{right:0}.react-flow__attribution.center{left:50%;transform:translateX(-50%)}",Hr=Zr,Vr=".react-flow__edge.selected .react-flow__edge-path{stroke:#555}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}.react-flow__edge-path{stroke:#b1b1b7;stroke-width:1}.react-flow__edge-text{font-size:10px}.react-flow__edge-textbg{fill:#fff}.react-flow__connection-path{stroke:#b1b1b7;stroke-width:1}.react-flow__node{cursor:-webkit-grab;cursor:grab}.react-flow__node-default,.react-flow__node-group,.react-flow__node-input,.react-flow__node-output{background:#fff;border:1px solid #1a192b;border-radius:3px;color:#222;font-size:12px;padding:10px;text-align:center;width:150px}.react-flow__node-default.selected,.react-flow__node-group.selected,.react-flow__node-input.selected,.react-flow__node-output.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-default .react-flow__handle,.react-flow__node-group .react-flow__handle,.react-flow__node-input .react-flow__handle,.react-flow__node-output .react-flow__handle{background:#1a192b}.react-flow__node-default.selectable:hover,.react-flow__node-group.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover{box-shadow:0 1px 4px 1px rgba(0,0,0,.08)}.react-flow__node-default.selectable.selected,.react-flow__node-group.selectable.selected,.react-flow__node-input.selectable.selected,.react-flow__node-output.selectable.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-group{background:hsla(0,0%,94%,.25);border-color:#1a192b}.react-flow__nodesselection-rect,.react-flow__selection{background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__handle{background:#555;border:1px solid #fff;border-radius:100%;height:6px;width:6px}.react-flow__handle.connectable{cursor:crosshair}.react-flow__minimap{background-color:#fff}.react-flow__controls{box-shadow:0 0 2px 1px rgba(0,0,0,.08)}.react-flow__controls-button{align-items:center;background:#fefefe;border-bottom:1px solid #eee;box-sizing:content-box;cursor:pointer;display:flex;height:16px;justify-content:center;padding:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:16px}.react-flow__controls-button svg{max-height:12px;max-width:12px}.react-flow__controls-button:hover{background:#f4f4f4}",Yr=Vr,Xr=function(e,n,o){return o===N.Left?e-n:o===N.Right?e+n:e},Ur=function(e,n,o){return o===N.Top?e-n:o===N.Bottom?e+n:e},Wn=function(e){var n=e.className,o=e.position,r=e.centerX,a=e.centerY,l=e.radius,i=l===void 0?10:l;return c.createElement("circle",{className:(0,pe.Z)(["react-flow__edgeupdater",n]),cx:Xr(r,i,o),cy:Ur(a,i,o),r:i,stroke:"transparent",fill:"transparent"})},He=function(t){var e=function(o){var r=o.id,a=o.className,l=o.type,i=o.data,d=o.onClick,v=o.onEdgeDoubleClick,s=o.selected,u=o.animated,f=o.label,p=o.labelStyle,g=o.labelShowBg,b=o.labelBgStyle,m=o.labelBgPadding,y=o.labelBgBorderRadius,E=o.style,w=o.source,S=o.target,h=o.sourceX,C=o.sourceY,P=o.targetX,O=o.targetY,x=o.sourcePosition,B=o.targetPosition,D=o.elementsSelectable,j=o.hidden,z=o.sourceHandleId,I=o.targetHandleId,H=o.onContextMenu,A=o.onMouseEnter,L=o.onMouseMove,X=o.onMouseLeave,T=o.edgeUpdaterRadius,V=o.onEdgeUpdate,U=o.onEdgeUpdateStart,Q=o.onEdgeUpdateEnd,Z=o.markerEnd,F=o.markerStart,_=o.rfId,ee=(0,c.useState)(!1),M=Y(ee,2),K=M[0],G=M[1],k=le(),ce=function(he){var ye=k.getState(),Ke=ye.edges,We=ye.addSelectedEdges,Oe=Ke.find(function(Fe){return Fe.id===r});D&&(k.setState({nodesSelectionActive:!1}),We([r])),d==null||d(he,Oe)},ge=qe(r,k.getState,v),be=qe(r,k.getState,H),Ce=qe(r,k.getState,A),et=qe(r,k.getState,L),Ye=qe(r,k.getState,X),ke=function(he,ye){var Ke=ye?S:w,We=(ye?I:z)||null,Oe=ye?"target":"source",Fe=function(){return!0},Wt=ye,Ge=k.getState().edges.find(function(Pe){return Pe.id===r});U==null||U(he,Ge,Oe);var Ft=Q?function(Pe){return Q(Pe,Ge,Oe)}:void 0,mt=function(ht){return V==null?void 0:V(Ge,ht)};Ln({event:he,handleId:We,nodeId:Ke,onConnect:mt,isTarget:Wt,getState:k.getState,setState:k.setState,isValidConnection:Fe,elementEdgeUpdaterType:Oe,onEdgeUpdateEnd:Ft})},Xe=function(he){return ke(he,!0)},Be=function(he){return ke(he,!1)},je=function(){return G(!0)},Ue=function(){return G(!1)},gt=(0,c.useMemo)(function(){return"url(#".concat(St(F,_),")")},[F,_]),Ut=(0,c.useMemo)(function(){return"url(#".concat(St(Z,_),")")},[Z,_]);if(j)return null;var ft=!D&&!d,pt=typeof V!="undefined",Kt=(0,pe.Z)(["react-flow__edge","react-flow__edge-".concat(l),a,{selected:s,animated:u,inactive:ft,updating:K}]);return c.createElement("g",{className:Kt,onClick:ce,onDoubleClick:ge,onContextMenu:be,onMouseEnter:Ce,onMouseMove:et,onMouseLeave:Ye},c.createElement(t,{id:r,source:w,target:S,selected:s,animated:u,label:f,labelStyle:p,labelShowBg:g,labelBgStyle:b,labelBgPadding:m,labelBgBorderRadius:y,data:i,style:E,sourceX:h,sourceY:C,targetX:P,targetY:O,sourcePosition:x,targetPosition:B,sourceHandleId:z,targetHandleId:I,markerStart:gt,markerEnd:Ut,"data-testid":"rf__edge-".concat(r)}),pt&&c.createElement("g",{onMouseDown:Xe,onMouseEnter:je,onMouseOut:Ue},c.createElement(Wn,{position:x,centerX:h,centerY:C,radius:T})),pt&&c.createElement("g",{onMouseDown:Be,onMouseEnter:je,onMouseOut:Ue},c.createElement(Wn,{position:B,centerX:P,centerY:O,radius:T})))};return e.displayName="EdgeWrapper",(0,c.memo)(e)};function Fn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fn(Object(n),!0).forEach(function(o){R(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Kr(t){var e={default:He(t.default||At),straight:He(t.bezier||$n),step:He(t.step||Rn),smoothstep:He(t.step||It),simplebezier:He(t.simplebezier||kn)},n={},o=Object.keys(t).filter(function(r){return!["default","bezier"].includes(r)}).reduce(function(r,a){return r[a]=He(t[a]||At),r},n);return Gn(Gn({},e),o)}function Qn(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=((n==null?void 0:n.x)||0)+e.x,r=((n==null?void 0:n.y)||0)+e.y,a=(n==null?void 0:n.width)||e.width,l=(n==null?void 0:n.height)||e.height;switch(t){case N.Top:return{x:o+a/2,y:r};case N.Right:return{x:o+a,y:r+l/2};case N.Bottom:return{x:o+a/2,y:r+l};case N.Left:return{x:o,y:r+l/2}}}function Jn(t,e){if(!t)return null;var n=null;return t.length===1||!e?n=t[0]:e&&(n=t.find(function(o){return o.id===e})),typeof n=="undefined"?null:n}var Wr=function(e,n,o,r,a,l){var i=Qn(o,e,n),d=Qn(l,r,a);return{sourceX:i.x,sourceY:i.y,targetX:d.x,targetY:d.y}};function Fr(t){var e=t.sourcePos,n=t.targetPos,o=t.sourceWidth,r=t.sourceHeight,a=t.targetWidth,l=t.targetHeight,i=t.width,d=t.height,v=t.transform,s={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x+o,n.x+a),y2:Math.max(e.y+r,n.y+l)};s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);var u=$e({x:(0-v[0])/v[2],y:(0-v[1])/v[2],width:i/v[2],height:d/v[2]}),f=Math.max(0,Math.min(u.x2,s.x2)-Math.max(u.x,s.x)),p=Math.max(0,Math.min(u.y2,s.y2)-Math.max(u.y,s.y)),g=Math.ceil(f*p);return g>0}function qn(t,e){var n,o,r,a,l,i=t.get(e),d=(i==null||(n=i[ne])===null||n===void 0?void 0:n.handleBounds)||null,v=!i||!d||!i.width||!i.height||typeof((o=i.positionAbsolute)===null||o===void 0?void 0:o.x)=="undefined"||typeof((r=i.positionAbsolute)===null||r===void 0?void 0:r.y)=="undefined";return[{x:(i==null||(a=i.positionAbsolute)===null||a===void 0?void 0:a.x)||0,y:(i==null||(l=i.positionAbsolute)===null||l===void 0?void 0:l.y)||0,width:(i==null?void 0:i.width)||0,height:(i==null?void 0:i.height)||0},d,!v]}var Gr=typeof document!="undefined"?document:null,dt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{target:Gr},n=(0,c.useState)(!1),o=Y(n,2),r=o[0],a=o[1],l=(0,c.useRef)(new Set([])),i=(0,c.useMemo)(function(){if(t!==null){var u=Array.isArray(t)?t:[t],f=u.filter(function(g){return typeof g=="string"}).map(function(g){return g.split("+")}),p=f.reduce(function(g,b){return g.concat.apply(g,De(b))},[]);return[f,p]}return[[],[]]},[t]),d=Y(i,2),v=d[0],s=d[1];return(0,c.useEffect)(function(){if(t!==null){var u,f,p=function(y){if(to(y))return!1;var E=eo(y.code,s);l.current.add(y[E]),_n(v,l.current,!1)&&(y.preventDefault(),a(!0))},g=function(y){if(to(y))return!1;var E=eo(y.code,s);_n(v,l.current,!0)?(a(!1),l.current.clear()):l.current.delete(y[E])},b=function(){l.current.clear(),a(!1)};return e==null||(u=e.target)===null||u===void 0||u.addEventListener("keydown",p),e==null||(f=e.target)===null||f===void 0||f.addEventListener("keyup",g),window.addEventListener("blur",b),function(){var m,y;e==null||(m=e.target)===null||m===void 0||m.removeEventListener("keydown",p),e==null||(y=e.target)===null||y===void 0||y.removeEventListener("keyup",g),window.removeEventListener("blur",b)}}},[t,a]),r};function _n(t,e,n){return t.filter(function(o){return n||o.length===e.size}).some(function(o){return o.every(function(r){return e.has(r)})})}function eo(t,e){return e.includes(t)?"code":"key"}function to(t){var e,n=((e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))}var Qr=function(e){return{onNodesChange:e.onNodesChange,onEdgesChange:e.onEdgesChange}},Jr=function(t){var e=t.deleteKeyCode,n=t.multiSelectionKeyCode,o=le(),r=te(Qr,ve),a=r.onNodesChange,l=r.onEdgesChange,i=dt(e),d=dt(n);(0,c.useEffect)(function(){var v=o.getState(),s=v.nodeInternals,u=v.edges,f=v.hasDefaultNodes,p=v.hasDefaultEdges,g=v.onNodesDelete,b=v.onEdgesDelete,m=Array.from(s.values()),y=m.reduce(function(O,x){return(!x.selected&&x.parentNode&&O.find(function(B){return B.id===x.parentNode})||x.selected)&&O.push(x),O},[]),E=u.filter(function(O){return O.selected});if(i&&(y||E)){var w=pn(y,u),S=[].concat(De(E),De(w)),h=S.reduce(function(O,x){return O.includes(x.id)||O.push(x.id),O},[]);if((p||f)&&(p&&o.setState({edges:u.filter(function(O){return!h.includes(O.id)})}),f&&(y.forEach(function(O){s.delete(O.id)}),o.setState({nodeInternals:new Map(s)}))),h.length>0&&(b==null||b(S),l)){var C=h.map(function(O){return{id:O,type:"remove"}});l(C)}if(y.length>0&&(g==null||g(y),a)){var P=y.map(function(O){return{id:O.id,type:"remove"}});a(P)}o.setState({nodesSelectionActive:!1})}},[i,a,l]),(0,c.useEffect)(function(){o.setState({multiSelectionActive:d})},[d])};function qr(t){var e=le();(0,c.useEffect)(function(){var n,o=function(){if(t.current){var a=bt(t.current);e.setState({width:a.width||500,height:a.height||500})}};return o(),window.onresize=o,t.current&&(n=new ResizeObserver(function(){return o()}),n.observe(t.current)),function(){window.onresize=null,n&&t.current&&n.unobserve(t.current)}},[])}var _r=function(e,n){return e.x!==n.x||e.y!==n.y||e.zoom!==n.k},Ht=function(e){return{x:e.x,y:e.y,zoom:e.k}},ut=function(e,n){return e.target.closest(".".concat(n))},ea=function(e){return{d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler}},ta=function(e){var n=e.onMove,o=e.onMoveStart,r=e.onMoveEnd,a=e.zoomOnScroll,l=a===void 0?!0:a,i=e.zoomOnPinch,d=i===void 0?!0:i,v=e.panOnScroll,s=v===void 0?!1:v,u=e.panOnScrollSpeed,f=u===void 0?.5:u,p=e.panOnScrollMode,g=p===void 0?Ae.Free:p,b=e.zoomOnDoubleClick,m=b===void 0?!0:b,y=e.selectionKeyPressed,E=e.elementsSelectable,w=e.panOnDrag,S=w===void 0?!0:w,h=e.translateExtent,C=e.minZoom,P=e.maxZoom,O=e.defaultZoom,x=O===void 0?1:O,B=e.defaultPosition,D=B===void 0?[0,0]:B,j=e.zoomActivationKeyCode,z=e.preventScrolling,I=z===void 0?!0:z,H=e.children,A=e.noWheelClassName,L=e.noPanClassName,X=le(),T=(0,c.useRef)(!1),V=(0,c.useRef)(null),U=(0,c.useRef)({x:0,y:0,zoom:0}),Q=te(ea,ve),Z=Q.d3Zoom,F=Q.d3Selection,_=Q.d3ZoomHandler,ee=dt(j);return qr(V),(0,c.useEffect)(function(){if(V.current){var M,K=(0,q.sP)().scaleExtent([C,P]).translateExtent(h),G=(0,Nn.Z)(V.current).call(K),k=Re(D[0],h[0][0],h[1][0]),ce=Re(D[1],h[0][1],h[1][1]),ge=Re(x,C,P),be=q.CR.translate(k,ce).scale(ge);K.transform(G,be),X.setState({d3Zoom:K,d3Selection:G,d3ZoomHandler:G.on("wheel.zoom"),transform:[k,ce,ge],domNode:(M=G.node())===null||M===void 0?void 0:M.closest(".react-flow")})}},[]),(0,c.useEffect)(function(){F&&Z&&(s&&!ee?F.on("wheel",function(M){if(ut(M,A))return!1;M.preventDefault(),M.stopImmediatePropagation();var K=F.property("__zoom").k||1;if(M.ctrlKey&&d){var G=(0,br.Z)(M),k=-M.deltaY*(M.deltaMode===1?.05:M.deltaMode?1:.002)*10,ce=K*Math.pow(2,k);Z.scaleTo(F,ce,G);return}var ge=M.deltaMode===1?20:1,be=g===Ae.Vertical?0:M.deltaX*ge,Ce=g===Ae.Horizontal?0:M.deltaY*ge;Z.translateBy(F,-(be/K)*f,-(Ce/K)*f)}).on("wheel.zoom",null):typeof _!="undefined"&&F.on("wheel",function(M){if(!I||ut(M,A))return null;M.preventDefault()}).on("wheel.zoom",_))},[s,g,F,Z,_,ee,d,I,A]),(0,c.useEffect)(function(){Z&&(y&&!T.current?Z.on("zoom",null):y||Z.on("zoom",function(M){if(X.setState({transform:[M.transform.x,M.transform.y,M.transform.k]}),n){var K=Ht(M.transform);n(M.sourceEvent,K)}}))},[y,Z,n]),(0,c.useEffect)(function(){Z&&Z.on("start",function(M){if(T.current=!0,o){var K=Ht(M.transform);U.current=K,o(M.sourceEvent,K)}})},[Z,o]),(0,c.useEffect)(function(){Z&&Z.on("end",function(M){if(T.current=!1,r&&_r(U.current,M.transform)){var K=Ht(M.transform);U.current=K,r(M.sourceEvent,K)}})},[Z,r]),(0,c.useEffect)(function(){Z&&Z.filter(function(M){var K=ee||l,G=d&&M.ctrlKey;return!S&&!K&&!s&&!m&&!d||y||!m&&M.type==="dblclick"||ut(M,A)&&M.type==="wheel"||ut(M,L)&&M.type!=="wheel"||!d&&M.ctrlKey&&M.type==="wheel"||!K&&!s&&!G&&M.type==="wheel"||!S&&(M.type==="mousedown"||M.type==="touchstart")?!1:(!M.ctrlKey||M.type==="wheel")&&!M.button})},[Z,l,d,s,m,S,y,E,ee]),c.createElement("div",{className:"react-flow__renderer react-flow__container",ref:V},H)};function no(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function oo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?no(Object(n),!0).forEach(function(o){R(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):no(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function ro(t,e){return{x:t.clientX-e.left,y:t.clientY-e.top}}var na=function(e){return{userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable}},ao={startX:0,startY:0,x:0,y:0,width:0,height:0,draw:!1},oa=(0,c.memo)(function(t){var e=t.selectionKeyPressed,n=le(),o=(0,c.useRef)(0),r=(0,c.useRef)(0),a=(0,c.useRef)(),l=(0,c.useState)(ao),i=Y(l,2),d=i[0],v=i[1],s=te(na,ve),u=s.userSelectionActive,f=s.elementsSelectable,p=u||e;if(!f||!p)return null;var g=function(){v(ao),n.setState({userSelectionActive:!1}),o.current=0,r.current=0},b=function(S){var h=S.target.closest(".react-flow");a.current=h.getBoundingClientRect();var C=ro(S,a.current);v({width:0,height:0,startX:C.x,startY:C.y,x:C.x,y:C.y,draw:!0}),n.setState({userSelectionActive:!0,nodesSelectionActive:!1})},m=function(S){var h,C;if(!(!e||!d.draw||!a.current)){var P=ro(S,a.current),O=(h=d.startX)!==null&&h!==void 0?h:0,x=(C=d.startY)!==null&&C!==void 0?C:0,B=oo(oo({},d),{},{x:P.x<O?P.x:O,y:P.y<x?P.y:x,width:Math.abs(P.x-O),height:Math.abs(P.y-x)}),D=n.getState(),j=D.nodeInternals,z=D.edges,I=D.transform,H=D.onNodesChange,A=D.onEdgesChange,L=Array.from(j.values()),X=fn(j,B,I,!1,!0),T=pn(X,z).map(function(Z){return Z.id}),V=X.map(function(Z){return Z.id});if(o.current!==V.length){o.current=V.length;var U=Te(L,V);U.length&&(H==null||H(U))}if(r.current!==T.length){r.current=T.length;var Q=Te(z,T);Q.length&&(A==null||A(Q))}v(B)}},y=function(){n.setState({nodesSelectionActive:o.current>0}),g()},E=function(){n.setState({nodesSelectionActive:!1}),g()};return c.createElement("div",{className:"react-flow__selectionpane react-flow__container",onMouseDown:b,onMouseMove:m,onMouseUp:y,onMouseLeave:E},d.draw&&c.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:d.width,height:d.height,transform:"translate(".concat(d.x,"px, ").concat(d.y,"px)")}}))});function io(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function lo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?io(Object(n),!0).forEach(function(o){R(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):io(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function co(t,e){if(!t.parentNode)return!1;var n=e.get(t.parentNode);return n?n.selected?!0:co(n,e):!1}function so(t,e,n){var o=t;do{var r;if((r=o)!==null&&r!==void 0&&r.matches(e))return!0;if(o===n.current)return!1;o=o.parentElement}while(o);return!1}function ra(t,e,n){return Array.from(t.values()).filter(function(o){return(o.selected||o.id===n)&&(!o.parentNode||!co(o,t))}).map(function(o){var r,a,l,i;return{id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:e.x-((r=(a=o.positionAbsolute)===null||a===void 0?void 0:a.x)!==null&&r!==void 0?r:0),y:e.y-((l=(i=o.positionAbsolute)===null||i===void 0?void 0:i.y)!==null&&l!==void 0?l:0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode,width:o.width,height:o.height}})}function aa(t,e,n,o,r,a){var l=Y(o,2),i=l[0],d=l[1],v=t.extent||a,s={x:e.x-t.distance.x,y:e.y-t.distance.y};if(n&&(s.x=i*Math.round(s.x/i),s.y=d*Math.round(s.y/d)),t.extent==="parent")if(t.parentNode&&t.width&&t.height){var u=r.get(t.parentNode);v=u!=null&&u.positionAbsolute&&u!==null&&u!==void 0&&u.width&&u!==null&&u!==void 0&&u.height?[[u.positionAbsolute.x,u.positionAbsolute.y],[u.positionAbsolute.x+u.width-t.width,u.positionAbsolute.y+u.height-t.height]]:v}else v=a;else if(t.extent&&t.parentNode){var f,p,g,b,m=r.get(t.parentNode),y=(f=m==null||(p=m.positionAbsolute)===null||p===void 0?void 0:p.x)!==null&&f!==void 0?f:0,E=(g=m==null||(b=m.positionAbsolute)===null||b===void 0?void 0:b.y)!==null&&g!==void 0?g:0;v=[[t.extent[0][0]+y,t.extent[0][1]+E],[t.extent[1][0]+y,t.extent[1][1]+E]]}var w={x:0,y:0};if(t.parentNode){var S,h,C,P,O=r.get(t.parentNode);w={x:(S=O==null||(h=O.positionAbsolute)===null||h===void 0?void 0:h.x)!==null&&S!==void 0?S:0,y:(C=O==null||(P=O.positionAbsolute)===null||P===void 0?void 0:P.y)!==null&&C!==void 0?C:0}}return t.positionAbsolute=v?Qt(s,v):s,t.position={x:t.positionAbsolute.x-w.x,y:t.positionAbsolute.y-w.y},t}function Vt(t){var e=t.nodeId,n=t.dragItems,o=t.nodeInternals,r=n.map(function(a){var l=o.get(a.id);return lo(lo({},l),{},{position:a.position,positionAbsolute:a.positionAbsolute})});return[e?r.find(function(a){return a.id===e}):r[0],r]}function Yt(t){return function(e,n,o){return t==null?void 0:t(e,o)}}function uo(t){var e=t.nodeRef,n=t.disabled,o=n===void 0?!1:n,r=t.noDragClassName,a=t.handleSelector,l=t.nodeId,i=t.isSelectable,d=t.selectNodesOnDrag,v=(0,c.useState)(!1),s=Y(v,2),u=s[0],f=s[1],p=le(),g=(0,c.useRef)(),b=(0,c.useRef)({x:null,y:null}),m=(0,c.useCallback)(function(y){var E=y.sourceEvent,w=p.getState(),S=w.transform,h=w.snapGrid,C=w.snapToGrid,P=E.touches?E.touches[0].clientX:E.clientX,O=E.touches?E.touches[0].clientY:E.clientY,x=gn({x:P,y:O},S,C,h);return x},[]);return(0,c.useEffect)(function(){if(e!=null&&e.current){var y=(0,Nn.Z)(e.current);if(o)y.on(".drag",null);else{var E=(0,Sr.Z)().on("start",function(w){var S=p.getState(),h=S.nodeInternals,C=S.multiSelectionActive,P=S.unselectNodesAndEdges,O=S.onNodeDragStart,x=S.onSelectionDragStart,B=l?O:Yt(x);if(!d&&!C&&l){var D;(D=h.get(l))!==null&&D!==void 0&&D.selected||P()}l&&i&&d&&sn({id:l,store:p});var j=m(w);if(b.current=j,g.current=ra(h,j,l),B&&g.current){var z=Vt({nodeId:l,dragItems:g.current,nodeInternals:h}),I=Y(z,2),H=I[0],A=I[1];B(w.sourceEvent,H,A)}}).on("drag",function(w){var S=p.getState(),h=S.updateNodePositions,C=S.snapToGrid,P=S.snapGrid,O=S.nodeInternals,x=S.nodeExtent,B=S.onNodeDrag,D=S.onSelectionDrag,j=m(w);if((b.current.x!==j.x||b.current.y!==j.y)&&g.current){b.current=j,g.current=g.current.map(function(X){return aa(X,j,C,P,O,x)});var z=l?B:Yt(D);if(h(g.current,!0,!0),f(!0),z){var I=Vt({nodeId:l,dragItems:g.current,nodeInternals:O}),H=Y(I,2),A=H[0],L=H[1];z(w.sourceEvent,A,L)}}w.on("end",function(X){if(f(!1),g.current){var T=p.getState(),V=T.updateNodePositions,U=T.nodeInternals,Q=T.onNodeDragStop,Z=T.onSelectionDragStop,F=l?Q:Yt(Z);if(V(g.current,!1,!1),F){var _=Vt({nodeId:l,dragItems:g.current,nodeInternals:U}),ee=Y(_,2),M=ee[0],K=ee[1];F(X.sourceEvent,M,K)}}})}).filter(function(w){var S=w.target,h=!w.button&&(!r||!so(S,".".concat(r),e))&&(!a||so(S,a,e));return h});return y.call(E),function(){y.on(".drag",null)}}}},[e,o,r,a,i,p,l,d,m]),u}function vo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function ia(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vo(Object(n),!0).forEach(function(o){R(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vo(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var la=function(e){return ia({transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")"),userSelectionActive:e.userSelectionActive},wt(Array.from(e.nodeInternals.values()).filter(function(n){return n.selected})))},ca=function(e){var n=Array.from(e.nodeInternals.values()).filter(function(o){return o.selected});return wt(n)};function sa(t){var e=t.onSelectionContextMenu,n=t.noPanClassName,o=le(),r=te(la,ve),a=r.transformString,l=r.userSelectionActive,i=te(ca,ve),d=i.width,v=i.height,s=i.x,u=i.y,f=(0,c.useRef)(null);if(uo({nodeRef:f}),l||!d||!v)return null;var p=e?function(g){var b=Array.from(o.getState().nodeInternals.values()).filter(function(m){return m.selected});e(g,b)}:void 0;return c.createElement("div",{className:(0,pe.Z)(["react-flow__nodesselection","react-flow__container",n]),style:{transform:a}},c.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:p,style:{width:d,height:v,top:u,left:s}}))}var da=(0,c.memo)(sa),ua=function(e){return e.nodesSelectionActive},go=function(e){var n=e.children,o=e.onPaneClick,r=e.onPaneContextMenu,a=e.onPaneScroll,l=e.deleteKeyCode,i=e.onMove,d=e.onMoveStart,v=e.onMoveEnd,s=e.selectionKeyCode,u=e.multiSelectionKeyCode,f=e.zoomActivationKeyCode,p=e.elementsSelectable,g=e.zoomOnScroll,b=e.zoomOnPinch,m=e.panOnScroll,y=e.panOnScrollSpeed,E=e.panOnScrollMode,w=e.zoomOnDoubleClick,S=e.panOnDrag,h=e.translateExtent,C=e.minZoom,P=e.maxZoom,O=e.defaultZoom,x=e.defaultPosition,B=e.preventScrolling,D=e.onSelectionContextMenu,j=e.noWheelClassName,z=e.noPanClassName,I=le(),H=te(ua),A=dt(s);Jr({deleteKeyCode:l,multiSelectionKeyCode:u});var L=function(U){o==null||o(U),I.getState().resetSelectedElements(),I.setState({nodesSelectionActive:!1})},X=r?function(V){return r(V)}:void 0,T=a?function(V){return a(V)}:void 0;return c.createElement(ta,{onMove:i,onMoveStart:d,onMoveEnd:v,selectionKeyPressed:A,elementsSelectable:p,zoomOnScroll:g,zoomOnPinch:b,panOnScroll:m,panOnScrollSpeed:y,panOnScrollMode:E,zoomOnDoubleClick:w,panOnDrag:S,translateExtent:h,minZoom:C,maxZoom:P,defaultZoom:O,defaultPosition:x,zoomActivationKeyCode:f,preventScrolling:B,noWheelClassName:j,noPanClassName:z},n,c.createElement(oa,{selectionKeyPressed:A}),H&&c.createElement(da,{onSelectionContextMenu:D,noPanClassName:z}),c.createElement("div",{className:"react-flow__pane react-flow__container",onClick:L,onContextMenu:X,onWheel:T}))};go.displayName="FlowRenderer";var va=(0,c.memo)(go);function ga(t){var e=te((0,c.useCallback)(function(n){return t?fn(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):Array.from(n.nodeInternals.values())},[t]));return e}var fa=function(e){return{nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions}},fo=function(e){var n=te(fa,ve),o=n.nodesDraggable,r=n.nodesConnectable,a=n.elementsSelectable,l=n.updateNodeDimensions,i=ga(e.onlyRenderVisibleElements),d=(0,c.useRef)(),v=(0,c.useMemo)(function(){if(typeof ResizeObserver=="undefined")return null;var s=new ResizeObserver(function(u){var f=u.map(function(p){return{id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}});l(f)});return d.current=s,s},[]);return(0,c.useEffect)(function(){return function(){var s;d==null||(s=d.current)===null||s===void 0||s.disconnect()}},[]),c.createElement("div",{className:"react-flow__nodes react-flow__container"},i.map(function(s){var u,f,p,g,b,m,y,E=s.type||"default";e.nodeTypes[E]||(E="default");var w=e.nodeTypes[E]||e.nodeTypes.default,S=!!(s.draggable||o&&typeof s.draggable=="undefined"),h=!!(s.selectable||a&&typeof s.selectable=="undefined"),C=!!(s.connectable||r&&typeof s.connectable=="undefined");return c.createElement(w,{key:s.id,id:s.id,className:s.className,style:s.style,type:E,data:s.data,sourcePosition:s.sourcePosition||N.Bottom,targetPosition:s.targetPosition||N.Top,hidden:s.hidden,xPos:(u=(f=s.positionAbsolute)===null||f===void 0?void 0:f.x)!==null&&u!==void 0?u:0,yPos:(p=(g=s.positionAbsolute)===null||g===void 0?void 0:g.y)!==null&&p!==void 0?p:0,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!s.selected,isDraggable:S,isSelectable:h,isConnectable:C,resizeObserver:v,dragHandle:s.dragHandle,zIndex:(b=(m=s[ne])===null||m===void 0?void 0:m.z)!==null&&b!==void 0?b:0,isParent:!!((y=s[ne])!==null&&y!==void 0&&y.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!s.width&&!!s.height})}))};fo.displayName="NodeRenderer";var pa=(0,c.memo)(fo),Ve;function po(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function mo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?po(Object(n),!0).forEach(function(o){R(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var ma=(Ve={},R(Ve,N.Left,N.Right),R(Ve,N.Right,N.Left),R(Ve,N.Top,N.Bottom),R(Ve,N.Bottom,N.Top),Ve),ha=function(t){var e,n,o,r,a,l=t.connectionNodeId,i=t.connectionHandleType,d=t.connectionLineStyle,v=t.connectionLineType,s=v===void 0?Se.Bezier:v,u=t.isConnectable,f=t.CustomConnectionLineComponent,p=te((0,c.useCallback)(function(T){return{fromNode:T.nodeInternals.get(l),handleId:T.connectionHandleId,toX:(T.connectionPosition.x-T.transform[0])/T.transform[2],toY:(T.connectionPosition.y-T.transform[1])/T.transform[2]}},[l]),ve),g=p.fromNode,b=p.handleId,m=p.toX,y=p.toY,E=g==null||(e=g[ne])===null||e===void 0?void 0:e.handleBounds;if(!g||!u||!(E!=null&&E[i]))return null;var w=E[i],S=b?w.find(function(T){return T.id===b}):w[0],h=S?S.x+S.width/2:((n=g==null?void 0:g.width)!==null&&n!==void 0?n:0)/2,C=S?S.y+S.height/2:(o=g==null?void 0:g.height)!==null&&o!==void 0?o:0,P=((g==null||(r=g.positionAbsolute)===null||r===void 0?void 0:r.x)||0)+h,O=((g==null||(a=g.positionAbsolute)===null||a===void 0?void 0:a.y)||0)+C,x=S==null?void 0:S.position;if(!x)return null;var B=ma[x],D,j,z,I,H,A;switch(i){case"source":D=P,j=O,z=x,I=m,H=y,A=B;break;case"target":D=m,j=y,z=B,I=P,H=O,A=x;break}if(f)return c.createElement("g",{className:"react-flow__connection"},c.createElement(f,{connectionLineType:s,connectionLineStyle:d,fromNode:g,fromHandle:S,fromX:P,fromY:O,toX:m,toY:y,fromPosition:x,toPosition:B,sourcePosition:z,targetPosition:A,sourceNode:g,sourceHandle:S,targetX:I,targetY:H,sourceX:D,sourceY:j}));var L="",X={sourceX:D,sourceY:j,sourcePosition:z,targetX:I,targetY:H,targetPosition:A};return s===Se.Bezier?L=Tn(X):s===Se.Step?L=zt(mo(mo({},X),{},{borderRadius:0})):s===Se.SmoothStep?L=zt(X):s===Se.SimpleBezier?L=Dn(X):L="M".concat(D,",").concat(j," ").concat(I,",").concat(H),c.createElement("g",{className:"react-flow__connection"},c.createElement("path",{d:L,className:"react-flow__connection-path",style:d}))};function Xt(t){"@babel/helpers - typeof";return Xt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xt(t)}var vt,ya=function(e){var n=e.color,o=n===void 0?"none":n,r=e.strokeWidth,a=r===void 0?1:r;return c.createElement("polyline",{stroke:o,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:a,fill:"none",points:"-5,-4 0,0 -5,4"})},ba=function(e){var n=e.color,o=n===void 0?"none":n,r=e.strokeWidth,a=r===void 0?1:r;return c.createElement("polyline",{stroke:o,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:a,fill:o,points:"-5,-4 0,0 -5,4 -5,-4"})},ho=(vt={},R(vt,tt.Arrow,ya),R(vt,tt.ArrowClosed,ba),vt);function Sa(t){var e=(0,c.useMemo)(function(){var n=ho.hasOwnProperty(t);return n?ho[t]:function(){return null}},[t]);return e}function yo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function wa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yo(Object(n),!0).forEach(function(o){R(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yo(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var Ea=function(e){var n=e.id,o=e.type,r=e.color,a=e.width,l=a===void 0?12.5:a,i=e.height,d=i===void 0?12.5:i,v=e.markerUnits,s=v===void 0?"strokeWidth":v,u=e.strokeWidth,f=e.orient,p=f===void 0?"auto":f,g=Sa(o);return c.createElement("marker",{className:"react-flow__arrowhead",id:n,markerWidth:"".concat(l),markerHeight:"".concat(d),viewBox:"-10 -10 20 20",markerUnits:s,orient:p,refX:"0",refY:"0"},c.createElement(g,{color:r,strokeWidth:u}))},Ca=function(e){var n=e.defaultColor,o=e.rfId;return function(r){var a=[];return r.edges.reduce(function(l,i){return[i.markerStart,i.markerEnd].forEach(function(d){if(d&&Xt(d)==="object"){var v=St(d,o);a.includes(v)||(l.push(wa({id:v,color:d.color||n},d)),a.push(v))}}),l},[]).sort(function(l,i){return l.id.localeCompare(i.id)})}},bo=function(e){var n=e.defaultColor,o=e.rfId,r=te((0,c.useCallback)(Ca({defaultColor:n,rfId:o}),[n,o]),function(a,l){return!(a.length!==l.length||a.some(function(i,d){return i.id!==l[d].id}))});return c.createElement("defs",null,r.map(function(a){return c.createElement(Ea,{id:a.id,key:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,strokeWidth:a.strokeWidth,orient:a.orient})}))};bo.displayName="MarkerDefinitions";var Oa=(0,c.memo)(bo),Pa=[{level:0,isMaxLevel:!0,edges:[]}];function xa(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=-1,r=t.reduce(function(l,i){var d=en(i.zIndex),v=d?i.zIndex:0;if(n){var s,u,f,p;v=d?i.zIndex:Math.max(((s=e.get(i.source))===null||s===void 0||(u=s[ne])===null||u===void 0?void 0:u.z)||0,((f=e.get(i.target))===null||f===void 0||(p=f[ne])===null||p===void 0?void 0:p.z)||0)}return l[v]?l[v].push(i):l[v]=[i],o=v>o?v:o,l},{}),a=Object.entries(r).map(function(l){var i=Y(l,2),d=i[0],v=i[1],s=+d;return{edges:v,level:s,isMaxLevel:s===o}});return a.length===0?Pa:a}function Na(t,e,n){var o=te((0,c.useCallback)(function(r){return t?r.edges.filter(function(a){var l=e.get(a.source),i=e.get(a.target);return(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&Fr({sourcePos:l.positionAbsolute||{x:0,y:0},targetPos:i.positionAbsolute||{x:0,y:0},sourceWidth:l.width,sourceHeight:l.height,targetWidth:i.width,targetHeight:i.height,width:r.width,height:r.height,transform:r.transform})}):r.edges},[t,e]));return xa(o,e,n)}var Ma=function(e){return{connectionNodeId:e.connectionNodeId,connectionHandleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals}},So=function(e){var n=te(Ma,ve),o=n.connectionNodeId,r=n.connectionHandleType,a=n.nodesConnectable,l=n.elementsSelectable,i=n.width,d=n.height,v=n.connectionMode,s=n.nodeInternals,u=Na(e.onlyRenderVisibleElements,s,e.elevateEdgesOnSelect);if(!i)return null;var f=e.connectionLineType,p=e.defaultMarkerColor,g=e.connectionLineStyle,b=e.connectionLineComponent,m=e.connectionLineContainerStyle,y=o&&r;return c.createElement(c.Fragment,null,u.map(function(E){var w=E.level,S=E.edges,h=E.isMaxLevel;return c.createElement("svg",{key:w,style:{zIndex:w},width:i,height:d,className:"react-flow__edges react-flow__container"},h&&c.createElement(Oa,{defaultColor:p,rfId:e.rfId}),c.createElement("g",null,S.map(function(C){var P=qn(s,C.source),O=Y(P,3),x=O[0],B=O[1],D=O[2],j=qn(s,C.target),z=Y(j,3),I=z[0],H=z[1],A=z[2];if(!D||!A)return null;var L=C.type||"default";e.edgeTypes[L]||(console.warn('[React Flow]: Edge type "'.concat(L,'" not found. Using fallback type "default". Help: https://reactflow.dev/error#300')),L="default");var X=e.edgeTypes[L]||e.edgeTypes.default,T=v===Ie.Strict?H.target:H.target||H.source,V=Jn(B.source,C.sourceHandle||null),U=Jn(T,C.targetHandle||null),Q=(V==null?void 0:V.position)||N.Bottom,Z=(U==null?void 0:U.position)||N.Top;if(!V||!U)return null;var F=Wr(x,V,Q,I,U,Z),_=F.sourceX,ee=F.sourceY,M=F.targetX,K=F.targetY;return c.createElement(X,{key:C.id,id:C.id,className:(0,pe.Z)([C.className,e.noPanClassName]),type:L,data:C.data,selected:!!C.selected,animated:!!C.animated,hidden:!!C.hidden,label:C.label,labelStyle:C.labelStyle,labelShowBg:C.labelShowBg,labelBgStyle:C.labelBgStyle,labelBgPadding:C.labelBgPadding,labelBgBorderRadius:C.labelBgBorderRadius,style:C.style,source:C.source,target:C.target,sourceHandleId:C.sourceHandle,targetHandleId:C.targetHandle,markerEnd:C.markerEnd,markerStart:C.markerStart,sourceX:_,sourceY:ee,targetX:M,targetY:K,sourcePosition:Q,targetPosition:Z,elementsSelectable:l,onEdgeUpdate:e.onEdgeUpdate,onContextMenu:e.onEdgeContextMenu,onMouseEnter:e.onEdgeMouseEnter,onMouseMove:e.onEdgeMouseMove,onMouseLeave:e.onEdgeMouseLeave,onClick:e.onEdgeClick,edgeUpdaterRadius:e.edgeUpdaterRadius,onEdgeDoubleClick:e.onEdgeDoubleClick,onEdgeUpdateStart:e.onEdgeUpdateStart,onEdgeUpdateEnd:e.onEdgeUpdateEnd,rfId:e.rfId})})))}),y&&c.createElement("svg",{style:m,width:i,height:d,className:"react-flow__edges react-flow__connectionline react-flow__container"},c.createElement(ha,{connectionNodeId:o,connectionHandleType:r,connectionLineStyle:g,connectionLineType:f,isConnectable:a,CustomConnectionLineComponent:b})))};So.displayName="EdgeRenderer";var Da=(0,c.memo)(So),ka=function(e){return"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")")};function Ba(t){var e=t.children,n=te(ka);return c.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:n}},e)}function ja(t){var e=Pn(),n=(0,c.useRef)(!1);(0,c.useEffect)(function(){!n.current&&e.viewportInitialized&&t&&(setTimeout(function(){return t(e)},1),n.current=!0)},[t,e.viewportInitialized])}var wo=function(e){var n=e.nodeTypes,o=e.edgeTypes,r=e.onMove,a=e.onMoveStart,l=e.onMoveEnd,i=e.onInit,d=e.onNodeClick,v=e.onEdgeClick,s=e.onNodeDoubleClick,u=e.onEdgeDoubleClick,f=e.onNodeMouseEnter,p=e.onNodeMouseMove,g=e.onNodeMouseLeave,b=e.onNodeContextMenu,m=e.onSelectionContextMenu,y=e.connectionLineType,E=e.connectionLineStyle,w=e.connectionLineComponent,S=e.connectionLineContainerStyle,h=e.selectionKeyCode,C=e.multiSelectionKeyCode,P=e.zoomActivationKeyCode,O=e.deleteKeyCode,x=e.onlyRenderVisibleElements,B=e.elementsSelectable,D=e.selectNodesOnDrag,j=e.translateExtent,z=e.minZoom,I=e.maxZoom,H=e.defaultZoom,A=e.defaultPosition,L=e.preventScrolling,X=e.defaultMarkerColor,T=e.zoomOnScroll,V=e.zoomOnPinch,U=e.panOnScroll,Q=e.panOnScrollSpeed,Z=e.panOnScrollMode,F=e.zoomOnDoubleClick,_=e.panOnDrag,ee=e.onPaneClick,M=e.onPaneScroll,K=e.onPaneContextMenu,G=e.onEdgeUpdate,k=e.onEdgeContextMenu,ce=e.onEdgeMouseEnter,ge=e.onEdgeMouseMove,be=e.onEdgeMouseLeave,Ce=e.edgeUpdaterRadius,et=e.onEdgeUpdateStart,Ye=e.onEdgeUpdateEnd,ke=e.noDragClassName,Xe=e.noWheelClassName,Be=e.noPanClassName,je=e.elevateEdgesOnSelect,Ue=e.id;return ja(i),c.createElement(va,{onPaneClick:ee,onPaneContextMenu:K,onPaneScroll:M,deleteKeyCode:O,selectionKeyCode:h,multiSelectionKeyCode:C,zoomActivationKeyCode:P,elementsSelectable:B,onMove:r,onMoveStart:a,onMoveEnd:l,zoomOnScroll:T,zoomOnPinch:V,zoomOnDoubleClick:F,panOnScroll:U,panOnScrollSpeed:Q,panOnScrollMode:Z,panOnDrag:_,translateExtent:j,minZoom:z,maxZoom:I,defaultZoom:H,defaultPosition:A,onSelectionContextMenu:m,preventScrolling:L,noDragClassName:ke,noWheelClassName:Xe,noPanClassName:Be},c.createElement(Ba,null,c.createElement(Da,{edgeTypes:o,onEdgeClick:v,onEdgeDoubleClick:u,connectionLineType:y,connectionLineStyle:E,connectionLineComponent:w,connectionLineContainerStyle:S,onEdgeUpdate:G,onlyRenderVisibleElements:x,onEdgeContextMenu:k,onEdgeMouseEnter:ce,onEdgeMouseMove:ge,onEdgeMouseLeave:be,onEdgeUpdateStart:et,onEdgeUpdateEnd:Ye,edgeUpdaterRadius:Ce,defaultMarkerColor:X,noPanClassName:Be,elevateEdgesOnSelect:!!je,rfId:Ue}),c.createElement(pa,{nodeTypes:n,onNodeClick:d,onNodeDoubleClick:s,onNodeMouseEnter:f,onNodeMouseMove:p,onNodeMouseLeave:g,onNodeContextMenu:b,selectNodesOnDrag:D,onlyRenderVisibleElements:x,noPanClassName:Be,noDragClassName:ke})))};wo.displayName="GraphView";var za=(0,c.memo)(wo),Eo=function(){return null};Eo.displayName="GroupNode";function Co(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function Oo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Co(Object(n),!0).forEach(function(o){R(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Co(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var _e=function(t){var e=function(o){var r=o.id,a=o.type,l=o.data,i=o.xPos,d=o.yPos,v=o.selected,s=o.onClick,u=o.onMouseEnter,f=o.onMouseMove,p=o.onMouseLeave,g=o.onContextMenu,b=o.onDoubleClick,m=o.style,y=o.className,E=o.isDraggable,w=o.isSelectable,S=o.isConnectable,h=o.selectNodesOnDrag,C=o.sourcePosition,P=o.targetPosition,O=o.hidden,x=o.resizeObserver,B=o.dragHandle,D=o.zIndex,j=o.isParent,z=o.noPanClassName,I=o.noDragClassName,H=o.initialized,A=le(),L=(0,c.useRef)(null),X=(0,c.useRef)(C),T=(0,c.useRef)(P),V=(0,c.useRef)(a),U=w||E||s||u||f||p,Q=Je(r,A.getState,u),Z=Je(r,A.getState,f),F=Je(r,A.getState,p),_=Je(r,A.getState,g),ee=Je(r,A.getState,b),M=function(k){if(w&&(!h||!E)&&sn({id:r,store:A}),s){var ce=A.getState().nodeInternals.get(r);s(k,Oo({},ce))}};(0,c.useEffect)(function(){if(L.current&&!O){var G=L.current;return x==null||x.observe(G),function(){return x==null?void 0:x.unobserve(G)}}},[O]),(0,c.useEffect)(function(){var G=V.current!==a,k=X.current!==C,ce=T.current!==P;L.current&&(G||k||ce)&&(G&&(V.current=a),k&&(X.current=C),ce&&(T.current=P),A.getState().updateNodeDimensions([{id:r,nodeElement:L.current,forceUpdate:!0}]))},[r,a,C,P]);var K=uo({nodeRef:L,disabled:O||!E,noDragClassName:I,handleSelector:B,nodeId:r,isSelectable:w,selectNodesOnDrag:h});return O?null:c.createElement("div",{className:(0,pe.Z)(["react-flow__node","react-flow__node-".concat(a),z,y,{selected:v,selectable:w,parent:j}]),ref:L,style:Oo({zIndex:D,transform:"translate(".concat(i,"px,").concat(d,"px)"),pointerEvents:U?"all":"none",visibility:H?"visible":"hidden"},m),onMouseEnter:Q,onMouseMove:Z,onMouseLeave:F,onContextMenu:_,onClick:M,onDoubleClick:ee,"data-testid":"rf__node-".concat(r),"data-id":r},c.createElement(kr,{value:r},c.createElement(t,{id:r,data:l,type:a,xPos:i,yPos:d,selected:v,isConnectable:S,sourcePosition:C,targetPosition:P,dragging:K,dragHandle:B,zIndex:D})))};return e.displayName="NodeWrapper",(0,c.memo)(e)};function Po(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function xo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Po(Object(n),!0).forEach(function(o){R(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Po(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Ia(t){var e={input:_e(t.input||Xn),default:_e(t.default||Zt),output:_e(t.output||Kn),group:_e(t.group||Eo)},n={},o=Object.keys(t).filter(function(r){return!["input","default","output","group"].includes(r)}).reduce(function(r,a){return r[a]=_e(t[a]||Zt),r},n);return xo(xo({},e),o)}function No(t,e){var n=(0,c.useRef)(null),o=(0,c.useMemo)(function(){if(0)var r;return e(t)},[t]);return o}function Mo(t){if(!(!t||typeof document=="undefined")){var e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");e.appendChild(n),n.appendChild(document.createTextNode(t))}}var Do=function(e){var n=e.children,o=!0;try{le()}catch(r){o=!1}return o?c.createElement(c.Fragment,null,n):c.createElement(En,{createStore:Cn},n)};Do.displayName="ReactFlowWrapper";var Aa=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectStop","onConnectEnd","onClickConnectStart","onClickConnectStop","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","elementsSelectable","minZoom","maxZoom","defaultZoom","defaultPosition","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneScroll","onPaneContextMenu","children","onEdgeUpdate","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdateStart","onEdgeUpdateEnd","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateEdgesOnSelect"];function ko(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function Bo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ko(Object(n),!0).forEach(function(o){R(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ko(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}Mo(Hr),Mo(Yr);var Ra={input:Xn,default:Zt,output:Kn},$a={default:At,straight:$n,step:Rn,smoothstep:It,simplebezier:kn},Ta=[15,15],La=[0,0],Za=(0,c.forwardRef)(function(t,e){var n=t.nodes,o=t.edges,r=t.defaultNodes,a=t.defaultEdges,l=t.className,i=t.nodeTypes,d=i===void 0?Ra:i,v=t.edgeTypes,s=v===void 0?$a:v,u=t.onNodeClick,f=t.onEdgeClick,p=t.onInit,g=t.onMove,b=t.onMoveStart,m=t.onMoveEnd,y=t.onConnect,E=t.onConnectStart,w=t.onConnectStop,S=t.onConnectEnd,h=t.onClickConnectStart,C=t.onClickConnectStop,P=t.onClickConnectEnd,O=t.onNodeMouseEnter,x=t.onNodeMouseMove,B=t.onNodeMouseLeave,D=t.onNodeContextMenu,j=t.onNodeDoubleClick,z=t.onNodeDragStart,I=t.onNodeDrag,H=t.onNodeDragStop,A=t.onNodesDelete,L=t.onEdgesDelete,X=t.onSelectionChange,T=t.onSelectionDragStart,V=t.onSelectionDrag,U=t.onSelectionDragStop,Q=t.onSelectionContextMenu,Z=t.connectionMode,F=Z===void 0?Ie.Strict:Z,_=t.connectionLineType,ee=_===void 0?Se.Bezier:_,M=t.connectionLineStyle,K=t.connectionLineComponent,G=t.connectionLineContainerStyle,k=t.deleteKeyCode,ce=k===void 0?"Backspace":k,ge=t.selectionKeyCode,be=ge===void 0?"Shift":ge,Ce=t.multiSelectionKeyCode,et=Ce===void 0?"Meta":Ce,Ye=t.zoomActivationKeyCode,ke=Ye===void 0?"Meta":Ye,Xe=t.snapToGrid,Be=Xe===void 0?!1:Xe,je=t.snapGrid,Ue=je===void 0?Ta:je,gt=t.onlyRenderVisibleElements,Ut=gt===void 0?!1:gt,ft=t.selectNodesOnDrag,pt=ft===void 0?!0:ft,Kt=t.nodesDraggable,ze=t.nodesConnectable,he=t.elementsSelectable,ye=t.minZoom,Ke=ye===void 0?.5:ye,We=t.maxZoom,Oe=We===void 0?2:We,Fe=t.defaultZoom,Wt=Fe===void 0?1:Fe,Ge=t.defaultPosition,Ft=Ge===void 0?La:Ge,mt=t.translateExtent,Pe=mt===void 0?Ct:mt,ht=t.preventScrolling,Ha=ht===void 0?!0:ht,Va=t.nodeExtent,Io=t.defaultMarkerColor,Ya=Io===void 0?"#b1b1b7":Io,Ao=t.zoomOnScroll,Xa=Ao===void 0?!0:Ao,Ro=t.zoomOnPinch,Ua=Ro===void 0?!0:Ro,$o=t.panOnScroll,Ka=$o===void 0?!1:$o,To=t.panOnScrollSpeed,Wa=To===void 0?.5:To,Lo=t.panOnScrollMode,Fa=Lo===void 0?Ae.Free:Lo,Zo=t.zoomOnDoubleClick,Ga=Zo===void 0?!0:Zo,Ho=t.panOnDrag,Qa=Ho===void 0?!0:Ho,Ja=t.onPaneClick,qa=t.onPaneScroll,_a=t.onPaneContextMenu,ei=t.children,ti=t.onEdgeUpdate,ni=t.onEdgeContextMenu,oi=t.onEdgeDoubleClick,ri=t.onEdgeMouseEnter,ai=t.onEdgeMouseMove,ii=t.onEdgeMouseLeave,li=t.onEdgeUpdateStart,ci=t.onEdgeUpdateEnd,Vo=t.edgeUpdaterRadius,si=Vo===void 0?10:Vo,di=t.onNodesChange,ui=t.onEdgesChange,Yo=t.noDragClassName,vi=Yo===void 0?"nodrag":Yo,Xo=t.noWheelClassName,gi=Xo===void 0?"nowheel":Xo,Uo=t.noPanClassName,fi=Uo===void 0?"nopan":Uo,Ko=t.fitView,pi=Ko===void 0?!1:Ko,mi=t.fitViewOptions,Wo=t.connectOnClick,hi=Wo===void 0?!0:Wo,yi=t.attributionPosition,bi=t.proOptions,Si=t.defaultEdgeOptions,Fo=t.elevateEdgesOnSelect,wi=Fo===void 0?!1:Fo,yt=ot(t,Aa),Ei=No(d,Ia),Ci=No(s,Kr);return c.createElement("div",Bo(Bo({},yt),{},{ref:e,className:(0,pe.Z)(["react-flow",l])}),c.createElement(Do,null,c.createElement(za,{onInit:p,onMove:g,onMoveStart:b,onMoveEnd:m,onNodeClick:u,onEdgeClick:f,onNodeMouseEnter:O,onNodeMouseMove:x,onNodeMouseLeave:B,onNodeContextMenu:D,onNodeDoubleClick:j,nodeTypes:Ei,edgeTypes:Ci,connectionLineType:ee,connectionLineStyle:M,connectionLineComponent:K,connectionLineContainerStyle:G,selectionKeyCode:be,deleteKeyCode:ce,multiSelectionKeyCode:et,zoomActivationKeyCode:ke,onlyRenderVisibleElements:Ut,selectNodesOnDrag:pt,translateExtent:Pe,minZoom:Ke,maxZoom:Oe,defaultZoom:Wt,defaultPosition:Ft,preventScrolling:Ha,zoomOnScroll:Xa,zoomOnPinch:Ua,zoomOnDoubleClick:Ga,panOnScroll:Ka,panOnScrollSpeed:Wa,panOnScrollMode:Fa,panOnDrag:Qa,onPaneClick:Ja,onPaneScroll:qa,onPaneContextMenu:_a,onSelectionContextMenu:Q,onEdgeUpdate:ti,onEdgeContextMenu:ni,onEdgeDoubleClick:oi,onEdgeMouseEnter:ri,onEdgeMouseMove:ai,onEdgeMouseLeave:ii,onEdgeUpdateStart:li,onEdgeUpdateEnd:ci,edgeUpdaterRadius:si,defaultMarkerColor:Ya,noDragClassName:vi,noWheelClassName:gi,noPanClassName:fi,elevateEdgesOnSelect:wi,id:yt==null?void 0:yt.id}),c.createElement(Lr,{nodes:n,edges:o,defaultNodes:r,defaultEdges:a,onConnect:y,onConnectStart:E,onConnectStop:w,onConnectEnd:S,onClickConnectStart:h,onClickConnectStop:C,onClickConnectEnd:P,nodesDraggable:Kt,nodesConnectable:ze,elementsSelectable:he,minZoom:Ke,maxZoom:Oe,nodeExtent:Va,onNodesChange:di,onEdgesChange:ui,snapToGrid:Be,snapGrid:Ue,connectionMode:F,translateExtent:Pe,connectOnClick:hi,defaultEdgeOptions:Si,fitView:pi,fitViewOptions:mi,onNodesDelete:A,onEdgesDelete:L,onNodeDragStart:z,onNodeDrag:I,onNodeDragStop:H,onSelectionDrag:V,onSelectionDragStart:T,onSelectionDragStop:U}),X&&c.createElement($r,{onSelectionChange:X}),ei,c.createElement(Er,{proOptions:bi,position:yi})))});Za.displayName="ReactFlow";var jo=function(e){var n=e.children;return c.createElement(En,{createStore:Cn},n)};jo.displayName="ReactFlowProvider";function zo(t){return function(e){var n=(0,c.useState)(e),o=Y(n,2),r=o[0],a=o[1],l=(0,c.useCallback)(function(i){return a(function(d){return t(i,d)})},[]);return[r,a,l]}}var ki=zo(rn),Bi=zo(Jo)}}]);
