"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3928],{72406:function(Xe,te,o){var W=o(58533),Y=o(99702),le=o(74330),y=o(85893),ce=function(I){var p=I.children,de=I.elid,E=I.dataLength,m=I.ishasMore,r=I.upSlide,t=I.isFooter,l=I.pageNumber,x=l===void 0?2:l;return(0,y.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,y.jsx)(W.Z,{dataLength:E,scrollableTarget:de,next:r,hasMore:m,loader:(0,y.jsx)("div",{className:"flex justify-center h-[60px] items-center",children:x>1?(0,y.jsx)(le.Z,{}):(0,y.jsx)(y.Fragment,{})}),children:p}),t&&(0,y.jsx)("div",{className:"mt-[30px] flex-1 flex ",style:{alignItems:"flex-end"},children:(0,y.jsx)(Y.Z,{className:"relative"})})]})};te.Z=ce},426:function(Xe,te,o){o.r(te),o.d(te,{default:function(){return Wt}});var W=o(97857),Y=o.n(W),le=o(15009),y=o.n(le),ce=o(99289),k=o.n(ce),I=o(5574),p=o.n(I),de=o(40110),E=o(47389),m=o(82061),r=o(43425),t=o(71471),l=o(26915),x=o(85576),L=o(45360),ne=o(78045),_e=o(74330),Se=o(71230),Ee=o(15746),se=o(4393),Ce=o(55241),X=o(28036),c=o(67294),Te=o(83510),$e=o(42237),qe=o(78697),yt=o(72406),et=o(22352),jt=o(26474),b=o(29608),T=o(32332),$=o(76772),wt=o(27484),Mt=o.n(wt),tt=o(21446),Nt=o(47520),Dt=o(33914),nt=o(1413),Lt={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM653.3 424.6l52.2 52.2a8.01 8.01 0 01-4.7 13.6l-179.4 21c-5.1.6-9.5-3.7-8.9-8.9l21-179.4c.8-6.6 8.9-9.4 13.6-4.7l52.4 52.4 256.2-256.2c3.1-3.1 8.2-3.1 11.3 0l42.4 42.4c3.1 3.1 3.1 8.2 0 11.3L653.3 424.6z"}}]},name:"import",theme:"outlined"},Ot=Lt,At=o(91146),kt=function(i,N){return c.createElement(At.Z,(0,nt.Z)((0,nt.Z)({},i),{},{ref:N,icon:Ot}))},It=c.forwardRef(kt),bt=It,Rt=o(46822),st=o(54464),C=o(62880),e=o(85893),Pt=function(i){var N=i.optionsModalId,d=(0,$.useIntl)(),q=(0,$.useLocation)(),ye=(0,st.TE)(),M=ye.hasPermission,K=M(C.Dg.CREATE_AGENT),F=M(C.Dg.CREATE_WORKFLOW),z=M(C.Dg.CREATE_SKILL),R=M(C.Dg.CREATE_KNOWLEDGE_BASE),Fe=(0,c.useState)(!0),je=p()(Fe,2),Be=je[0],Ge=je[1],ae=l.Z.TextArea,U=[{name:d.formatMessage({id:"creation.agent"}),path:"Agents",icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",unselected:"/icons/creation/unselectedrobot.svg",apps_mode:1},{name:d.formatMessage({id:"creation.workflow"}),path:"workspace/workflow",icon:"/icons/creation/gongzuoliu1.svg",pitchicon:"/icons/creation/pitchgongzuoliu.svg",signicon:"/icons/creation/signgongzuoliu.svg",unselected:"/icons/creation/unselectedprocess.svg",apps_mode:2},{name:d.formatMessage({id:"creation.skill"}),path:"Skill",icon:"/icons/creation/jienng1.svg",pitchicon:"/icons/creation/pitchzhishik.svg",signicon:"/icons/creation/signzhishik.svg",unselected:"/icons/creation/unselectedskill.svg",apps_mode:4}];q.pathname=="/knowledgebase"&&U.push({name:d.formatMessage({id:"creation.repository"}),path:"Createkb",icon:"/icons/creation/jienng1.svg",pitchicon:"/icons/creation/pitchzhishik.svg",signicon:"/icons/creation/signzhishik.svg",unselected:"/icons/creation/unselectedrepository.svg",apps_mode:3});var we=(0,c.useState)(!1),ue=p()(we,2),Me=ue[0],oe=ue[1],Ne=(0,c.useState)({name:d.formatMessage({id:"creation.agent"}),path:"Agents",icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",apps_mode:1}),pe=p()(Ne,2),ie=pe[0],ee=pe[1],De=(0,c.useState)(""),f=p()(De,2),Le=f[0],We=f[1],Oe=(0,c.useState)(""),Ae=p()(Oe,2),Ye=Ae[0],Ke=Ae[1],ke=(0,c.useState)({id:12,icon:"\u{1F612}"}),Ie=p()(ke,2),be=Ie[0],it=Ie[1];(0,c.useEffect)(function(){q.pathname=="/knowledgebase"&&Ge(!1)});var fe=function(u){var g=U.filter(function(w){return w.apps_mode==u});if(oe(!0),g[0]){var G=g[0],P=G.apps_mode===1&&K||G.apps_mode===2&&F||G.apps_mode===3&&R||G.apps_mode===4&&z;if(P){ee(G);return}}var he=[{apps_mode:1,permission:K},{apps_mode:2,permission:F},{apps_mode:4,permission:z},{apps_mode:3,permission:R}],J=he.find(function(w){return w.permission});if(J){var O=U.find(function(w){return w.apps_mode===J.apps_mode});ee(O||{name:"Agent",path:"Agents",icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",apps_mode:1})}else ee({name:"Agent",path:"Agents",icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",apps_mode:1})},rt=function(){oe(!1)},H=function(u){$.history.push("/".concat(ie.path,"?app_id=").concat(u,"&type=false"))},V=function(u){U.map(function(g){g.name==u.target.value&&ee(g)})},lt=function(u){We(u.target.value)},ze=function(u){Ke(u.target.value)},Re=function(){var h=k()(y()().mark(function u(){var g;return y()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,Te.uy)({name:Le,mode:ie.apps_mode,description:Ye,icon:be.icon,icon_background:""});case 2:g=P.sent,g.code===0&&(oe(!1),H(g.data.app_id));case 4:case"end":return P.stop()}},u)}));return function(){return h.apply(this,arguments)}}(),Ue=(0,c.useState)(!1),Pe=p()(Ue,2),Ze=Pe[0],B=Pe[1],He=function(){B(!1)},Ve=(0,c.memo)(function(){var h=(0,c.useState)([]),u=p()(h,2),g=u[0],G=u[1],P={icon:(0,e.jsx)(Dt.Z,{}),title:d.formatMessage({id:"workflow.uploadFileText",defaultMessage:"Drag file here, or click to upload"}),description:"Upload the exported workflow yml file",accept:".yml,.yaml",fieldProps:{listType:"text",name:"file",multiple:!0,maxCount:1,headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},action:Nt._n+"/v1/workflow/import",beforeUpload:function(O){return G([O]),!1}},onChange:function(O){var w=O.file.status;if(w==="done"){var A;(O==null||(A=O.file)===null||A===void 0||(A=A.response)===null||A===void 0?void 0:A.code)===0?(L.ZP.success(d.formatMessage({id:"workflow.importSuccess"})),B(!1)):L.ZP.error(d.formatMessage({id:"workflow.importFailed"}))}else w==="error"&&L.ZP.error("".concat(O.file.name," file upload failed."))}},he=function(){if(g.length>0){var O=new FormData;O.append("file",g[0]),(0,$e.Uq)(O).then(function(w){if((w==null?void 0:w.code)==0){var A;$.history.push("/workspace/workflow?app_id=".concat(w==null||(A=w.data)===null||A===void 0?void 0:A.app_id,"&type=false"))}})}B(!1)};return(0,e.jsx)(x.Z,{title:d.formatMessage({id:"creation.importWorkflow"}),open:Ze,onOk:he,okButtonProps:{loading:!1},okText:d.formatMessage({id:"workflow.import"}),onCancel:He,children:(0,e.jsx)(Rt.Z,Y()({name:"file"},P))})});return(0,e.jsxs)(se.Z,{style:{minWidth:300,marginTop:10,backgroundColor:"#EFF0F2"},bodyStyle:{height:"100%"},hoverable:!1,children:[(0,e.jsx)(Ve,{}),(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"194px"},children:[N===6?(0,e.jsxs)("div",{className:"flex justify-around items-start h-full w-full ",style:{flexDirection:"column",height:"calc(100% + 24px)"},children:[U.map(function(h,u){var g=!1;return h.apps_mode===1?g=K:h.apps_mode===2?g=F:h.apps_mode===3?g=R:h.apps_mode===4&&(g=z),(0,e.jsxs)("div",{className:"w-full rounded-lg h-8 flex items-center ".concat(g?"hover:bg-[#fff] cursor-pointer":"cursor-not-allowed opacity-50"),onClick:g?function(){return fe(h.apps_mode)}:void 0,children:[(0,e.jsx)("img",{src:h.icon,style:{width:"16px",height:"16px",margin:"0 5px 0 10px",opacity:g?1:.2,filter:g?"none":"grayscale(100%)"},alt:""}),(0,e.jsxs)("div",{style:{color:g?"#213044":"#CCCCCC"},children:[d.formatMessage({id:"creation.new"}),h.name]})]},u)}),(0,e.jsxs)("div",{onClick:F?function(){return B(!0)}:void 0,className:"w-full rounded-lg h-8 flex items-center ".concat(F?"hover:bg-[#fff] cursor-pointer text-[#213044]":"cursor-not-allowed opacity-50 text-[#CCCCCC]"),children:[(0,e.jsx)(bt,{className:"size-4  mr-[5px] ml-[10px]"})," ",d.formatMessage({id:"creation.importWorkflow"})]})]}):null,function(){var h=!1;return q.pathname==="/knowledgebase"?(N===3||N===6)&&(h=R):N===1?h=K:N===2?h=F:N===4?h=z:N===6&&(h=K||F||z),(0,e.jsx)("div",{className:"flex-wrap h-full text-[12px] ".concat(h?"text-[#999] cursor-pointer":"text-[#CCCCCC] cursor-not-allowed opacity-50"),style:{width:N===6?"50%":"100%"},onClick:h?function(){return fe(N)}:void 0,children:N===6?(0,e.jsxs)("div",{className:"mt-[62px]",children:[(0,e.jsx)("div",{className:"h-[42px] flex justify-center",children:(0,e.jsx)("img",{src:"/icons/creation/add.svg",alt:""})}),(0,e.jsxs)("div",{className:"svg-container w-full text-center",children:[" ",d.formatMessage({id:"creation.addcreation"})]})]}):U.filter(function(u,g){return N===6?q.pathname==="/knowledgebase"?u.apps_mode===3&&R:u.apps_mode===1?K:u.apps_mode===2?F:u.apps_mode===4?z:!1:u.apps_mode==N}).map(function(u,g){return(0,e.jsxs)("div",{className:"mt-[50px]",children:[(0,e.jsx)("div",{className:"h-[42px] flex justify-center mb-[10px]",children:(0,e.jsx)("img",{src:u.unselected?u.unselected:"/icons/creation/add.svg",alt:""})}),(0,e.jsxs)("div",{className:"svg-container w-full text-center",children:[d.formatMessage({id:"creation.new"}),u.name?u.name:d.formatMessage({id:"creation.adhibition"})]})]},g)})})}()]}),(0,e.jsx)(tt.Z,{setIsModalOpen:oe,isModalOpen:Me,ModalType:q.pathname!="/knowledgebase",CreationType:ie,setcreationType:ee,transformData:U})]})},Zt=Pt,_t=o(94840),at=t.Z.Text,Ft=t.Z.Paragraph,Bt=l.Z.TextArea,Gt=function(){var i=(0,$.useIntl)(),N=(0,st.TE)(),d=N.hasPermission,q=(0,c.useState)(null),ye=p()(q,2),M=ye[0],K=ye[1],F=(0,c.useState)(1),z=p()(F,2),R=z[0],Fe=z[1],je=(0,c.useState)(!1),Be=p()(je,2),Ge=Be[0],ae=Be[1],U=(0,c.useState)(""),we=p()(U,2),ue=we[0],Me=we[1],oe=(0,c.useState)(""),Ne=p()(oe,2),pe=Ne[0],ie=Ne[1],ee=(0,c.useState)(null),De=p()(ee,2),f=De[0],Le=De[1],We=(0,c.useState)(!1),Oe=p()(We,2),Ae=Oe[0],Ye=Oe[1],Ke=(0,c.useState)(!1),ke=p()(Ke,2),Ie=ke[0],be=ke[1],it=(0,c.useState)({name:"Agent",path:i.formatMessage({id:"creation.agent"}),icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",apps_mode:1}),fe=p()(it,2),rt=fe[0],H=fe[1],V=[{apps_mode:6,name:i.formatMessage({id:"creation.all"}),path:"Agents",icon:"/icons/creation/quanbu.svg",unselected:"/icons/creation/quanbu.svg",pitchicon:"/icons/creation/pitchquanbu.svg",signicon:"/icons/creation/pitchquanbu.svg"},{apps_mode:1,name:i.formatMessage({id:"creation.agent"}),path:"Agents",icon:"/icons/creation/agent.svg",unselected:"/icons/creation/unselectedrobot.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg"},{apps_mode:2,name:i.formatMessage({id:"creation.workflow"}),path:"workspace/workflow",icon:"/icons/creation/gongzuoliu1.svg",unselected:"/icons/creation/unselectedprocess.svg",pitchicon:"/icons/creation/pitchgongzuoliu.svg",signicon:"/icons/creation/signgongzuoliu.svg"},{apps_mode:4,name:i.formatMessage({id:"creation.skill"}),path:"Skill",icon:"/icons/creation/jienng1.svg",unselected:"/icons/creation/unselectedskill.svg",pitchicon:"/icons/creation/pitchskill.svg",signicon:"/icons/creation/signskill.svg"}];location.pathname=="/knowledgebase"&&(V=[{apps_mode:3,name:i.formatMessage({id:"creation.repository"}),path:"Createkb",icon:"/icons/creation/zhishik1.svg",unselected:"/icons/creation/unselectedrepository.svg",pitchicon:"/icons/creation/pitchzhishik.svg",signicon:"/icons/creation/signzhishik.svg"}]);var lt=(0,c.useState)(6),ze=p()(lt,2),Re=ze[0],Ue=ze[1],Pe=(0,c.useState)(!1),Ze=p()(Pe,2),B=Ze[0],He=Ze[1],Ve=(0,c.useState)(""),h=p()(Ve,2),u=h[0],g=h[1],G=(0,c.useState)(!1),P=p()(G,2),he=P[0],J=P[1],O=(0,c.useState)([{apps_mode:1,name:i.formatMessage({id:"creation.agent"}),path:"Agents",readOnlypath:"ReadOnlyAgent"},{apps_mode:2,name:i.formatMessage({id:"creation.workflow"}),path:"workspace/workflow"},{apps_mode:3,name:i.formatMessage({id:"creation.repository"}),path:"createkb"},{apps_mode:4,name:i.formatMessage({id:"creation.skill"}),path:"Skill",readOnlypath:"ReadOnlySkill"}]),w=p()(O,2),A=w[0],fn=w[1],Yt=(0,c.useState)(!0),ct=p()(Yt,2),Kt=ct[0],dt=ct[1],zt=(0,c.useState)(-1),ut=p()(zt,2),Ut=ut[0],me=ut[1],Ht=(0,c.useState)([]),pt=p()(Ht,2),ft=pt[0],Vt=pt[1],Jt=(0,c.useState)(Date.now()),ht=p()(Jt,2),Je=ht[0],mt=ht[1],gt=(0,b.Z)(),Qe=gt.shouldComponentUpdate,vt=gt.clearUpdateNotification,Qt=(0,c.useState)(!0),xt=p()(Qt,2),Xt=xt[0],St=xt[1],Z=function(){var n=k()(y()().mark(function s(v,j,D,a,S,ge,_){var ve,re;return y()().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return ve={page:v||R,page_size:27,search_type:(0,T.f1)("GET").searchType==!0?2:1,apps_mode:(0,T.f1)("GET").optionsModalId,apps_name:a||a==""?a:u,tag_ids:_?_.join(","):""},dt(!0),xe.next=4,(0,Te.go)(ve);case 4:re=xe.sent,J(!0),K(S?{list:M.list.concat(re.data.list)}:re.data),dt(!1),re.data.list.length<27&&J(!1);case 9:case"end":return xe.stop()}},s)}));return function(v,j,D,a,S,ge,_){return n.apply(this,arguments)}}();(0,c.useEffect)(function(){if((0,T.op)(),location.pathname=="/knowledgebase"){var n={apps_mode:3,name:i.formatMessage({id:"creation.repository"}),path:"Createkb"};St(!1),Et(n)}else Ye(!0),Z(1,null)},[]);var $t=function(){Fe(R+1),Z(R+1,B,null,null,!0)},Et=function(s){Ue(s.apps_mode),(0,T.f1)("SET",s.apps_mode,JSON.parse((0,T.f1)("GET").searchType)),Z(1,B,s.apps_mode)},qt=function(s){g(s.target.value),Z(1,B,Re,s.target.value)};(0,c.useEffect)(function(){Z(1,B,Re,u,null,null,ft)},[ft]);var en=function(){ae(!1)},tn=function(){var n=k()(y()().mark(function s(){var v,j;return y()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return v={name:ue,description:pe,app_id:f.app_id,mode:f.mode,icon:(f.id?JSON.stringify(f.id):f.icon)||"0",icon_background:"",avatar:(f==null?void 0:f.avatar)||null},a.prev=1,a.next=4,(0,Te.bs)(v);case 4:j=a.sent,j.code==0?(ae(!1),Z(1,B,null,null,null,R*27)):ae(!1),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0),ae(!1);case 12:case"end":return a.stop()}},s,null,[[1,8]])}));return function(){return n.apply(this,arguments)}}(),nn=function(s,v){me(v),ae(!0),Me(s.name),ie(s.description),Le(s)},sn=function(s){Me(s.target.value)},an=function(s){ie(s.target.value)},Ct=function(s){event.stopPropagation(),(0,T.Go)("SET",Y()(Y()({},s),{},{type:(0,T.f1)("GET").searchType}));var v=A.filter(function(j){return j.apps_mode===s.mode});(s.mode===1||s.mode===4)&&(0,T.f1)("GET").searchType==!0?$.history.push("/".concat(v[0].readOnlypath,"?app_id=").concat(s.app_id?s.app_id:s.apps_id,"&type=").concat((0,T.f1)("GET").searchType)):$.history.push("/".concat(v[0].path,"?app_id=").concat(s.app_id?s.app_id:s.apps_id,"&type=").concat((0,T.f1)("GET").searchType))},on=function(s,v){me(v),x.Z.confirm({title:i.formatMessage({id:"creation.modal.returnconfirm"}),content:i.formatMessage({id:"creation.modal.deldescribe"}),onOk:function(){var j=k()(y()().mark(function a(){var S;return y()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,Te.LK)(s);case 2:S=_.sent,S&&S.code==0?(L.ZP.success(i.formatMessage({id:"creation.modal.delsuccess"})),Z(1,null,null,null,null,R*27)):L.ZP.error(i.formatMessage({id:"creation.modal.delerror"}));case 4:case"end":return _.stop()}},a)}));function D(){return j.apply(this,arguments)}return D}(),onCancel:function(){}})},rn=function(s){var v=JSON.parse(s.target.value);He(v),(0,T.f1)("SET",null,v),Z(1,v)},ln=function(){var s=V.filter(function(Q){return Q.apps_mode==(0,T.f1)("GET").optionsModalId});if(location.pathname=="/knowledgebase"&&St(!1),be(!0),location.pathname==="/knowledgebase"){var v;if(((v=s[0])===null||v===void 0?void 0:v.apps_mode)===3&&d(C.Dg.CREATE_KNOWLEDGE_BASE)){H(s[0]);return}var j=V.find(function(Q){return Q.apps_mode===3});j&&H(j);return}else{var D,a;if(((D=s[0])===null||D===void 0?void 0:D.apps_mode)!==6&&((a=s[0])===null||a===void 0?void 0:a.apps_mode)!==3){var S=s[0],ge=S.apps_mode===1&&d(C.Dg.CREATE_AGENT)||S.apps_mode===2&&d(C.Dg.CREATE_WORKFLOW)||S.apps_mode===4&&d(C.Dg.CREATE_SKILL);if(ge){H(S);return}}var _=[{apps_mode:1,permission:d(C.Dg.CREATE_AGENT)},{apps_mode:2,permission:d(C.Dg.CREATE_WORKFLOW)},{apps_mode:4,permission:d(C.Dg.CREATE_SKILL)}],ve=_.find(function(Q){return Q.permission});if(ve){var re=V.find(function(Q){return Q.apps_mode===ve.apps_mode});H(re||{name:"Agent",path:"Agents",icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",apps_mode:1})}else H({name:"Agent",path:"Agents",icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",apps_mode:1})}},cn=(0,b.Z)(function(n){return n.setRunId}),hn=(0,b.Z)(function(n){return n.setRunPanelLogRecord}),mn=(0,b.Z)(function(n){return n.setDealtWithData}),dn=function(s){cn(s.app_id)},Tt=(0,jt.v)(),un=Tt.tags,pn=Tt.fetchTags;return(0,c.useEffect)(function(){},[Re]),(0,c.useEffect)(function(){var n=function(){if(Qe(b.B.AGENT_LIST,Je)){var j,D=b.Z.getState().updateNotifications.get(b.B.AGENT_LIST);D==null||(j=D.payload)===null||j===void 0||j.action,Z(1,null),mt(Date.now()),vt(b.B.AGENT_LIST)}if(Qe(b.B.SKILL_LIST,Je)){var a,S=b.Z.getState().updateNotifications.get(b.B.SKILL_LIST);S==null||(a=S.payload)===null||a===void 0||a.action,Z(4,null),mt(Date.now()),vt(b.B.SKILL_LIST)}},s=setInterval(n,1e3);return function(){return clearInterval(s)}},[Qe,Je]),(0,e.jsxs)("div",{className:" pb-[10px] flex flex-col",style:{height:"calc(-60px + 100vh)",width:"100%",margin:"0 auto"},children:[(0,e.jsxs)("div",{className:"flex px-[30px] py-[20px] mx-[8px] items-center flex-wrap justify-between gap-2",children:[(0,e.jsx)("div",{className:"flex items-center",children:Ae?V.map(function(n,s){return(0,e.jsxs)("div",{onClick:function(){Et(n)},className:"flex justify-center items-center h-8 rounded-lg mr-4 cursor-pointer px-[10px]",style:(0,T.f1)("GET").optionsModalId==n.apps_mode?{color:"#1B64F3",backgroundColor:"#ffffff"}:{color:"#9097a1"},children:[(0,e.jsx)("div",{className:"mr-2",children:(0,e.jsx)("img",{src:(0,T.f1)("GET").optionsModalId==n.apps_mode?n.pitchicon:n.unselected,alt:""})}),(0,e.jsx)("div",{children:n.name})]})}):""}),(0,e.jsxs)("div",{className:"flex items-center flex-wrap",children:[(0,e.jsx)("div",{className:"min-w-[200px] mr-4",children:(0,e.jsx)(et.Z,{allowClear:!0,modes:(0,T.f1)("GET").optionsModalId,placeholder:i.formatMessage({id:"creation.placeholder.selectTags"}),onTagChange:function(){pn()},onChange:function(s){Vt(s)}})}),(0,e.jsx)("div",{className:" mr-5",children:(0,e.jsxs)(ne.ZP.Group,{onChange:rn,defaultValue:JSON.stringify((0,T.f1)("GET").searchType),children:[(0,e.jsx)(ne.ZP.Button,{value:"true",children:i.formatMessage({id:"creation.team"})}),(0,e.jsx)(ne.ZP.Button,{value:"false",children:i.formatMessage({id:"creation.individual"})})]})}),(0,e.jsx)(l.Z,{style:{width:300},prefix:(0,e.jsx)(de.Z,{}),placeholder:i.formatMessage({id:"creation.placeholder.searchname"}),variant:"filled",onChange:qt})]})]}),(0,e.jsx)(_e.Z,{spinning:Kt,size:"large",className:"mt-[112px]",children:(0,e.jsx)("div",{id:"Creation",style:{overflowY:"auto",height:"calc(100vh - 128px)"},children:M&&M.list&&M.list.length>0?(0,e.jsx)(yt.Z,{dataLength:M.list.length,elid:"Creation",ishasMore:he,upSlide:$t,isFooter:!0,children:(0,e.jsxs)(Se.Z,{gutter:[16,8],wrap:!0,style:{margin:0},className:"px-[30px]",children:[(0,e.jsx)(Ee.Z,{sm:24,md:12,lg:12,xl:8,xxl:6,children:(0,e.jsx)(Zt,{optionsModalId:(0,T.f1)("GET").optionsModalId})}),M&&M.list&&M.list.length?M.list.map(function(n,s){var v,j,D;return(0,e.jsx)(Ee.Z,{className:"gutter-row",sm:24,md:12,lg:12,xl:8,xxl:6,children:(0,e.jsx)(se.Z,{className:" cursor-pointer transition shadow-lg shadow-gray-100 hover:shadow-gray-200",style:{marginTop:10,minWidth:300},hoverable:!1,styles:{body:{padding:"20px"}},children:(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{onClick:function(){return Ct(n)},children:(0,e.jsx)(se.Z.Meta,{title:[(0,e.jsxs)("div",{className:"flex w-full",children:[(0,e.jsx)("div",{className:"mr-[17px] shrink-0",children:(0,e.jsx)(qe.Z,{Image:(0,T.s9)("single",n.icon),avatar:n.avatar,icon:(0,T.f1)("GET").optionsModalId===6?(v=V.filter(function(a){return a.apps_mode===n.mode})[0])===null||v===void 0?void 0:v.signicon:null})}),(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[" ",(0,e.jsx)("div",{style:{maxWidth:"160px"},className:"text-sm text-[#213044] font-medium truncate",children:(0,e.jsx)(at,{ellipsis:{tooltip:n.name},children:n.name})}),(0,e.jsxs)("div",{className:" leading-6 flex items-center justify-end text-xs font-normal text-[#999999]",children:[(0,e.jsxs)("div",{children:[i.formatMessage({id:"creation.numberofcitation"}),":"," "]}),(0,e.jsxs)("div",{className:"text-[#1B64F3] ml-2",children:[" ",n.execution_times?n.execution_times:0]})]})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between w-full text-xs font-normal text-[#999999]",children:[(0,e.jsx)("div",{className:"text-xs font-normal text-[#999999] mt-[7px]",children:A.map(function(a,S){return a.apps_mode===n.mode?a.name:null})}),(0,e.jsxs)("div",{className:" flex items-center justify-end mt-[7px]",children:[(0,e.jsx)("div",{className:"max-w-[56px] mr-2 ",children:(0,e.jsx)(at,{ellipsis:{tooltip:n.published_creator},className:"text-base",children:(0,e.jsx)("div",{className:" text-[#999999] text-xs",children:n.published_creator})})}),(0,e.jsx)("div",{children:n.published_time?(0,e.jsxs)("span",{className:"text-[#1B64F3]",children:[Mt()(n.published_time).format("YYYY-MM-DD HH:mm:ss")," ",i.formatMessage({id:"creation.publish"})]}):n.mode!==3?(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:"/icons/unpublish.svg",alt:"",className:"mr-[5px]"}),i.formatMessage({id:"creation.unpublish"})]}):null})]})]})]})]})],description:(0,e.jsxs)("div",{style:{height:100,margin:"20px 0 20px 0"},children:[(0,e.jsx)(Ft,{ellipsis:{rows:4,tooltip:n.description},className:"!mb-0",children:(0,e.jsx)("div",{style:{color:"#999999"},children:n.description})}),(0,e.jsx)("div",{onClick:function(S){S.stopPropagation()},className:"not_has_down_select hover:bg-gray-100 rounded-md",children:(0,e.jsx)(et.O,{onBlur:function(S){(0,$e.v_)(n.changeTags,[n.app_id])},listStyle:"horizontal",onChange:function(S){n.changeTags=S},placeholder:i.formatMessage({id:"addTag.addTag"}),defaultValue:(j=n.tags)===null||j===void 0?void 0:j.map(function(a){return a.id}),maxTagCount:5,options:un,className:"!w-full",variant:"borderless"},n.app_id)})]})})}),(0,e.jsxs)("div",{className:"flex justify-between",children:[(0,e.jsx)("div",{className:"flex items-center justify-start",style:{height:"24px"},children:n.list&&n.list.length?(0,e.jsx)(Ce.Z,{placement:"bottomLeft",content:(0,e.jsx)("div",{className:" overflow-auto",children:n.list.map(function(a,S){return(0,e.jsxs)("div",{className:"w-80 flex items-center justify-start p-1.5 rounded-md  cursor-pointer hover:bg-[#fafafa]",onClick:function(){return Ct(a)},children:[(0,e.jsx)("div",{className:"mr-3.5",children:(0,e.jsx)("div",{className:"w-[36px] h-[36px] bg-[#EDF3FE] rounded-lg mr-1.5 flex items-center justify-center ",children:(0,e.jsx)("img",{src:(0,T.s9)("single",a.icon),alt:""})})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-xs font-normal text-[#213044]",children:a.name}),(0,e.jsx)("div",{className:"text-xs font-normal text-[#666]",children:(a==null?void 0:a.mode)==1?i.formatMessage({id:"workflow.agent"}):(a==null?void 0:a.mode)==2?i.formatMessage({id:"component.menu.workflow"}):(a==null?void 0:a.mode)==3?i.formatMessage({id:"component.menu.knowledgeBase"}):i.formatMessage({id:"workflow.skill"})})]})]},S)})}),children:(0,e.jsxs)("div",{className:"flex items-center justify-around text-xs font-normal",children:[i.formatMessage({id:"creation.relevancy.app"})," ",":",n.list.slice(0,4).map(function(a,S){return(0,e.jsx)("div",{className:"ml-1.5",children:(0,e.jsx)(qe.Z,{Image:(0,T.s9)("single",a.icon),avatar:a.avatar,size:"24"})},S)}),n.list.length>4?(0,e.jsx)("div",{className:"w-8 h-8 bg-[#EDF3FE] rounded-lg ml-1.5 flex items-center justify-center ",children:(0,e.jsx)("img",{src:"/icons/more.svg",alt:""})}):null]})}):null}),(n==null?void 0:n.mode)===2?(0,e.jsx)("div",{className:"flex-1 flex justify-end items-center",children:(n==null?void 0:n.publish_status)==1?(0,e.jsx)("img",{onClick:function(){return dn(n)},src:"/icons/operation_icon.svg",className:"mr-2"}):(0,e.jsx)("img",{src:"/icons/operation_disable_icon.svg",className:"mr-2"})}):null,(0,e.jsx)("div",{children:JSON.parse((D=(0,T.f1)("GET"))===null||D===void 0?void 0:D.searchType)?null:(0,e.jsx)(Ce.Z,{placement:"rightTop",open:Ut==s,onOpenChange:function(S){me(-1)},mouseLeaveDelay:1,content:(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:(0,e.jsxs)(X.ZP,{type:"link",className:"text-[#213044]",onClick:function(){nn(n,-1)},children:[(0,e.jsx)(E.Z,{}),i.formatMessage({id:"creation.redact"})]})}),(0,e.jsx)("div",{children:(0,e.jsxs)(X.ZP,{type:"link",className:"text-[#E12222]",onClick:function(){return on(n,-1)},children:[(0,e.jsx)(m.Z,{}),i.formatMessage({id:"creation.delete"})]})})]}),children:(0,e.jsx)("div",{onMouseEnter:function(){me(s)},className:"w-[26px] h-[26px] flex items-center justify-center",children:(0,e.jsx)(r.Z,{onClick:function(){me(s)}},"setting")})})})]})]})})},s)}):null]})}):M&&M.list&&M.list.length==0?(0,e.jsxs)("div",{className:"w-full flex items-center flex-wrap justify-center mt-48",children:[(0,e.jsx)("div",{className:"w-full flex items-center justify-center mb-2.5",children:(0,e.jsx)("img",{src:"/icons/default.svg",alt:""})}),u&&u!==""?(0,e.jsxs)("div",{children:["\u201C",u,"\u201D"]}):(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"w-full text-center mb-3 text-[#666] text-sm",children:[i.formatMessage({id:"creation.margindescribe"})," ~"]}),(0,e.jsxs)("div",{className:"w-full text-center",children:[" ",(0,e.jsx)(X.ZP,{color:"primary",disabled:function(){if(location.pathname==="/knowledgebase")return!d(C.Dg.CREATE_KNOWLEDGE_BASE);var n=(0,T.f1)("GET").optionsModalId;return n===1?!d(C.Dg.CREATE_AGENT):n===2?!d(C.Dg.CREATE_WORKFLOW):n===4?!d(C.Dg.CREATE_SKILL):!(d(C.Dg.CREATE_AGENT)||d(C.Dg.CREATE_WORKFLOW)||d(C.Dg.CREATE_SKILL))}(),className:function(){if(location.pathname==="/knowledgebase")return d(C.Dg.CREATE_KNOWLEDGE_BASE)?"":"cursor-not-allowed opacity-50";var n=(0,T.f1)("GET").optionsModalId,s=!1;return n===1?s=!d(C.Dg.CREATE_AGENT):n===2?s=!d(C.Dg.CREATE_WORKFLOW):n===4?s=!d(C.Dg.CREATE_SKILL):s=!(d(C.Dg.CREATE_AGENT)||d(C.Dg.CREATE_WORKFLOW)||d(C.Dg.CREATE_SKILL)),s?"cursor-not-allowed opacity-50":""}(),onClick:function(){ln()},children:i.formatMessage({id:"creation.addnewapp"})})," "]})]})]}):null})}),(0,e.jsxs)(x.Z,{title:"",open:Ge,okText:i.formatMessage({id:"creation.conserve"}),onOk:tn,onCancel:en,children:[(0,e.jsxs)("div",{className:"mb-[30px]",children:[(0,e.jsxs)("div",{className:"mb-[15px]",children:[(f==null?void 0:f.mode)==1?i.formatMessage({id:"creation.agent"}):(f==null?void 0:f.mode)==2?i.formatMessage({id:"creation.workflow"}):(f==null?void 0:f.mode)==3?i.formatMessage({id:"creation.repository"}):i.formatMessage({id:"creation.skill"}),i.formatMessage({id:"creation.appiconname"})]}),(0,e.jsxs)("div",{className:"flex items-center justify-around",children:[(0,e.jsx)(_t.Z,{CardData:f,setCardData:Le}),(0,e.jsx)(l.Z,{showCount:!0,maxLength:50,placeholder:i.formatMessage({id:"creation.placeholder.appname"}),onChange:sn,value:ue})]})]}),(0,e.jsxs)("div",{className:"mb-[30px]",children:[(0,e.jsxs)("div",{className:"mb-[15px]",children:[(f==null?void 0:f.mode)==1?i.formatMessage({id:"creation.agent"}):(f==null?void 0:f.mode)==2?i.formatMessage({id:"creation.workflow"}):(f==null?void 0:f.mode)==3?i.formatMessage({id:"creation.repository"}):i.formatMessage({id:"creation.skill"}),i.formatMessage({id:"creation.appdescribe"})]}),(0,e.jsx)(Bt,{showCount:!0,maxLength:1e3,rows:4,placeholder:i.formatMessage({id:"creation.placeholder.appdescribe"}),onChange:an,value:pe})]})]}),(0,e.jsx)(tt.Z,{setIsModalOpen:be,isModalOpen:Ie,ModalType:Xt,CreationType:rt,setcreationType:H,transformData:V.filter(function(n){return n.apps_mode!==6})})]})},Wt=Gt},58533:function(Xe,te,o){var W=o(67294);var Y=function(E,m){return Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var l in t)t.hasOwnProperty(l)&&(r[l]=t[l])},Y(E,m)};function le(E,m){Y(E,m);function r(){this.constructor=E}E.prototype=m===null?Object.create(m):(r.prototype=m.prototype,new r)}var y=function(){return y=Object.assign||function(m){for(var r,t=1,l=arguments.length;t<l;t++){r=arguments[t];for(var x in r)Object.prototype.hasOwnProperty.call(r,x)&&(m[x]=r[x])}return m},y.apply(this,arguments)};function ce(E,m,r,t){var l,x=!1,L=0;function ne(){l&&clearTimeout(l)}function _e(){ne(),x=!0}typeof m!="boolean"&&(t=r,r=m,m=void 0);function Se(){var Ee=this,se=Date.now()-L,Ce=arguments;if(x)return;function X(){L=Date.now(),r.apply(Ee,Ce)}function c(){l=void 0}t&&!l&&X(),ne(),t===void 0&&se>E?X():m!==!0&&(l=setTimeout(t?c:X,t===void 0?E-se:E))}return Se.cancel=_e,Se}var k={Pixel:"Pixel",Percent:"Percent"},I={unit:k.Percent,value:.8};function p(E){return typeof E=="number"?{unit:k.Percent,value:E*100}:typeof E=="string"?E.match(/^(\d*(\.\d+)?)px$/)?{unit:k.Pixel,value:parseFloat(E)}:E.match(/^(\d*(\.\d+)?)%$/)?{unit:k.Percent,value:parseFloat(E)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),I):(console.warn("scrollThreshold should be string or number"),I)}var de=function(E){le(m,E);function m(r){var t=E.call(this,r)||this;return t.lastScrollTop=0,t.actionTriggered=!1,t.startY=0,t.currentY=0,t.dragging=!1,t.maxPullDownDistance=0,t.getScrollableTarget=function(){return t.props.scrollableTarget instanceof HTMLElement?t.props.scrollableTarget:typeof t.props.scrollableTarget=="string"?document.getElementById(t.props.scrollableTarget):(t.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},t.onStart=function(l){t.lastScrollTop||(t.dragging=!0,l instanceof MouseEvent?t.startY=l.pageY:l instanceof TouchEvent&&(t.startY=l.touches[0].pageY),t.currentY=t.startY,t._infScroll&&(t._infScroll.style.willChange="transform",t._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},t.onMove=function(l){t.dragging&&(l instanceof MouseEvent?t.currentY=l.pageY:l instanceof TouchEvent&&(t.currentY=l.touches[0].pageY),!(t.currentY<t.startY)&&(t.currentY-t.startY>=Number(t.props.pullDownToRefreshThreshold)&&t.setState({pullToRefreshThresholdBreached:!0}),!(t.currentY-t.startY>t.maxPullDownDistance*1.5)&&t._infScroll&&(t._infScroll.style.overflow="visible",t._infScroll.style.transform="translate3d(0px, "+(t.currentY-t.startY)+"px, 0px)")))},t.onEnd=function(){t.startY=0,t.currentY=0,t.dragging=!1,t.state.pullToRefreshThresholdBreached&&(t.props.refreshFunction&&t.props.refreshFunction(),t.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){t._infScroll&&(t._infScroll.style.overflow="auto",t._infScroll.style.transform="none",t._infScroll.style.willChange="unset")})},t.onScrollListener=function(l){typeof t.props.onScroll=="function"&&setTimeout(function(){return t.props.onScroll&&t.props.onScroll(l)},0);var x=t.props.height||t._scrollableNode?l.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!t.actionTriggered){var L=t.props.inverse?t.isElementAtTop(x,t.props.scrollThreshold):t.isElementAtBottom(x,t.props.scrollThreshold);L&&t.props.hasMore&&(t.actionTriggered=!0,t.setState({showLoader:!0}),t.props.next&&t.props.next()),t.lastScrollTop=x.scrollTop}},t.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:r.dataLength},t.throttledOnScrollListener=ce(150,t.onScrollListener).bind(t),t.onStart=t.onStart.bind(t),t.onMove=t.onMove.bind(t),t.onEnd=t.onEnd.bind(t),t}return m.prototype.componentDidMount=function(){if(typeof this.props.dataLength=="undefined")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},m.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},m.prototype.componentDidUpdate=function(r){this.props.dataLength!==r.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},m.getDerivedStateFromProps=function(r,t){var l=r.dataLength!==t.prevDataLength;return l?y(y({},t),{prevDataLength:r.dataLength}):null},m.prototype.isElementAtTop=function(r,t){t===void 0&&(t=.8);var l=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,x=p(t);return x.unit===k.Pixel?r.scrollTop<=x.value+l-r.scrollHeight+1:r.scrollTop<=x.value/100+l-r.scrollHeight+1},m.prototype.isElementAtBottom=function(r,t){t===void 0&&(t=.8);var l=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,x=p(t);return x.unit===k.Pixel?r.scrollTop+l>=r.scrollHeight-x.value:r.scrollTop+l>=x.value/100*r.scrollHeight},m.prototype.render=function(){var r=this,t=y({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),l=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),x=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return W.createElement("div",{style:x,className:"infinite-scroll-component__outerdiv"},W.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(L){return r._infScroll=L},style:t},this.props.pullDownToRefresh&&W.createElement("div",{style:{position:"relative"},ref:function(L){return r._pullDown=L}},W.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!l&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},m}(W.Component);te.Z=de}}]);
