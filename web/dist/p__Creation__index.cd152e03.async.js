"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[928],{83510:function(ye,U,a){a.d(U,{LK:function(){return E},bs:function(){return d},go:function(){return F},uy:function(){return S}});var z=a(15009),x=a.n(z),R=a(99289),c=a.n(R),T=a(47520),y="/v1/apps/apps_list",N="/v1/agent/agent_delete/",l="/v1/workflow/workflow_app_delete/",G="/v1/vector/delete_dataset/",k="/v1/skill/delete_skill_by_app_id/",L="/v1/apps/apps_create",W="/v1/apps/app_update/",F=function(){var P=c()(x()().mark(function D(h){var g;return x()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,T.ZP)("".concat(y),{method:"GET",data:h});case 2:return g=i.sent,i.abrupt("return",g);case 4:case"end":return i.stop()}},D)}));return function(h){return P.apply(this,arguments)}}(),E=function(){var P=c()(x()().mark(function D(h){var g;return x()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return console.log(h),i.next=3,h.mode;case 3:if(i.t0=i.sent,i.t0!=1){i.next=8;break}i.t1=(0,T.ZP)("".concat(N).concat(h.app_id),{method:"DELETE"}),i.next=9;break;case 8:i.t1=h.mode==2?(0,T.ZP)("".concat(l).concat(h.app_id),{method:"DELETE"}):h.mode==3?(0,T.ZP)("".concat(G).concat(h.app_id),{method:"DELETE"}):(0,T.ZP)("".concat(k).concat(h.app_id),{method:"DELETE",data:{is_soft:1}});case 9:return g=i.t1,i.abrupt("return",g);case 11:case"end":return i.stop()}},D)}));return function(h){return P.apply(this,arguments)}}(),S=function(){var P=c()(x()().mark(function D(h){var g;return x()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,T.ZP)("".concat(L),{method:"POST",data:h});case 2:return g=i.sent,i.abrupt("return",g);case 4:case"end":return i.stop()}},D)}));return function(h){return P.apply(this,arguments)}}(),d=function(){var P=c()(x()().mark(function D(h){var g;return x()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,T.ZP)("".concat(W).concat(h.app_id),{method:"PUT",data:h});case 2:return g=i.sent,i.abrupt("return",g);case 4:case"end":return i.stop()}},D)}));return function(h){return P.apply(this,arguments)}}()},72406:function(ye,U,a){var z=a(58533),x=a(99702),R=a(74330),c=a(85893),T=function(N){var l=N.children,G=N.elid,k=N.dataLength,L=N.ishasMore,W=N.upSlide,F=N.isFooter,E=N.pageNumber,S=E===void 0?2:E;return(0,c.jsxs)("div",{className:"h-full flex flex-col",children:[(0,c.jsx)(z.Z,{dataLength:k,scrollableTarget:G,next:W,hasMore:L,loader:(0,c.jsx)("div",{className:"flex justify-center h-[60px] items-center",children:S>1?(0,c.jsx)(R.Z,{}):(0,c.jsx)(c.Fragment,{})}),children:l}),F&&(0,c.jsx)("div",{className:"mt-[30px] flex-1 flex ",style:{alignItems:"flex-end"},children:(0,c.jsx)(x.Z,{className:"relative"})})]})};U.Z=T},21446:function(ye,U,a){var z=a(15009),x=a.n(z),R=a(97857),c=a.n(R),T=a(99289),y=a.n(T),N=a(5574),l=a.n(N),G=a(83510),k=a(32332),L=a(35312),W=a(26915),F=a(17788),E=a(67294),S=a(94840),d=a(85893),P=W.Z.TextArea,D=function(g){var K=g.setIsModalOpen,i=g.isModalOpen,ae=g.transformData,r=g.CreationType,oe=g.setcreationType,Ee=g.ModalType,M=(0,L.useIntl)(),Le=(0,E.useState)(""),re=l()(Le,2),ie=re[0],m=re[1],$=(0,E.useState)(""),Te=l()($,2),Be=Te[0],Ne=Te[1],Ue=(0,E.useState)({id:1,icon:"/icons/headportrait/Android.svg"}),Se=l()(Ue,2),De=Se[0],Re=Se[1];(0,E.useEffect)(function(){},[]);var e=function(b){m(b.target.value)},Ge=function(b){Ne(b.target.value)},We=function(){var w=y()(x()().mark(function b(){var H,me;return x()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(H={name:ie,mode:r.apps_mode,description:Be,icon:JSON.stringify(De.id),icon_background:""},r.apps_mode!=2){s.next=8;break}return s.next=4,(0,G.uy)(H);case 4:me=s.sent,me.code===0&&(K(!1),pe(me.data.app_id)),s.next=10;break;case 8:(0,k.Go)("SET",c()(c()({},H),{},{type:!1})),pe();case 10:case"end":return s.stop()}},b)}));return function(){return w.apply(this,arguments)}}(),Fe=function(b){ae.map(function(H){H.name==b.name&&(console.log(H,"item"),oe(H))})},pe=function(b){b?L.history.push("/".concat(r.path,"?app_id=").concat(b,"&&type=false")):L.history.push("/".concat(r.path,"?type=false"))};return(0,d.jsx)(F.Z,{title:M.formatMessage({id:"creation.addnewapp"}),open:i,okText:M.formatMessage({id:"creation"}),onOk:We,onCancel:function(){return K(!1)},okButtonProps:{disabled:ie===""},width:820,children:(0,d.jsxs)("div",{className:"pb-1",children:[Ee?(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium text-xs mb-4 mt-8",children:M.formatMessage({id:"creation.appntype"})}),(0,d.jsx)("div",{className:"flex items-center justify-around gap-y-[24px]",children:ae&&ae.map(function(w){return(0,d.jsxs)("div",{className:"w-44 h-24 rounded-lg text-center bg-[url('/images/bg.png')] bg-[length:176px_96px] cursor-pointer",style:{border:w.apps_mode===r.apps_mode?"1px solid #1B64F3":"1px solid #eeeeee"},onClick:function(){Fe(w)},children:[(0,d.jsx)("div",{className:"flex items-center justify-center mt-5 mb-2.5",children:(0,d.jsx)("img",{className:"w-6 h-6",src:w.signicon,alt:""})}),(0,d.jsx)("div",{className:"text-p[#213044] text-base font-normal",children:w.name})]})})})]}):null,(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsxs)("p",{className:"text-xs mt-5",children:[r.apps_mode==1?M.formatMessage({id:"creation.agent"}):r.apps_mode==2?M.formatMessage({id:"creation.workflow"}):r.apps_mode==3?M.formatMessage({id:"creation.repository"}):M.formatMessage({id:"creation.skill"}),M.formatMessage({id:"creation.appiconname"})]}),(0,d.jsxs)("div",{className:"flex items-center justify-around",children:[(0,d.jsx)(S.Z,{CardData:De,setCardData:Re}),(0,d.jsx)(W.Z,{showCount:!0,maxLength:20,placeholder:M.formatMessage({id:"creation.placeholder.appname"}),onChange:e})]})]}),(0,d.jsxs)("div",{className:"mb-5 text-xs",children:[(0,d.jsxs)("p",{children:[r.apps_mode==1?M.formatMessage({id:"creation.agent"}):r.apps_mode==2?M.formatMessage({id:"creation.workflow"}):r.apps_mode==3?M.formatMessage({id:"creation.repository"}):M.formatMessage({id:"creation.skill"}),M.formatMessage({id:"creation.appdescribe"})]}),(0,d.jsx)(P,{showCount:!0,maxLength:100,rows:4,placeholder:M.formatMessage({id:"creation.placeholder.appdescribe"}),onChange:Ge})]})]})]})})};U.Z=D},94840:function(ye,U,a){var z=a(97857),x=a.n(z),R=a(32332),c=a(55241),T=a(67294),y=a(85893),N=function(G){var k=G.CardData,L=G.setCardData;(0,T.useEffect)(function(){},[]);var W=function(){return(0,y.jsx)("div",{className:"flex justify-start items-center flex-wrap w-40",children:(0,R.s9)("all").map(function(S){return(0,y.jsx)("div",{className:"w-8 h-8 bg-[#F4F8F1] rounded-lg mr-1.5 flex items-center justify-center m-0.5 cursor-pointer",onClick:function(){F(S)},children:(0,y.jsx)("img",{src:S.image,alt:""})})})})},F=function(S){L(x()(x()({},k),{},{icon:S.image,id:S.id}))};return(0,y.jsx)(c.Z,{content:W,trigger:"click",placement:"bottomLeft",children:(0,y.jsx)("div",{className:"w-8 h-8 bg-[#F4F8F1] rounded-lg mr-1.5 flex items-center justify-center m-0.5 cursor-pointer",children:(0,y.jsx)("img",{src:(0,R.s9)("single",k.id?k.id:k.icon),alt:""})})})};U.Z=N},91375:function(ye,U,a){a.r(U),a.d(U,{default:function(){return me}});var z=a(97857),x=a.n(z),R=a(15009),c=a.n(R),T=a(99289),y=a.n(T),N=a(5574),l=a.n(N),G=a(40110),k=a(47389),L=a(82061),W=a(43425),F=a(71471),E=a(26915),S=a(17788),d=a(2453),P=a(78045),D=a(74330),h=a(71230),g=a(15746),K=a(4393),i=a(55241),ae=a(28036),r=a(67294),oe=a(83510),Ee=a(42237),M=a(78697),Le=a(72406),re=a(54543),ie=a(29608),m=a(32332),$=a(35312),Te=a(27484),Be=a.n(Te),Ne=a(21446),Ue=a(47520),Se=a(33914),De=a(57546),Re=a(46822),e=a(85893),Ge=function(s){var te=s.optionsModalId,j=(0,$.useIntl)(),O=(0,r.useState)(!0),fe=l()(O,2),Ke=fe[0],be=fe[1],le=E.Z.TextArea,Y=[{name:j.formatMessage({id:"creation.agent"}),path:"Agents",icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",unselected:"/icons/creation/unselectedrobot.svg",apps_mode:1},{name:j.formatMessage({id:"creation.workflow"}),path:"workspace/workflow",icon:"/icons/creation/gongzuoliu1.svg",pitchicon:"/icons/creation/pitchgongzuoliu.svg",signicon:"/icons/creation/signgongzuoliu.svg",unselected:"/icons/creation/unselectedprocess.svg",apps_mode:2},{name:j.formatMessage({id:"creation.skill"}),path:"Skill",icon:"/icons/creation/jienng1.svg",pitchicon:"/icons/creation/pitchzhishik.svg",signicon:"/icons/creation/signzhishik.svg",unselected:"/icons/creation/unselectedrepository.svg",apps_mode:4}];location.pathname=="/knowledgebase"&&Y.push({name:j.formatMessage({id:"creation.repository"}),path:"Createkb",icon:"/icons/creation/jienng1.svg",pitchicon:"/icons/creation/pitchzhishik.svg",signicon:"/icons/creation/signzhishik.svg",unselected:"/icons/creation/unselectedrepository.svg",apps_mode:3});var ze=(0,r.useState)(!1),he=l()(ze,2),He=he[0],Q=he[1],Je=(0,r.useState)({name:j.formatMessage({id:"creation.agent"}),path:"Agents",icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",apps_mode:1}),ge=l()(Je,2),ce=ge[0],de=ge[1],Ve=(0,r.useState)(""),ve=l()(Ve,2),Oe=ve[0],Pe=ve[1],$e=(0,r.useState)(""),xe=l()($e,2),u=xe[0],we=xe[1],Ye=(0,r.useState)({id:12,icon:"\u{1F612}"}),_e=l()(Ye,2),Qe=_e[0],ra=_e[1];(0,r.useEffect)(function(){location.pathname=="/knowledgebase"&&be(!1)});var Ie=function(v){var _=Y.filter(function(ue){return ue.apps_mode==v});Q(!0),de(_[0]?_[0]:{name:"Agent",path:"Agents",icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",apps_mode:1})},Xe=function(){Q(!1)},qe=function(v){$.history.push("/".concat(ce.path,"?app_id=").concat(v,"&type=false"))},ea=function(v){Y.map(function(_){_.name==v.target.value&&(console.log(_,"item"),de(_))})},ia=function(v){Pe(v.target.value)},aa=function(v){we(v.target.value)},la=function(){var p=y()(c()().mark(function v(){var _;return c()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.next=2,(0,oe.uy)({name:Oe,mode:ce.apps_mode,description:u,icon:Qe.icon,icon_background:""});case 2:_=J.sent,_.code===0&&(Q(!1),qe(_.data.app_id));case 4:case"end":return J.stop()}},v)}));return function(){return p.apply(this,arguments)}}(),Ae=(0,r.useState)(!1),se=l()(Ae,2),ta=se[0],ne=se[1],je=function(){console.log("Import cancelled"),ne(!1)},sa=(0,r.memo)(function(){var p=(0,r.useState)([]),v=l()(p,2),_=v[0],ue=v[1],J={icon:(0,e.jsx)(Se.Z,{}),title:j.formatMessage({id:"workflow.uploadFileText",defaultMessage:"Drag file here, or click to upload"}),description:"Upload the exported workflow yml file",accept:".yml,.yaml",fieldProps:{listType:"text",name:"file",multiple:!0,maxCount:1,headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},action:Ue._n+"/v1/workflow/import",beforeUpload:function(Z){return ue([Z]),!1}},onChange:function(Z){var B=Z.file.status;if(B==="done"){var I;(Z==null||(I=Z.file)===null||I===void 0||(I=I.response)===null||I===void 0?void 0:I.code)===0?(d.ZP.success(j.formatMessage({id:"workflow.importSuccess"})),ne(!1)):d.ZP.error(j.formatMessage({id:"workflow.importFailed"}))}else B==="error"&&d.ZP.error("".concat(Z.file.name," file upload failed."))}},ke=function(){if(_.length>0){var Z=new FormData;Z.append("file",_[0]),(0,Ee.Uq)(Z).then(function(B){if((B==null?void 0:B.code)==0){var I;$.history.push("/workspace/workflow?app_id=".concat(B==null||(I=B.data)===null||I===void 0?void 0:I.app_id,"&type=false"))}})}ne(!1)};return(0,e.jsx)(S.Z,{title:j.formatMessage({id:"creation.importWorkflow"}),open:ta,onOk:ke,okButtonProps:{loading:!1},okText:j.formatMessage({id:"workflow.import"}),onCancel:je,children:(0,e.jsx)(Re.Z,x()({name:"file"},J))})});return(0,e.jsxs)(K.Z,{style:{minWidth:300,marginTop:10,backgroundColor:"#EFF0F2"},bodyStyle:{height:"100%"},hoverable:!1,children:[(0,e.jsx)(sa,{}),(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"194px"},children:[te===6?(0,e.jsxs)("div",{className:"flex justify-around items-start h-full w-full ",style:{flexDirection:"column",height:"calc(100% + 24px)"},children:[Y.map(function(p,v){return(0,e.jsxs)("div",{className:"hover:bg-[#fff] w-full rounded-lg h-8 cursor-pointer flex items-center",onClick:function(){return Ie(p.apps_mode)},children:[(0,e.jsx)("img",{src:p.icon,style:{width:"16px",height:"16px",margin:"0 5px 0 10px"},alt:""}),(0,e.jsxs)("div",{style:{color:"#213044"},children:[j.formatMessage({id:"creation.new"}),p.name]})]})}),(0,e.jsxs)("div",{onClick:function(){return ne(!0)},className:"hover:bg-[#fff] w-full rounded-lg h-8 cursor-pointer flex items-center text-[#213044]",children:[(0,e.jsx)(De.Z,{className:"size-4  mr-[5px] ml-[10px]"})," ",j.formatMessage({id:"creation.importWorkflow"})]})]}):null,(0,e.jsx)("div",{className:" flex-wrap h-full text-[#999] text-[12px] cursor-pointer",style:{width:te===6?"50%":"100%"},onClick:function(){return Ie(te)},children:te===6?(0,e.jsxs)("div",{className:"mt-[62px]",children:[(0,e.jsx)("div",{className:"h-[42px] flex justify-center",children:(0,e.jsx)("img",{src:"/icons/creation/add.svg",alt:""})}),(0,e.jsxs)("div",{className:"svg-container w-full text-center",children:[" ",j.formatMessage({id:"creation.addcreation"})]})]}):Y.filter(function(p,v){return p.apps_mode==te}).map(function(p,v){return(0,e.jsxs)("div",{className:"mt-[50px]",children:[(0,e.jsx)("div",{className:"h-[42px] flex justify-center mb-[10px]",children:(0,e.jsx)("img",{src:p.unselected?p.unselected:"/icons/creation/add.svg",alt:""})}),(0,e.jsxs)("div",{className:"svg-container w-full text-center",children:[j.formatMessage({id:"creation.new"}),p.name?p.name:j.formatMessage({id:"creation.adhibition"})]})]})})})]}),(0,e.jsx)(Ne.Z,{setIsModalOpen:Q,isModalOpen:He,ModalType:Ke,CreationType:ce,setcreationType:de,transformData:Y})]})},We=Ge,Fe=a(94840),pe=F.Z.Text,w=F.Z.Paragraph,b=E.Z.TextArea,H=function(){var s=(0,$.useIntl)(),te=(0,r.useState)(null),j=l()(te,2),O=j[0],fe=j[1],Ke=(0,r.useState)(1),be=l()(Ke,2),le=be[0],Y=be[1],ze=(0,r.useState)(!1),he=l()(ze,2),He=he[0],Q=he[1],Je=(0,r.useState)(""),ge=l()(Je,2),ce=ge[0],de=ge[1],Ve=(0,r.useState)(""),ve=l()(Ve,2),Oe=ve[0],Pe=ve[1],$e=(0,r.useState)(null),xe=l()($e,2),u=xe[0],we=xe[1],Ye=(0,r.useState)(!1),_e=l()(Ye,2),Qe=_e[0],ra=_e[1],Ie=(0,r.useState)(!1),Xe=l()(Ie,2),qe=Xe[0],ea=Xe[1],ia=(0,r.useState)({name:"Agent",path:s.formatMessage({id:"creation.agent"}),icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",apps_mode:1}),aa=l()(ia,2),la=aa[0],Ae=aa[1],se=[{apps_mode:6,name:s.formatMessage({id:"creation.all"}),path:"Agents",icon:"/icons/creation/quanbu.svg",unselected:"/icons/creation/quanbu.svg",pitchicon:"/icons/creation/pitchquanbu.svg",signicon:"/icons/creation/pitchquanbu.svg"},{apps_mode:1,name:s.formatMessage({id:"creation.agent"}),path:"Agents",icon:"/icons/creation/agent.svg",unselected:"/icons/creation/unselectedrobot.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg"},{apps_mode:2,name:s.formatMessage({id:"creation.workflow"}),path:"workspace/workflow",icon:"/icons/creation/gongzuoliu1.svg",unselected:"/icons/creation/unselectedprocess.svg",pitchicon:"/icons/creation/pitchgongzuoliu.svg",signicon:"/icons/creation/signgongzuoliu.svg"},{apps_mode:4,name:s.formatMessage({id:"creation.skill"}),path:"Skill",icon:"/icons/creation/jienng1.svg",unselected:"/icons/creation/unselectedskill.svg",pitchicon:"/icons/creation/pitchskill.svg",signicon:"/icons/creation/signskill.svg"}],ta=(0,r.useState)(6),ne=l()(ta,2),je=ne[0],sa=ne[1],p=(0,r.useState)(!1),v=l()(p,2),_=v[0],ue=v[1],J=(0,r.useState)(""),ke=l()(J,2),X=ke[0],Z=ke[1],B=(0,r.useState)(!1),I=l()(B,2),Ma=I[0],ca=I[1],Ca=(0,r.useState)([{apps_mode:1,name:s.formatMessage({id:"creation.agent"}),path:"Agents",readOnlypath:"ReadOnlyAgent"},{apps_mode:2,name:s.formatMessage({id:"creation.workflow"}),path:"workspace/workflow"},{apps_mode:3,name:s.formatMessage({id:"creation.repository"}),path:"createkb"},{apps_mode:4,name:s.formatMessage({id:"creation.skill"}),path:"Skill",readOnlypath:"ReadOnlySkill"}]),da=l()(Ca,2),ua=da[0],Fa=da[1],ya=(0,r.useState)(!0),pa=l()(ya,2),Ea=pa[0],ma=pa[1],Ta=(0,r.useState)(-1),fa=l()(Ta,2),Na=fa[0],Me=fa[1],Sa=(0,r.useState)([]),ha=l()(Sa,2),ga=ha[0],Da=ha[1],q=function(){var t=y()(c()().mark(function n(f,A,ee,o,C,na,V){var ja,Ze;return c()().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:return ja={page:f||le,page_size:27,search_type:(0,m.f1)("GET").searchType==!0?2:1,apps_mode:(0,m.f1)("GET").optionsModalId,apps_name:o||o==""?o:X,tag_ids:V?V.join(","):""},ma(!0),Ce.next=4,(0,oe.go)(ja);case 4:Ze=Ce.sent,ca(!0),fe(C?{list:O.list.concat(Ze.data.list)}:Ze.data),ma(!1),Ze.data.list.length<27&&ca(!1);case 9:case"end":return Ce.stop()}},n)}));return function(f,A,ee,o,C,na,V){return t.apply(this,arguments)}}();(0,r.useEffect)(function(){if((0,m.op)(),location.pathname=="/knowledgebase"){var t={apps_mode:3,name:s.formatMessage({id:"creation.repository"}),path:"Createkb"};va(t)}else ra(!0),q(1,null)},[]);var ba=function(){Y(le+1),q(le+1,_,null,null,!0)},va=function(n){sa(n.apps_mode),(0,m.f1)("SET",n.apps_mode,JSON.parse((0,m.f1)("GET").searchType)),q(1,_,n.apps_mode)},Oa=function(n){Z(n.target.value),q(1,_,je,n.target.value)};(0,r.useEffect)(function(){q(1,_,je,X,null,null,ga)},[ga]);var Pa=function(){Q(!1)},wa=function(){var t=y()(c()().mark(function n(){var f,A;return c()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return f={name:ce,description:Oe,app_id:u.app_id,mode:u.mode,icon:u.id?JSON.stringify(u.id):u.icon,icon_background:""},o.next=3,(0,oe.bs)(f);case 3:A=o.sent,A.code==0&&(Q(!1),q(1,_,null,null,null,le*27));case 5:case"end":return o.stop()}},n)}));return function(){return t.apply(this,arguments)}}(),Ia=function(n,f){Me(f),Q(!0),de(n.name),Pe(n.description),we(n)},Aa=function(n){de(n.target.value)},ka=function(n){Pe(n.target.value)},xa=function(n){event.stopPropagation(),(0,m.Go)("SET",x()(x()({},n),{},{type:(0,m.f1)("GET").searchType}));var f=ua.filter(function(A){return A.apps_mode===n.mode});(n.mode===1||n.mode===4)&&(0,m.f1)("GET").searchType==!0?$.history.push("/".concat(f[0].readOnlypath,"?app_id=").concat(n.app_id?n.app_id:n.apps_id,"&type=").concat((0,m.f1)("GET").searchType)):$.history.push("/".concat(f[0].path,"?app_id=").concat(n.app_id?n.app_id:n.apps_id,"&type=").concat((0,m.f1)("GET").searchType))},Za=function(n,f){Me(f),S.Z.confirm({title:s.formatMessage({id:"creation.modal.returnconfirm"}),content:s.formatMessage({id:"creation.modal.deldescribe"}),onOk:function(){var A=y()(c()().mark(function o(){var C;return c()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,(0,oe.LK)(n);case 2:C=V.sent,C&&C.code==0?(d.ZP.success(s.formatMessage({id:"creation.modal.delsuccess"})),q(1,null,null,null,null,le*27)):d.ZP.error(s.formatMessage({id:"creation.modal.delerror"}));case 4:case"end":return V.stop()}},o)}));function ee(){return A.apply(this,arguments)}return ee}(),onCancel:function(){}})},La=function(n){var f=JSON.parse(n.target.value);ue(f),(0,m.f1)("SET",null,f),q(1,f)},Ba=function(){var n=se.filter(function(f){return f.apps_mode==(0,m.f1)("GET").optionsModalId});ea(!0),Ae(n[0].apps_mode!==6?n[0]:{name:"Agent",path:"Agents",icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",apps_mode:1})},Ua=(0,ie.Z)(function(t){return t.setRunId}),Ka=(0,ie.Z)(function(t){return t.setRunPanelLogRecord}),za=(0,ie.Z)(function(t){return t.setDealtWithData}),Ra=function(n){Ua(n.app_id)},_a=(0,re.e0)(),Ga=_a.tagList,Wa=_a.refreshTags;return(0,r.useEffect)(function(){},[je]),(0,e.jsxs)("div",{className:" pb-[10px] flex flex-col",style:{height:"calc(-60px + 100vh)",width:"100%",margin:"0 auto"},children:[(0,e.jsxs)("div",{className:"flex px-[30px] py-[20px] mx-[8px] items-center justify-between",children:[(0,e.jsx)("div",{className:"flex items-center",children:Qe?se.map(function(t,n){return(0,e.jsxs)("div",{onClick:function(){va(t)},className:"flex justify-center items-center h-8 rounded-lg mr-4 cursor-pointer px-[10px]",style:(0,m.f1)("GET").optionsModalId==t.apps_mode?{color:"#1B64F3",backgroundColor:"#ffffff"}:{color:"#9097a1"},children:[(0,e.jsx)("div",{className:"mr-2",children:(0,e.jsx)("img",{src:(0,m.f1)("GET").optionsModalId==t.apps_mode?t.pitchicon:t.unselected,alt:""})}),(0,e.jsx)("div",{children:t.name})]})}):""}),(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("div",{className:"min-w-[200px] mr-4",children:(0,e.jsx)(re.ZP,{allowClear:!0,modes:(0,m.f1)("GET").optionsModalId,onTagChange:function(){Wa()},onChange:function(n){Da(n)}})}),(0,e.jsx)("div",{className:" mr-5",children:(0,e.jsxs)(P.ZP.Group,{onChange:La,defaultValue:JSON.stringify((0,m.f1)("GET").searchType),children:[(0,e.jsx)(P.ZP.Button,{value:"true",children:s.formatMessage({id:"creation.team"})}),(0,e.jsx)(P.ZP.Button,{value:"false",children:s.formatMessage({id:"creation.individual"})})]})}),(0,e.jsx)(E.Z,{style:{width:300},prefix:(0,e.jsx)(G.Z,{}),placeholder:s.formatMessage({id:"creation.placeholder.searchname"}),variant:"filled",onChange:Oa})]})]}),(0,e.jsx)(D.Z,{spinning:Ea,size:"large",className:"mt-[112px]",children:(0,e.jsx)("div",{id:"Creation",style:{overflowY:"auto",height:"calc(100vh - 128px)"},children:O&&O.list&&O.list.length>0?(0,e.jsx)(Le.Z,{dataLength:O.list.length,elid:"Creation",ishasMore:Ma,upSlide:ba,isFooter:!0,children:(0,e.jsxs)(h.Z,{gutter:[16,8],wrap:!0,style:{margin:0},className:"px-[30px]",children:[(0,e.jsx)(g.Z,{sm:24,md:12,lg:12,xl:8,xxl:6,children:(0,e.jsx)(We,{optionsModalId:(0,m.f1)("GET").optionsModalId})}),O&&O.list&&O.list.length?O.list.map(function(t,n){var f,A,ee;return(0,e.jsx)(g.Z,{className:"gutter-row",sm:24,md:12,lg:12,xl:8,xxl:6,children:(0,e.jsx)(K.Z,{className:" cursor-pointer transition shadow-lg shadow-gray-100 hover:shadow-gray-200",style:{marginTop:10,minWidth:300},hoverable:!1,styles:{body:{padding:"20px"}},children:(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{onClick:function(){return xa(t)},children:(0,e.jsx)(K.Z.Meta,{title:[(0,e.jsxs)("div",{className:"flex w-full",children:[(0,e.jsx)("div",{className:"mr-[17px] shrink-0",children:(0,e.jsx)(M.Z,{Image:(0,m.s9)("single",t.icon),icon:(0,m.f1)("GET").optionsModalId===6?(f=se.filter(function(o){return o.apps_mode===t.mode})[0])===null||f===void 0?void 0:f.signicon:null})}),(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[" ",(0,e.jsx)("div",{style:{maxWidth:"160px"},className:"text-sm text-[#213044] font-medium truncate",children:(0,e.jsx)(pe,{ellipsis:{tooltip:t.name},children:t.name})}),(0,e.jsxs)("div",{className:" leading-6 flex items-center justify-end text-xs font-normal text-[#999999]",children:[(0,e.jsxs)("div",{children:[s.formatMessage({id:"creation.numberofcitation"}),":"," "]}),(0,e.jsxs)("div",{className:"text-[#1B64F3] ml-2",children:[" ",t.execution_times?t.execution_times:0]})]})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between w-full text-xs font-normal text-[#999999]",children:[(0,e.jsx)("div",{className:"text-xs font-normal text-[#999999] mt-[7px]",children:ua.map(function(o,C){return o.apps_mode===t.mode?o.name:null})}),(0,e.jsxs)("div",{className:" flex items-center justify-end mt-[7px]",children:[(0,e.jsx)("div",{className:"max-w-[56px] mr-2 ",children:(0,e.jsx)(pe,{ellipsis:{tooltip:t.published_creator},className:"text-base",children:(0,e.jsx)("div",{className:" text-[#999999] text-xs",children:t.published_creator})})}),(0,e.jsx)("div",{children:t.published_time?(0,e.jsxs)("span",{className:"text-[#1B64F3]",children:[Be()(t.published_time).format("YYYY-MM-DD HH:mm:ss")," ",s.formatMessage({id:"creation.publish"})]}):t.mode!==3?(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:"/icons/unpublish.svg",alt:"",className:"mr-[5px]"}),s.formatMessage({id:"creation.unpublish"})]}):null})]})]})]})]})],description:(0,e.jsxs)("div",{style:{height:100,margin:"20px 0 20px 0"},children:[(0,e.jsx)(w,{ellipsis:{rows:4,tooltip:t.description},className:"!mb-0",children:(0,e.jsx)("div",{style:{color:"#999999"},children:t.description})}),(0,e.jsx)("div",{onClick:function(C){C.stopPropagation()},className:"not_has_down_select hover:bg-gray-100 rounded-md",children:(0,e.jsx)(re.OT,{onBlur:function(C){(0,Ee.v_)(t.changeTags,[t.app_id])},onChange:function(C){t.changeTags=C},placeholder:s.formatMessage({id:"addTag.addTag"}),defaultValue:(A=t.tags)===null||A===void 0?void 0:A.map(function(o){return o.id}),maxTagCount:5,options:Ga,className:"!w-full",variant:"borderless"},t.app_id)})]})})}),(0,e.jsxs)("div",{className:"flex justify-between",children:[(0,e.jsx)("div",{className:"flex items-center justify-start",style:{height:"24px"},children:t.list&&t.list.length?(0,e.jsx)(i.Z,{placement:"bottomLeft",content:(0,e.jsx)("div",{className:" overflow-auto",children:t.list.map(function(o,C){return(0,e.jsxs)("div",{className:"w-80 flex items-center justify-start p-1.5 rounded-md  cursor-pointer hover:bg-[#fafafa]",onClick:function(){return xa(o)},children:[(0,e.jsx)("div",{className:"mr-3.5",children:(0,e.jsx)("div",{className:"w-[36px] h-[36px] bg-[#EDF3FE] rounded-lg mr-1.5 flex items-center justify-center ",children:(0,e.jsx)("img",{src:(0,m.s9)("single",o.icon),alt:""})})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-xs font-normal text-[#213044]",children:o.name}),(0,e.jsx)("div",{className:"text-xs font-normal text-[#666]",children:(o==null?void 0:o.mode)==1?s.formatMessage({id:"workflow.agent"}):(o==null?void 0:o.mode)==2?s.formatMessage({id:"component.menu.workflow"}):(o==null?void 0:o.mode)==3?s.formatMessage({id:"component.menu.knowledgeBase"}):s.formatMessage({id:"workflow.skill"})})]})]},C)})}),children:(0,e.jsxs)("div",{className:"flex items-center justify-around text-xs font-normal",children:[s.formatMessage({id:"creation.relevancy.app"})," ",":",t.list.slice(0,4).map(function(o,C){return(0,e.jsx)("div",{children:(0,e.jsx)("div",{className:"w-8 h-8 bg-[#EDF3FE] rounded-lg ml-1.5 flex items-center justify-center ",children:(0,e.jsx)("img",{src:(0,m.s9)("single",o.icon),alt:""})})},C)}),t.list.length>4?(0,e.jsx)("div",{className:"w-8 h-8 bg-[#EDF3FE] rounded-lg ml-1.5 flex items-center justify-center ",children:(0,e.jsx)("img",{src:"/icons/more.svg",alt:""})}):null]})}):null}),(t==null?void 0:t.mode)===2?(0,e.jsx)("div",{className:"flex-1 flex justify-end items-center",children:(t==null?void 0:t.publish_status)==1?(0,e.jsx)("img",{onClick:function(){return Ra(t)},src:"/icons/operation_icon.svg",className:"mr-2"}):(0,e.jsx)("img",{src:"/icons/operation_disable_icon.svg",className:"mr-2"})}):null,(0,e.jsx)("div",{children:JSON.parse((ee=(0,m.f1)("GET"))===null||ee===void 0?void 0:ee.searchType)?null:(0,e.jsx)(i.Z,{placement:"rightTop",open:Na==n,onOpenChange:function(C){Me(-1)},content:(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:(0,e.jsxs)(ae.ZP,{type:"link",className:"text-[#213044]",onClick:function(){Ia(t,-1)},children:[(0,e.jsx)(k.Z,{}),s.formatMessage({id:"creation.redact"})]})}),(0,e.jsx)("div",{children:(0,e.jsxs)(ae.ZP,{type:"link",className:"text-[#E12222]",onClick:function(){return Za(t,-1)},children:[(0,e.jsx)(L.Z,{}),s.formatMessage({id:"creation.delete"})]})})]}),children:(0,e.jsx)("div",{onMouseEnter:function(){Me(n)},className:"w-[26px] h-[26px] flex items-center justify-center",children:(0,e.jsx)(W.Z,{onClick:function(){Me(n)}},"setting")})})})]})]})})},n)}):null]})}):O&&O.list&&O.list.length==0?(0,e.jsxs)("div",{className:"w-full flex items-center flex-wrap justify-center mt-48",children:[(0,e.jsx)("div",{className:"w-full flex items-center justify-center mb-2.5",children:(0,e.jsx)("img",{src:"/icons/default.svg",alt:""})}),X&&X!==""?(0,e.jsxs)("div",{children:["\u201C",X,"\u201D"]}):(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"w-full text-center mb-3 text-[#666] text-sm",children:[s.formatMessage({id:"creation.margindescribe"})," ~"]}),(0,e.jsxs)("div",{className:"w-full text-center",children:[" ",(0,e.jsx)(ae.ZP,{color:"primary",onClick:function(){Ba()},children:s.formatMessage({id:"creation.addnewapp"})})," "]})]})]}):null})}),(0,e.jsxs)(S.Z,{title:"",open:He,okText:s.formatMessage({id:"creation.conserve"}),onOk:wa,onCancel:Pa,children:[(0,e.jsxs)("div",{className:"mb-[30px]",children:[(0,e.jsxs)("div",{className:"mb-[15px]",children:[(u==null?void 0:u.mode)==1?s.formatMessage({id:"creation.agent"}):(u==null?void 0:u.mode)==2?s.formatMessage({id:"creation.workflow"}):(u==null?void 0:u.mode)==3?s.formatMessage({id:"creation.repository"}):s.formatMessage({id:"creation.skill"}),s.formatMessage({id:"creation.appiconname"})]}),(0,e.jsxs)("div",{className:"flex items-center justify-around",children:[(0,e.jsx)(Fe.Z,{CardData:u,setCardData:we}),(0,e.jsx)(E.Z,{showCount:!0,maxLength:20,placeholder:s.formatMessage({id:"creation.placeholder.appname"}),onChange:Aa,value:ce})]})]}),(0,e.jsxs)("div",{className:"mb-[30px]",children:[(0,e.jsxs)("div",{className:"mb-[15px]",children:[(u==null?void 0:u.mode)==1?s.formatMessage({id:"creation.agent"}):(u==null?void 0:u.mode)==2?s.formatMessage({id:"creation.workflow"}):(u==null?void 0:u.mode)==3?s.formatMessage({id:"creation.repository"}):s.formatMessage({id:"creation.skill"}),s.formatMessage({id:"creation.appdescribe"})]}),(0,e.jsx)(b,{showCount:!0,maxLength:100,rows:4,placeholder:s.formatMessage({id:"creation.placeholder.appdescribe"}),onChange:ka,value:Oe})]})]}),(0,e.jsx)(Ne.Z,{setIsModalOpen:ea,isModalOpen:qe,ModalType:!0,CreationType:la,setcreationType:Ae,transformData:se.filter(function(t){return t.apps_mode!==6})})]})},me=H}}]);
