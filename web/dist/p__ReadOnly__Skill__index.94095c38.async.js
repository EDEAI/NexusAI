(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[630],{82826:function(z,F,t){"use strict";t.d(F,{Z:function(){return b}});var j=t(1413),n=t(67294),V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},g=V,w=t(91146),u=function(A,R){return n.createElement(w.Z,(0,j.Z)((0,j.Z)({},A),{},{ref:R,icon:g}))},N=n.forwardRef(u),b=N},89035:function(z,F,t){"use strict";t.d(F,{Z:function(){return b}});var j=t(1413),n=t(67294),V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M516 673c0 4.4 3.4 8 7.5 8h185c4.1 0 7.5-3.6 7.5-8v-48c0-4.4-3.4-8-7.5-8h-185c-4.1 0-7.5 3.6-7.5 8v48zm-194.9 6.1l192-161c3.8-3.2 3.8-9.1 0-12.3l-192-160.9A7.95 7.95 0 00308 351v62.7c0 2.4 1 4.6 2.9 6.1L420.7 512l-109.8 92.2a8.1 8.1 0 00-2.9 6.1V673c0 6.8 7.9 10.5 13.1 6.1zM880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"code",theme:"outlined"},g=V,w=t(91146),u=function(A,R){return n.createElement(w.Z,(0,j.Z)((0,j.Z)({},A),{},{ref:R,icon:g}))},N=n.forwardRef(u),b=N},81644:function(z,F,t){"use strict";t.d(F,{Z:function(){return b}});var j=t(1413),n=t(67294),V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-792 72h752v120H136V232zm752 560H136V440h752v352zm-237-64h165c4.4 0 8-3.6 8-8v-72c0-4.4-3.6-8-8-8H651c-4.4 0-8 3.6-8 8v72c0 4.4 3.6 8 8 8z"}}]},name:"credit-card",theme:"outlined"},g=V,w=t(91146),u=function(A,R){return n.createElement(w.Z,(0,j.Z)((0,j.Z)({},A),{},{ref:R,icon:g}))},N=n.forwardRef(u),b=N},2068:function(z,F,t){"use strict";t.d(F,{Z:function(){return b}});var j=t(1413),n=t(67294),V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm376 116c-119.3 0-216 96.7-216 216s96.7 216 216 216 216-96.7 216-216-96.7-216-216-216zm107.5 323.5C750.8 868.2 712.6 884 672 884s-78.8-15.8-107.5-44.5C535.8 810.8 520 772.6 520 732s15.8-78.8 44.5-107.5C593.2 595.8 631.4 580 672 580s78.8 15.8 107.5 44.5C808.2 653.2 824 691.4 824 732s-15.8 78.8-44.5 107.5zM761 656h-44.3c-2.6 0-5 1.2-6.5 3.3l-63.5 87.8-23.1-31.9a7.92 7.92 0 00-6.5-3.3H573c-6.5 0-10.3 7.4-6.5 12.7l73.8 102.1c3.2 4.4 9.7 4.4 12.9 0l114.2-158c3.9-5.3.1-12.7-6.4-12.7zM440 852H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"file-done",theme:"outlined"},g=V,w=t(91146),u=function(A,R){return n.createElement(w.Z,(0,j.Z)((0,j.Z)({},A),{},{ref:R,icon:g}))},N=n.forwardRef(u),b=N},15360:function(z,F,t){"use strict";t.d(F,{Z:function(){return b}});var j=t(1413),n=t(67294),V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},g=V,w=t(91146),u=function(A,R){return n.createElement(w.Z,(0,j.Z)((0,j.Z)({},A),{},{ref:R,icon:g}))},N=n.forwardRef(u),b=N},24805:function(z,F,t){"use strict";t.d(F,{Hb:function(){return A},Ur:function(){return ue},cN:function(){return de},ej:function(){return R}});var j=t(15009),n=t.n(j),V=t(99289),g=t.n(V),w=t(47520),u="/v1/skill/skill_info/",N="/v1/skill/skill_update/",b="/v1/skill/skill_publish/",U="/v1/skill/skill_run",A=function(){var C=g()(n()().mark(function a(v,Z){var X;return n()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,(0,w.ZP)("".concat(u).concat(v),{method:"GET",data:{publish_status:Z=="true"?1:0}});case 2:return X=G.sent,G.abrupt("return",X);case 4:case"end":return G.stop()}},a)}));return function(v,Z){return C.apply(this,arguments)}}(),R=function(){var C=g()(n()().mark(function a(v){var Z;return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,w.ZP)("".concat(N).concat(v.app_id),{method:"PUT",data:v.data});case 2:return Z=l.sent,l.abrupt("return",Z);case 4:case"end":return l.stop()}},a)}));return function(v){return C.apply(this,arguments)}}(),de=function(){var C=g()(n()().mark(function a(v){var Z;return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,w.ZP)("".concat(b).concat(v),{method:"PUT"});case 2:return Z=l.sent,l.abrupt("return",Z);case 4:case"end":return l.stop()}},a)}));return function(v){return C.apply(this,arguments)}}(),ue=function(){var C=g()(n()().mark(function a(v){var Z;return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,w.ZP)("".concat(U),{method:"POST",data:v});case 2:return Z=l.sent,l.abrupt("return",Z);case 4:case"end":return l.stop()}},a)}));return function(v){return C.apply(this,arguments)}}()},23924:function(z,F,t){"use strict";t.r(F),t.d(F,{default:function(){return De}});var j=t(15009),n=t.n(j),V=t(99289),g=t.n(V),w=t(5574),u=t.n(w),N=t(24805),b=t(10759),U=t(2068),A=t(89035),R=t(81644),de=t(15360),ue=t(82826),C=t(35312),a=t(40741),v=t(45360),Z=t(28036),X=t(50136),l=t(67294),G=t(97857),o=t.n(G),se=t(92939),D=t(26915),ve=t(72269),oe=t(34041),e=t(85893),lt=D.Z.TextArea,we=function(s){var Y=s.FirstValue,k=s.FirstSkillref,M=s.Skillinfo,y=s.setSkillInfo,L=s.Operationbentate,i=(0,C.useIntl)();(0,l.useEffect)(function(){},[]);var x={readOnly:!0},E={disabled:!0};return(0,e.jsxs)("div",{style:{height:"100%"},children:[(0,e.jsx)("div",{className:"flex align-center justify-between mt-[30px]",children:(0,e.jsx)("div",{className:"text-base font-medium mb-[30px] text-[#333333]",children:i.formatMessage({id:"skill.inputsetting"})})}),(0,e.jsxs)(a.Z,{name:"dynamic_form_nest_item",onFinish:function(B){Y(B)},style:{width:900},autoComplete:"off",form:k,children:[(0,e.jsxs)(a.Z.Item,{className:"mb-[30px]",children:[(0,e.jsx)("div",{className:"text-[#555555] text-xs font-medium  mb-[15px]",children:i.formatMessage({id:"skill.appname"})}),(0,e.jsxs)("div",{className:"text-[#555555] w-full my-2 p-[15px] flex text-xs  items-center bg-[#F7F7F7] rounded-lg",children:[(0,e.jsxs)("div",{children:[M&&M.name,"\xA0"]}),(0,e.jsx)("div",{className:"",children:L==="true"?i.formatMessage({id:"skill.toast.waring"}):""})]})]}),(0,e.jsxs)(a.Z.Item,{className:"mb-[30px]",children:[(0,e.jsx)("div",{className:"text-[#555555] text-xs  mb-[15px]",children:i.formatMessage({id:"skill.appdescription"})}),(0,e.jsx)("div",{className:"text-[#555555] w-full my-2 p-[15px] flex text-xs  items-center bg-[#F7F7F7] rounded-lg",children:M&&M.description})]}),(0,e.jsxs)(a.Z.Item,{className:"mb-[30px]",children:[(0,e.jsx)("div",{className:"mb-[15px]",children:(0,e.jsx)(se.Z,{className:"font-medium text-xs text-[#555555]",name:i.formatMessage({id:"skill.teamvisibility"}),title:i.formatMessage({id:"skill.Callword.title"})})}),(0,e.jsx)(ve.Z,o()(o()({},E),{},{size:"small",checked:!!(M&&M.is_public==1)}))]}),(0,e.jsx)("div",{className:"mb-[15px] text-xs font-bold flex justify-between items-center",children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-medium",children:(0,e.jsx)(se.Z,{name:i.formatMessage({id:"skill.inputvariable"}),title:i.formatMessage({id:"skill.Callword.inputvariable"})})})}),(0,e.jsxs)("div",{className:"w-full flex justify-start items-center text-xs font-medium px-2.5 text-[#555555] h-12 bg-[#F7F7F7]  rounded-t-lg",children:[(0,e.jsx)("div",{className:"w-[300px] ml-2.5",children:i.formatMessage({id:"skill.variable.name"})}),(0,e.jsx)("div",{className:"w-[300px]",children:i.formatMessage({id:"skill.variable.display"})}),(0,e.jsx)("div",{className:"w-[230px]",children:i.formatMessage({id:"skill.variable.type"})}),(0,e.jsx)("div",{className:"w-[70px]",children:i.formatMessage({id:"skill.variable.required"})})]}),(0,e.jsx)("div",{children:k&&k.getFieldValue().users&&k.getFieldValue().users.map(function(O,B){return(0,e.jsxs)("div",{className:"w-full h-20 flex justify-start  px-2.5 border-b border-x pt-7 last:rounded-b-lg",children:[(0,e.jsx)(a.Z.Item,{className:"m-0",rules:[{required:!0,message:""},{pattern:/^[a-zA-Z0-9_]+$/,message:""}],children:(0,e.jsx)(D.Z,o()(o()({},E),{},{value:O.name,className:"w-[280px] mr-[20px]"}))}),(0,e.jsx)(a.Z.Item,{className:"m-0",rules:[{required:!0,message:""}],children:(0,e.jsx)(D.Z,o()(o()({},E),{},{value:O.content,className:"w-[270px] mr-[20px]"}))}),(0,e.jsx)(a.Z.Item,{className:" mr-[80px] m-0",children:(0,e.jsx)(oe.Z,o()(o()({},E),{},{style:{width:"150px"},defaultValue:"string",value:O.type,options:[{value:"string",label:"String"},{value:"number",label:"Number"},{value:"json",label:"Object"}]}))}),(0,e.jsx)(a.Z.Item,{className:"w-12 mr-14 m-0",children:(0,e.jsx)(ve.Z,o()(o()({},E),{},{size:"small",checked:O.status}))})]},B)})}),(0,e.jsx)("div",{className:"h-[30px] w-1"})]})]})},Ne=we,xe=t(92485),Ze=function(s){var Y=s.SecondValue,k=s.handleBack,M=s.Skillinfo,y=s.setSkillInfo,L=s.SkillRelyOn,i=s.setSkillRelyOn,x=s.Secondref,E=s.setskillcodestate,O=s.setNewcode,B=(0,C.useIntl)();(0,l.useEffect)(function(){},[]);var le={readOnly:!0},W={disabled:!0},$=function(Q){console.log(Q),i(Q)};return(0,e.jsxs)("div",{style:{height:"100%"},children:[(0,e.jsx)("div",{className:"flex align-center justify-between mt-[30px]",children:(0,e.jsx)("div",{className:"text-base font-medium mb-[30px] text-[#333333]",children:B.formatMessage({id:"skill.codesetting"})})}),(0,e.jsxs)(a.Z,{name:"dynamic_form_nest_item",style:{width:900},autoComplete:"off",form:x,children:[(0,e.jsxs)(a.Z.Item,{className:"mb-[30px]",children:[(0,e.jsx)("div",{className:"text-[#555555] text-xs mb-[15px] font-medium",children:(0,e.jsx)(se.Z,{name:B.formatMessage({id:"skill.dependency"}),title:B.formatMessage({id:"skill.Callword.dependency"})})}),(0,e.jsx)(oe.Z,o()(o()({},W),{},{mode:"tags",variant:"filled",style:{width:"100%"},value:L,tokenSeparators:[","]}))]}),(0,e.jsxs)(a.Z.Item,{children:[(0,e.jsx)("div",{className:"text-[#555555] text-xs mb-[15px] font-medium",children:B.formatMessage({id:"skill.code"})}),(0,e.jsx)("div",{className:"h-80",children:(0,e.jsx)(xe.Z,{readOnly:!0,language:"python3",value:M&&M.code?JSON.parse(M.code).python3:`def main(arg1: int) -> dict:
    return {
        "result": (arg1 + 2) * 3,
    }`,title:"python3"})})]})]})]})},Me=Ze,ae=t(78045),rt=D.Z.TextArea,nt=D.Z.Search,Oe=function(s){var Y=s.ThirdlyValue,k=s.Thirdlyref,M=s.handleBack,y=s.Skillinfo,L=s.setSkillInfo,i=s.Operationbentate,x=(0,C.useIntl)(),E=(0,l.useState)(null),O=u()(E,2),B=O[0],le=O[1],W={readOnly:!0},$={disabled:!0};(0,l.useEffect)(function(){},[]);var K=function(J){L(o()(o()({},y),{},{output_type:J.target.value}))},Q=function(J){var H=new b.Kr("output","","");J.users.forEach(function(m){var S=new b._w(m.name,m.type?m.type:"string","",m.content,!1);H.addProperty(m.name,S)});var c={output_type:y.output_type,output_variables:H};Y(c)};return(0,e.jsxs)("div",{style:{height:"100%"},children:[(0,e.jsx)("div",{className:"flex align-center justify-between mt-[30px]",children:(0,e.jsx)("div",{className:"text-base font-medium mb-[30px] text-[#333333]",children:x.formatMessage({id:"skill.menu.output"})})}),(0,e.jsx)(a.Z,{name:"dynamic_form_nest_item",onFinish:Q,style:{width:900},autoComplete:"off",form:k,children:(0,e.jsx)(a.Z.List,{name:"users",children:function(J,H){var c=H.add,m=H.remove;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(a.Z.Item,{className:"mb-[30px]",children:[(0,e.jsx)("div",{className:"text-[#555555] text-xs mb-[15px] font-medium",children:(0,e.jsx)(se.Z,{name:x.formatMessage({id:"skill.outputvariable"}),title:x.formatMessage({id:"skill.Callword.outputvariable"})})}),(0,e.jsxs)(ae.ZP.Group,o()(o()({},$),{},{value:y&&y.output_type,children:[(0,e.jsx)(ae.ZP,{value:1,children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-normal",children:x.formatMessage({id:"skill.radio.text"})})}),(0,e.jsx)(ae.ZP,{value:2,children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-normal",children:x.formatMessage({id:"skill.radio.database"})})}),(0,e.jsx)(ae.ZP,{value:3,children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-normal",children:x.formatMessage({id:"skill.radio.code"})})}),(0,e.jsx)(ae.ZP,{value:4,children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-normal",children:x.formatMessage({id:"skill.radio.file"})})})]}))]}),(0,e.jsx)("div",{className:"mb-[15px] text-[#555555] text-xs font-medium flex justify-between items-center",children:(0,e.jsx)("div",{children:(0,e.jsx)(se.Z,{name:x.formatMessage({id:"skill.outputv"}),title:x.formatMessage({id:"skill.Callword.outputv"})})})}),(0,e.jsxs)("div",{className:"w-full flex justify-start items-center text-xs font-medium px-2.5 text-[#555555] h-12 bg-[#F7F7F7] rounded-t-lg",children:[(0,e.jsx)("div",{className:"w-[300px] mr-[60px] ml-2.5",children:x.formatMessage({id:"skill.variable.name"})}),(0,e.jsx)("div",{className:"w-[300px] mr-[50px]",children:x.formatMessage({id:"skill.variable.display"})}),(0,e.jsx)("div",{className:"",children:x.formatMessage({id:"skill.variable.type"})})]}),k&&k.getFieldValue("users")&&k.getFieldValue("users").map(function(S,I){return(0,e.jsxs)("div",{className:"w-full h-20 flex justify-start  px-2.5 border-b border-x pt-7 last:rounded-b-lg",children:[(0,e.jsx)(a.Z.Item,{className:"m-0",children:(0,e.jsx)(D.Z,o()(o()({},$),{},{placeholder:x.formatMessage({id:"skill.variable.name"}),value:S.name,className:"w-[280px] mr-[80px]"}))}),(0,e.jsx)(a.Z.Item,{className:"m-0",rules:[{required:!0,message:x.formatMessage({id:"skill.rules.name"})}],children:(0,e.jsx)(D.Z,o()(o()({},$),{},{placeholder:x.formatMessage({id:"skill.variable.display"}),value:S.content,className:"w-[270px] mr-[80px]"}))}),(0,e.jsx)(a.Z.Item,{className:"w-36 mr-16 m-0",children:(0,e.jsx)(oe.Z,o()(o()({},$),{},{style:{width:"150px"},value:S.type,placeholder:"Please select",defaultValue:"string",options:[{value:"string",label:"string"},{value:"number",label:"number"},{value:"object",label:"object"},{value:"Array[string]",label:"Array[string]"},{value:"Array[number]",label:"Array[number]"},{value:"Array[object]",label:"Array[object]"}]}))})]})})]})}})})]})},Ie=Oe,Ce=t(13769),Pe=t.n(Ce),Te=t(49677),Ve=t.n(Te),Ae=t(74330),Re=["key","name"],it=D.Z.TextArea,dt=D.Z.Search,Ee=function(s){var Y=s.FourthlyValue,k=s.Fourthlyref,M=s.handleBack,y=s.Skillinfo,L=s.Operationbentate,i=(0,C.useIntl)(),x=(0,l.useState)(null),E=u()(x,2),O=E[0],B=E[1],le=(0,l.useState)(!1),W=u()(le,2),$=W[0],K=W[1];(0,l.useEffect)(function(){},[]);var Q=function(){var c=g()(n()().mark(function m(){var S;return n()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,N.cN)(y.app_id);case 2:S=h.sent,S.code==0?v.ZP.success(i.formatMessage({id:"skill.publishsuccess"})):v.ZP.error(i.formatMessage({id:"skill.select.value"}));case 4:case"end":return h.stop()}},m)}));return function(){return c.apply(this,arguments)}}(),te=function(m){var S=m.users.filter(function(f,_){return f.type=="number"&&!Number(f.value)&&!!f.value});if(S.length>0)v.ZP.warning(i.formatMessage({id:"skill.message.warning.vlaue"}));else{K(!0);var I=new b.Kr("output","","");m.users.forEach(function(f){var _=new b._w(f.name,f.type,f.type=="string"?f.value:Number(f.value),f.content,f.status);I.addProperty(f.name,_)});var h={skill_id:y.id,input_dict:I};J(h)}},J=function(){var c=g()(n()().mark(function m(S){return n()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:(0,N.Ur)(S).then(function(f){v.ZP.success(i.formatMessage({id:"skill.run.success"})),B(f.data.outputs),K(!1)}).catch(function(f){K(!1)});case 1:case"end":return h.stop()}},m)}));return function(S){return c.apply(this,arguments)}}(),H=function(){var c=g()(n()().mark(function m(){return n()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:C.history.push("/Skill?app_id=".concat(y==null?void 0:y.app_id,"&type=false")),location.reload();case 2:case"end":return I.stop()}},m)}));return function(){return c.apply(this,arguments)}}();return(0,e.jsxs)("div",{style:{height:"100%"},children:[(0,e.jsx)("div",{className:"flex align-center justify-between mt-[30px]",children:(0,e.jsx)("div",{className:"text-base font-medium mb-[30px] text-[#333333]",children:i.formatMessage({id:"skill.operationrun"})})}),(0,e.jsxs)(a.Z,{name:"dynamic_form_nest_item",onFinish:te,style:{width:900},autoComplete:"off",form:k,children:[(0,e.jsx)("div",{className:"text-[#555555] text-xs font-medium  mb-[15px]",children:(0,e.jsx)("div",{children:i.formatMessage({id:"skill.inputvariable"})})}),(0,e.jsxs)("div",{className:"w-full flex justify-start items-center text-xs font-medium px-[10px] text-[#213044] h-12 bg-[#F7F7F7]  rounded-t-lg",children:[(0,e.jsx)("div",{className:"w-48 mr-5 ml-2.5",children:i.formatMessage({id:"skill.variable.name"})}),(0,e.jsx)("div",{className:"w-52 mr-5",children:i.formatMessage({id:"skill.variable.display"})})]}),(0,e.jsx)(a.Z.List,{name:"users",children:function(m,S){return Ve()(S),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:"mb-[30px]",children:m.map(function(I){var h=I.key,f=I.name,_=Pe()(I,Re);return(0,e.jsxs)("div",{className:"w-full h-20 flex justify-start  px-2.5 border-b border-x pt-7 last:rounded-b-lg",children:[(0,e.jsx)(a.Z.Item,o()(o()({},_),{},{name:[f,"content"],children:(0,e.jsx)(D.Z,{className:"w-48 mr-5",style:{color:"#213044",fontWeight:"400",fontSize:"12px"},variant:"borderless",disabled:!0})})),(0,e.jsx)(a.Z.Item,o()(o()({},_),{},{name:[f,"value"],rules:[{required:!!(k.getFieldsValue()&&k.getFieldsValue().users[h].status==!0),message:i.formatMessage({id:"skill.message.variantcontent"})}],children:(0,e.jsx)(D.Z,{placeholder:k.getFieldsValue()&&k.getFieldsValue().users[h].status==!0?i.formatMessage({id:"skill.variantcontent.required"}):i.formatMessage({id:"skill.variantcontent"}),style:{width:"660px"}})}))]})})})})}}),(0,e.jsxs)(a.Z.Item,{rules:[{required:!0,message:i.formatMessage({id:"skill.rules.callword"})}],children:[(0,e.jsx)("div",{className:"mb-[15px] text-[#555555] text-xs font-medium",children:i.formatMessage({id:"skill.runpreview"})}),(0,e.jsx)(Ae.Z,{spinning:$,children:(0,e.jsxs)("div",{className:"bg-[#F7F7F7] p-3.5 rounded-lg",children:[(0,e.jsxs)("div",{className:"h-[345px] mb-[30px]",children:[" ",O?(0,e.jsx)(xe.Z,{language:"python3",value:O&&JSON.stringify(O)}):null]}),(0,e.jsx)("div",{className:"w-full flex justify-end items-center",children:(0,e.jsx)("div",{className:" h-8 bg-[#e8effc] rounded-md",children:(0,e.jsx)(Z.ZP,{className:"bg-[#fff]",icon:(0,e.jsx)("img",{src:"/icons/fs.svg"}),type:"link",htmlType:"submit",block:!0,children:i.formatMessage({id:"skill.run"})})})})]})})]}),(0,e.jsx)("div",{className:"w-28",children:(y==null?void 0:y.publish_status)===1&&(y==null?void 0:y.is_creator)===1?(0,e.jsx)("div",{children:(0,e.jsx)(Z.ZP,{type:"primary",htmlType:"submit",className:"w-full",onClick:H,children:i.formatMessage({id:"skill.amend"})})}):(0,e.jsx)("div",{children:(0,e.jsx)(Z.ZP,{type:"primary",htmlType:"submit",className:"w-full",onClick:Q,disabled:L!="false",children:i.formatMessage({id:"skill.publish"})})})}),(0,e.jsx)("div",{className:"h-[30px] w-1"})]})]})},Be=Ee,ze=function(){var s=(0,C.useIntl)(),Y=a.Z.useForm(),k=u()(Y,1),M=k[0],y=a.Z.useForm(),L=u()(y,1),i=L[0],x=a.Z.useForm(),E=u()(x,1),O=E[0],B=a.Z.useForm(),le=u()(B,1),W=le[0],$=(0,l.useState)(0),K=u()($,2),Q=K[0],te=K[1],J=(0,l.useState)("1"),H=u()(J,2),c=H[0],m=H[1],S=(0,l.useState)(null),I=u()(S,2),h=I[0],f=I[1],_=(0,l.useState)(null),he=u()(_,2),He=he[0],Le=he[1],$e=(0,l.useState)(null),pe=u()($e,2),Ue=pe[0],ge=pe[1],Ge=(0,l.useState)(null),ye=u()(Ge,2),ie=ye[0],We=ye[1],Ke=(0,l.useState)(!1),je=u()(Ke,2),ut=je[0],Je=je[1],Xe=(0,l.useState)(null),be=u()(Xe,2),ot=be[0],Ye=be[1],Qe=[{key:"1",icon:(0,e.jsx)(U.Z,{}),label:s.formatMessage({id:"skill.menu.input"}),style:{padding:"15px",width:"100%",margin:"0px",marginBottom:"10px",fontSize:"16px",fontWeight:"500",color:c=="1"?"#1B64F3":"#213044"}},{key:"2",icon:(0,e.jsx)(A.Z,{}),label:s.formatMessage({id:"skill.menu.code"}),style:{padding:"15px",width:"100%",margin:"0px",marginBottom:"10px",fontSize:"16px",fontWeight:"500",color:c=="2"?"#1B64F3":"#213044"}},{key:"3",icon:(0,e.jsx)(R.Z,{}),label:s.formatMessage({id:"skill.menu.output"}),style:{padding:"15px",width:"100%",margin:"0px",marginBottom:"10px",fontSize:"16px",fontWeight:"500",color:c=="3"?"#1B64F3":"#213044"}},{key:"4",icon:(0,e.jsx)(de.Z,{}),label:s.formatMessage({id:"skill.menu.debug"}),style:{padding:"15px",width:"100%",margin:"0px",marginBottom:"10px",fontSize:"16px",fontWeight:"500",color:c=="4"?"#1B64F3":"#213044"}}];(0,l.useEffect)(function(){ke()},[]);var ke=function(){var P=g()(n()().mark(function d(){var p,r,T,q;return n()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return p=new URLSearchParams(window.location.search),Le(p.get("app_id")),re.next=4,(0,N.Hb)(p.get("app_id"),p.get("type"));case 4:r=re.sent,console.log(r,"res-===>"),r.code==0?(f(r.data),We(r.data.publish_status===1?"true":"false"),r.data.publish_status==1&&v.ZP.warning(s.formatMessage({id:"skill.message.listwarning"}),5),T=ce(r.data.input_variables),M.setFieldsValue(T),ge(r.data.dependencies?r.data.dependencies.python3:[]),q=ce(r.data.output_variables),O.setFieldsValue(q)):v.ZP.error(s.formatMessage({id:"skill.message.listerror"}));case 7:case"end":return re.stop()}},d)}));return function(){return P.apply(this,arguments)}}(),ce=function(d){console.log(!!d&&!!d.properties,"obj");var p={users:d&&d.properties?Object.values(d.properties).map(function(r){return{name:r.name,type:r.type,content:r.display_name,status:r.required}}):[{name:"",content:"",output_format:0,status:!0,type:"string"}]};return p},me=function(){var P=g()(n()().mark(function d(p){var r,T;return n()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(ie!=="false"){ee.next=7;break}return r={app_id:He,data:p},ee.next=4,(0,N.ej)(r);case 4:T=ee.sent,console.log(T),T.code==0&&ke();case 7:case"end":return ee.stop()}},d)}));return function(p){return P.apply(this,arguments)}}(),_e=function(){Fe({key:c,keyPath:[],item:void 0,domEvent:void 0}),history.back()},Se=function(d){var p=ce(d.input_variables);W.setFieldsValue(p)},qe=function(d){me(d)},et=function(d){me(d)},tt=function(d){me(d)},fe=function(d){te(d)},Fe=function(d){if(c=="1"){var p={input_variables:at(M.getFieldValue()),is_public:h.is_public};Se(p),m(d.key)}m(d.key)},ct=function(d,p){console.log(d,"users");var r=d.filter(function(T){return!T||!T.name||!T.content});if(console.log("firstusers",r,!d[0]),d[0]){if(r.length!==0)return v.ZP.warning("".concat(p===1?s.formatMessage({id:"skill.message.inputerror3"}):s.formatMessage({id:"skill.message.inputerror4"}))),!0}else return v.ZP.warning("".concat(p===1?s.formatMessage({id:"skill.message.inputerror1"}):s.formatMessage({id:"skill.message.inputerror2"}))),!0;return st(d,"name")?(v.ZP.warning(s.formatMessage({id:"skill.message.inputerror5"})),!0):!1},st=function(d,p){var r=new Set;return d.some(function(T){var q=T[p];return r.has(q)?r.add(q):r.add(q)&&!1})},at=function(d){var p=new b.Kr("output","","");return d.users.forEach(function(r){var T=new b._w(r.name,r.type?r.type:"string",r.value?r.value:"",r.content,r.status?r.status:!1);p.addProperty(r.name,T)}),p};return(0,e.jsxs)("div",{className:"flex bg-white",style:{height:"calc(100vh - 56px)"},children:[(0,e.jsxs)("div",{className:"flex flex-col h-full w-[300px]",style:{height:"calc(100vh - 56px)"},children:[(0,e.jsx)("div",{className:"flex w-full items-center bg-white px-[30px] pt-[30px] border-[#e5e7eb] border-solid border-r",children:(0,e.jsxs)(Z.ZP,{type:"link",shape:"circle",size:"middle",className:"",onClick:_e,children:[(0,e.jsx)(ue.Z,{}),(0,e.jsx)("span",{className:"text-sm font-medium text-[#213044]",children:s.formatMessage({id:"skill.back"})})]})}),(0,e.jsx)("div",{className:"w-full flex-1 px-[30px] py-[30px] bg-white border-[#e5e7eb] border-solid border-r",children:(0,e.jsx)(X.Z,{selectedKeys:[c],onClick:Fe,style:{width:"100%",borderInlineEnd:"1px solid rgba(0,0,0,0)"},defaultSelectedKeys:[c],mode:"inline",items:Qe})})]}),(0,e.jsx)("div",{className:"flex flex-col ",style:{height:"calc(100vh - 56px)",width:"calc(100vw - 230px)",overflowY:"scroll",scrollbarWidth:"none"},children:(0,e.jsxs)("div",{className:"px-[30px] ",style:{overflowX:"auto",minWidth:"960px",height:"100%"},children:[(0,e.jsx)("div",{className:"w-full flex justify-center  mt-[30px]",children:(0,e.jsxs)("div",{className:"flex items-center  w-[900px]",children:[(0,e.jsx)("div",{className:"mr-[10px] w-[16px] h-[16px]",children:(0,e.jsx)("img",{src:"/icons/flag.svg",alt:"",className:"w-[16px] h-[16px]"})}),(0,e.jsxs)("div",{className:"mr-[6px]  text-lg text-[#213044] font-medium",children:[h?h.nickname:"",s.formatMessage({id:"skill.skills"})]})]})}),(0,e.jsx)("div",{style:{display:c==="1"?"flex":"none",height:"calc(100vh - 146px)",justifyContent:"center"},children:(0,e.jsx)(Ne,{FirstValue:Se,Skillinfo:h,setSkillInfo:f,FirstSkillref:M,Operationbentate:ie})}),(0,e.jsx)("div",{style:{display:c==="2"?"flex":"none",height:"calc(100vh - 146px)",justifyContent:"center"},children:(0,e.jsx)(Me,{SecondValue:qe,handleBack:fe,Skillinfo:h,setSkillInfo:f,SkillRelyOn:Ue,setSkillRelyOn:ge,Secondref:i,setskillcodestate:Je,setNewcode:Ye})}),(0,e.jsx)("div",{style:{display:c==="3"?"flex":"none",height:"calc(100vh - 146px)",justifyContent:"center"},children:(0,e.jsx)(Ie,{ThirdlyValue:et,handleBack:fe,Thirdlyref:O,Skillinfo:h,setSkillInfo:f,Operationbentate:ie})}),(0,e.jsx)("div",{style:{display:c==="4"?"flex":"none",height:"calc(100vh - 146px)",justifyContent:"center"},children:(0,e.jsx)(Be,{FourthlyValue:tt,handleBack:fe,Fourthlyref:W,Skillinfo:h,Operationbentate:ie})})]})})]})},De=ze},49677:function(z){function F(t){if(t==null)throw new TypeError("Cannot destructure "+t)}z.exports=F,z.exports.__esModule=!0,z.exports.default=z.exports}}]);
