"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7493],{11475:function(te,A,t){t.d(A,{Z:function(){return k}});var O=t(1413),u=t(67294),B={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},x=B,j=t(91146),h=function(H,z){return u.createElement(j.Z,(0,O.Z)((0,O.Z)({},H),{},{ref:z,icon:x}))},$=u.forwardRef(h),k=$},35790:function(te,A,t){var O=t(1413),u=t(67294),B=t(19369),x=t(91146),j=function(k,w){return u.createElement(x.Z,(0,O.Z)((0,O.Z)({},k),{},{ref:w,icon:B.Z}))},h=u.forwardRef(j);A.Z=h},43722:function(te,A,t){t.d(A,{Gh:function(){return J},Gn:function(){return w},KH:function(){return ee},Rp:function(){return Y},cH:function(){return z},dB:function(){return H},j2:function(){return F},r5:function(){return K},rw:function(){return h},sI:function(){return S},sT:function(){return q},sh:function(){return C},vu:function(){return k},xM:function(){return P},xT:function(){return V}});var O=t(15009),u=t.n(O),B=t(99289),x=t.n(B),j=t(47520),h=function(){var p=x()(u()().mark(function r(){var n;return u()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,j.ZP)("/v1/index/",{method:"GET"});case 2:return n=c.sent,c.abrupt("return",n);case 4:case"end":return c.stop()}},r)}));return function(){return p.apply(this,arguments)}}(),$=null,k=function(){var p=x()(u()().mark(function r(n){var o;return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,j.ZP)("/v1/chatroom/",{method:"GET",data:n});case 2:return o=a.sent,a.abrupt("return",o);case 4:case"end":return a.stop()}},r)}));return function(n){return p.apply(this,arguments)}}(),w=function(){var p=x()(u()().mark(function r(n){var o;return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,j.ZP)("/v1/chatroom/".concat(n.id),{method:"DELETE"});case 2:return o=a.sent,a.abrupt("return",o);case 4:case"end":return a.stop()}},r)}));return function(n){return p.apply(this,arguments)}}(),H=function(){var p=x()(u()().mark(function r(n){var o;return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,j.ZP)("/v1/chatroom/",{method:"POST",data:n});case 2:return o=a.sent,a.abrupt("return",o);case 4:case"end":return a.stop()}},r)}));return function(n){return p.apply(this,arguments)}}(),z=function(){var p=x()(u()().mark(function r(n){var o;return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,j.ZP)("/v1/chatroom/".concat(n.id,"/details"),{method:"GET"});case 2:return o=a.sent,a.abrupt("return",o);case 4:case"end":return a.stop()}},r)}));return function(n){return p.apply(this,arguments)}}(),F=function(){var p=x()(u()().mark(function r(n){var o;return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,j.ZP)("/v1/chatroom/recent",{method:"GET",data:{chatroom_id:n.id}});case 2:return o=a.sent,a.abrupt("return",o);case 4:case"end":return a.stop()}},r)}));return function(n){return p.apply(this,arguments)}}(),S=function(){var p=x()(u()().mark(function r(n,o){var c;return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,j.ZP)("/v1/chatroom/".concat(o,"/update_chatroom"),{method:"POST",data:n});case 2:return c=i.sent,i.abrupt("return",c);case 4:case"end":return i.stop()}},r)}));return function(n,o){return p.apply(this,arguments)}}(),K=function(){var p=x()(u()().mark(function r(n,o){var c;return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,j.ZP)("/v1/chatroom/".concat(o,"/smart_selection"),{method:"POST",data:n});case 2:return c=i.sent,i.abrupt("return",c);case 4:case"end":return i.stop()}},r)}));return function(n,o){return p.apply(this,arguments)}}(),q=function(){var p=x()(u()().mark(function r(n,o,c){var a;return u()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,j.ZP)("/v1/chatroom/".concat(o,"/agents/").concat(c,"/setting"),{method:"PUT",data:n});case 2:return a=I.sent,I.abrupt("return",a);case 4:case"end":return I.stop()}},r)}));return function(n,o,c){return p.apply(this,arguments)}}(),ee=function(){var p=x()(u()().mark(function r(n,o){var c;return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,j.ZP)("/v1/chatroom/".concat(n,"/chatroom_message"),{method:"GET",data:o});case 2:return c=i.sent,i.abrupt("return",c);case 4:case"end":return i.stop()}},r)}));return function(n,o){return p.apply(this,arguments)}}(),Y=function(){var p=x()(u()().mark(function r(n,o){var c;return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,j.ZP)("/v1/chatroom/".concat(n,"/chat_history_message_summary"),{method:"POST",data:o});case 2:return c=i.sent,i.abrupt("return",c);case 4:case"end":return i.stop()}},r)}));return function(n,o){return p.apply(this,arguments)}}(),V=function(){var p=x()(u()().mark(function r(n,o){var c;return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,j.ZP)("/v1/chatroom/".concat(n,"/chat_history_summary"),{method:"POST",data:o});case 2:return c=i.sent,i.abrupt("return",c);case 4:case"end":return i.stop()}},r)}));return function(n,o){return p.apply(this,arguments)}}(),C=function(){var p=x()(u()().mark(function r(n){var o;return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,j.ZP)("/v1/chatroom/chat_room_history",{method:"GET",data:n});case 2:return o=a.sent,a.abrupt("return",o);case 4:case"end":return a.stop()}},r)}));return function(n){return p.apply(this,arguments)}}(),J=function(){var p=x()(u()().mark(function r(n){var o;return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,j.ZP)("/v1/chatroom/chat_room_history_single",{method:"GET",data:n});case 2:return o=a.sent,a.abrupt("return",o);case 4:case"end":return a.stop()}},r)}));return function(n){return p.apply(this,arguments)}}(),P=function(){var p=x()(u()().mark(function r(n,o){var c;return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,j.ZP)("/v1/chatroom/".concat(n,"/chat_single_message_generation"),{method:"POST",data:o});case 2:return c=i.sent,i.abrupt("return",c);case 4:case"end":return i.stop()}},r)}));return function(n,o){return p.apply(this,arguments)}}()},86:function(te,A,t){var O=t(5574),u=t.n(O),B=t(32332),x=t(38703),j=t(67294),h=t(85893),$=function(w){var H=w.subtitle,z=w.handleClick,F=w.lineClamp,S=F===void 0?2:F,K=w.textDetails,q=w.title,ee=w.icon,Y=w.iconType,V=Y===void 0?"":Y,C=w.operation,J=C===void 0?"":C,P=w.progress,p=w.status,r=w.backlogTips,n=w.avatar,o=(0,j.useState)(0),c=u()(o,2),a=c[0],i=c[1],I=function(){i(P)},ne=function(){i(0)},se=function(e){return"rounded-[4px] border-l-[4px] ".concat(e==1?"border-[#1B64F3]":e==2?"border-[#52C41C]":"border-[#F04444]"," ")};return(0,h.jsxs)("div",{className:"flex  p-[10px] cursor-pointer overflow-hidden relative bg-[#fff] ".concat(p!==void 0?se(p):"graphicbox"),onClick:z,onMouseEnter:function(){P!=null&&I()},onMouseLeave:function(){P!=null&&ne()},children:[p!==void 0&&(0,h.jsx)("div",{style:{width:"".concat(a,"%"),transition:"width 0.5s "},className:"absolute bottom-0 left-0 top-0 bottom-0 h-full ".concat(p==1?"bg-[#1B64F3]/[.03]":p==2?"bg-[#52c41c]/[.05]":"bg-[#FAFAFA]"," ")}),(0,h.jsxs)("div",{className:"flex gap-x-[20px] w-full relative z-20",children:[(0,h.jsx)("div",{className:"shrink-0 flex gap-x-[7px] items-center",style:{fontSize:0},children:(0,h.jsxs)("div",{className:"w-[40px] h-[40px] rounded-[6px] flex items-center justify-center bg-[#F4F8F1] relative",children:[n?(0,h.jsx)("img",{src:n,className:"w-[40px] h-[40px] rounded-[6px]"}):(0,h.jsx)("img",{src:(0,B.s9)("single",ee),className:"w-[22px] h-[22px]"}),V&&(0,h.jsx)("div",{className:"w-[16px] h-[16px] absolute top-[28px] left-[28px] flex items-center justify-center bg-[#fff] rounded-[3px]",style:{boxShadow:"0px 0px 4px 0px rgba(0,0,0,0.1)"},children:(0,h.jsx)("img",{src:"/icons/".concat(V,".svg"),alt:"",className:"w-[12px] h-[12px]"})})]})}),(0,h.jsx)("div",{className:"flex flex-1 min-w-0",children:(0,h.jsxs)("div",{className:"flex justify-center flex-col gap-y-[5px] flex-1 min-w-0",children:[(0,h.jsxs)("span",{className:"text-[12px] flex items-center",style:{color:"#213044"},children:[(0,h.jsx)("span",{className:"truncate",children:q}),(0,h.jsx)("span",{className:"flex items-center flex-1",children:H})]}),(0,h.jsx)("span",{className:"text-[12px] max-w-full truncate",style:{color:"#999999"},children:K})]})}),r||(0,h.jsx)(h.Fragment,{}),J&&(0,h.jsx)("div",{className:"flex items-center w-[24px]",children:(0,h.jsx)("span",{className:"operation",children:J})}),P!=null&&(0,h.jsx)("div",{className:"graphic_progress flex items-center pl-[30px]",children:(0,h.jsx)(x.Z,{type:"circle",percent:P,size:29})})]})]})};A.Z=$},26621:function(te,A,t){t.r(A),t.d(A,{default:function(){return we}});var O=t(97857),u=t.n(O),B=t(15009),x=t.n(B),j=t(99289),h=t.n(j),$=t(5574),k=t.n($),w=t(43722),H=t(21446),z=t(99702),F=t(86),S=t(29608),K=t(55927),q=t(32332),ee=t(35790),Y=t(11475),V=t(8751),C=t(35312),J=t(28036),P=t(83062),p=t(32983),r=t(71230),n=t(15746),o=t(66309),c=t(74330),a=t(67294),i=t(42237),I=t(3917),ne=function(){var f=(0,a.useState)(null),s=k()(f,2),m=s[0],l=s[1],v=(0,K.Z)(function(M){return M.filterMessages("workflow_need_human_confirm")}),y=(0,K.Z)(function(M){return M.filterMessages("workflow_run_progress")}),d=(0,S.Z)(function(M){return M.prevConfirmDealtWith}),b=(0,I.Z)(h()(x()().mark(function M(){var D;return x()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,i.VE)({current:1,pageSize:10});case 2:return D=E.sent,E.abrupt("return",D.data);case 4:case"end":return E.stop()}},M)})),{refreshDeps:[v.length,y.length,d],onSuccess:function(D){l(D)}}),g=b.loading,R=b.runAsync;return{loading:g,data:m,refresh:R}},se=t(54464),X=t(62880),e=t(85893),de=function(f){var s,m=f.subtitle,l="pl-[10px] text-[#1B64F3] text-[12px] ".concat(m.need_human_confirm==1||m.need_human_confirm==null?"text-[#1B64F3]":"text-[#808183] ");return(0,e.jsx)("div",{className:"pr-4",children:(0,e.jsxs)("div",{className:"truncate w-full",children:[(0,e.jsx)("span",{className:"pr-[10px] text-[#666666] text-[12px]",children:m.app_name}),(0,e.jsx)(ee.Z,{}),(0,e.jsx)("span",{className:l,children:m.node_name||((s=m.node_exec_data)===null||s===void 0?void 0:s.node_name)})]})})},pe=function(f){var s=f.progressObj,m=function(){return parseFloat(s.elapsed_time).toFixed(6)},l=function(y){var d=new Date(y),b=d.getFullYear(),g=(d.getMonth()+1).toString().padStart(2,"0"),R=d.getDate().toString().padStart(2,"0"),M=d.getHours().toString().padStart(2,"0"),D=d.getMinutes().toString().padStart(2,"0"),U=d.getSeconds().toString().padStart(2,"0");return(0,e.jsx)(e.Fragment,{children:"".concat(b,".").concat(g,".").concat(R," ").concat(M,":").concat(D,":").concat(U)})};return(0,e.jsx)("div",{className:"inline-flex gap-x-4 justify-end max-w-[100%]",children:(0,e.jsxs)("div",{className:"inline-flex gap-x-[20px] max-w-[100%]",children:[(0,e.jsx)("div",{className:"truncate min-w-[70px]",children:s.created_time&&l(s.created_time)}),(0,e.jsx)("div",{className:"truncate",children:s.apps_name||s.app_name}),(0,e.jsxs)("div",{className:"flex items-center gap-x-[7px] truncate min-w-[50px]",children:[(0,e.jsx)("div",{className:"shrink-0 rounded-full ".concat(s.status==1?"bg-blue-600":s.status==2?"bg-green-500":"bg-red-500"),style:{width:"3px",height:"3px"}}),(0,e.jsxs)("div",{className:"truncate",children:[m(),"S"]})]})]})})},fe=function(f){var s=f.operationObj,m=(0,C.useIntl)(),l=(0,S.Z)(function(d){return d.setRunId}),v=(0,S.Z)(function(d){return d.setRunPanelLogRecord}),y=(0,S.Z)(function(d){return d.setDealtWithData});return(0,e.jsx)("div",{className:"inline-flex justify-end flex-1",children:(0,e.jsx)("div",{className:"inline-flex gap-x-[10px] items-center",children:(0,e.jsx)(J.ZP,{type:"primary",size:"small",style:{boxShadow:"none",background:"transparent",border:"none"},disabled:s.publish_status==0,icon:s!=null&&s.workflow_published_time?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(P.Z,{title:"".concat(s==null?void 0:s.workflow_published_time," ").concat(m.formatMessage({id:"creation.publish"})),children:(0,e.jsx)("img",{src:s.publish_status==0?"/icons/operation_disable_icon.svg":"/icons/operation_icon.svg"})})}):(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("img",{src:s.publish_status==0?"/icons/operation_disable_icon.svg":"/icons/operation_icon.svg"})}),onClick:function(b){return b.stopPropagation(),v(!1),y(!1),l(s.app_id),!1}})})})},me=function(f){var s=f.bindAdd,m=f.type,l=f.disabled,v=l===void 0?!1:l;return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{onClick:v?void 0:s,className:v?"cursor-not-allowed":"cursor-pointer",children:(0,e.jsxs)("a",{style:{color:v?"#CCCCCC":"#0077ED",fontSize:"0"},className:"flex items-center  gap-x-[5px]",children:[(0,e.jsx)("img",{src:"/icons/plaza_add.svg",className:"w-[16px] h-[16px] shrink-0 ".concat(v?"opacity-50":"")}),(0,e.jsx)("span",{className:v?"text-[#CCCCCC]":"text-[#1B64F3]",style:{fontSize:"12px"},children:m})]})})})},oe=function(f){var s=(0,C.useIntl)();return(0,e.jsx)("div",{className:"flex items-center h-full justify-center",children:(0,e.jsx)(p.Z,{image:p.Z.PRESENTED_IMAGE_SIMPLE,description:s.formatMessage({id:"app.dashboard.None"})})})},ve=function(f){var s=ne(),m=s.data,l=s.loading,v=(0,C.useIntl)(),y=(0,S.Z)(function(g){return g.setRunPanelLogRecord}),d=(0,S.Z)(function(g){return g.setDealtWithData}),b=(0,S.Z)(function(g){return g.setRunId});return(0,e.jsx)(e.Fragment,{children:m&&m.list.length?(0,e.jsx)("div",{className:"cardbox",style:{overflowY:"auto",height:"100%",overflowX:"hidden"},children:(0,e.jsx)(r.Z,{gutter:[30,0],children:m.list.map(function(g,R){return(0,e.jsx)(n.Z,{className:"graphicHoverbox",span:"24",children:(0,e.jsx)(F.Z,{icon:g.icon,avatar:g.avatar,title:g.node_name&&(0,e.jsx)(de,{subtitle:{app_name:g.app_name,node_name:g.node_name}}),textDetails:g.app_run_name,handleClick:function(){g.need_human_confirm!=0&&(d(g),b(null),y(!1))},backlogTips:(0,e.jsx)("div",{className:"flex items-center",children:g.need_human_confirm==1||g.need_human_confirm==null?(0,e.jsx)(P.Z,{title:v.formatMessage({id:"app.workflow.needHumanConfirm"}),children:(0,e.jsx)(Y.Z,{className:"text-[#1B64F3]"})}):(0,e.jsx)(P.Z,{title:v.formatMessage({id:"app.workflow.noHumanConfirm"}),children:(0,e.jsx)(V.Z,{className:"text-[#52C41C]"})})})})},R)})})}):(0,e.jsx)(oe,{})})},le=function(f){var s=f.data,m=f.keyName;return(0,e.jsx)("div",{className:"cardbox",style:{overflowY:"auto",height:"100%",overflowX:"hidden"},children:(0,e.jsx)(r.Z,{gutter:[30,0],children:s.map(function(l,v){return(0,e.jsx)(n.Z,{className:"graphicHoverbox",span:"12",children:(0,e.jsx)(F.Z,{icon:l.icon,avatar:l.avatar,title:l.name,textDetails:l.description,handleClick:function(){m=="my_agent"?C.history.push("/Agents?app_id=".concat(l.app_id,"&type=false")):C.history.push("/ReadOnlyAgent?app_id=".concat(l.app_id,"&type=true"))}})},v)})})})},ue=function(f){var s=f.data,m=f.keyName;return(0,e.jsx)("div",{className:"cardbox",style:{overflowY:"auto",height:"100%",overflowX:"hidden"},children:(0,e.jsx)(r.Z,{gutter:[30,0],children:s.map(function(l,v){return(0,e.jsx)(n.Z,{className:"graphicHoverbox",span:"12",children:(0,e.jsx)(F.Z,{icon:l.icon,avatar:l.avatar,title:l.name,textDetails:l.description,handleClick:function(){m=="my_workflow"?C.history.push("/workspace/workflow?app_id=".concat(l.app_id,"&type=false")):C.history.push("/workspace/workflow?app_id=".concat(l.app_id,"&type=true"))},operation:(0,e.jsx)(fe,{operationObj:l}),iconType:m=="my_workflow"?l.publish_status==0?"play_disable_icon":"play_icon":""})},v)})})})},he=function(f){var s=f.data,m=(0,C.useIntl)(),l=(0,S.Z)(function(_){return _.setRunPanelLogRecord}),v=(0,S.Z)(function(_){return _.setDealtWithData}),y=(0,S.Z)(function(_){return _.setRunId}),d=(0,a.useState)(s),b=k()(d,2),g=b[0],R=b[1],M=function(T,L){var Q=new Map;T.forEach(function(Z){Q.set(Z.app_run_id,Z)});var W=Array.from(Q.values());return L.forEach(function(Z){Q.has(Z.app_run_id)||W.push(Z)}),W},D=function(T){return T.completed_progress?parseInt(T.completed_progress.slice(0,-1)):!1},U=function(){var _=h()(x()().mark(function T(){var L;return x()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:L=E==null?void 0:E.filter(function(Z){return Z.type=="workflow_run_progress"}).map(function(Z){var G=Z.data;return G}),L&&L.length&&R(M(L,g));case 2:case"end":return W.stop()}},T)}));return function(){return _.apply(this,arguments)}}(),E=(0,K.Z)(function(_){return _.flowMessage});return(0,a.useEffect)(function(){U()},[E]),(0,e.jsx)(e.Fragment,{children:g&&g.length?(0,e.jsx)("div",{className:"cardbox px-[10px]",style:{overflowY:"auto",height:"100%",overflowX:"hidden"},children:(0,e.jsx)(r.Z,{gutter:[30,20],children:g.map(function(_,T){return(0,e.jsx)(n.Z,{className:"graphicHoverbox",span:"24",children:(0,e.jsx)(F.Z,{status:_.status,icon:_.icon,avatar:_.avatar,title:(0,e.jsxs)("div",{className:"items-center gap-x-[8px] inline-flex justify-end w-full",children:[(0,e.jsx)("span",{className:"flex-1 truncate",children:_.app_runs_name||_.run_name}),(_==null?void 0:_.need_human_confirm)==1?(0,e.jsx)(o.Z,{className:" text-[12px] flex items-center justify-center margin-0",color:"blue",children:m.formatMessage({id:"app.summaryhistory.tag"})}):(0,e.jsx)(e.Fragment,{})]}),textDetails:(0,e.jsx)(pe,{progressObj:_}),handleClick:function(){l(_),y(null),v(!1)},progress:_.percentage||D(_)})},T)})})}):(0,e.jsx)(oe,{})})},ge=function(f){var s=f.item,m=f.data,l=function(d,b){return d&&d.length?b:(0,e.jsx)(oe,{})},v={backlogs:function(d){return(0,e.jsx)(ve,{data:d.data})},my_agent:function(d){return l(m,(0,e.jsx)(le,{data:d.data,keyName:"my_agent"}))},my_workflow:function(d){return l(m,(0,e.jsx)(ue,{data:d.data,keyName:"my_workflow"}))},workflow_log:function(d){return(0,e.jsx)(he,{data:d.data})},more_agent:function(d){return l(m,(0,e.jsx)(le,{data:d.data}))},more_workflow:function(d){return l(m,(0,e.jsx)(ue,{data:d.data}))}};return(0,e.jsx)(e.Fragment,{children:v[s.key]({data:m})})},xe=function(f){var s=f.item,m=(0,C.useIntl)(),l=function(){var y=s.key=="my_agent"||s.key=="more_agent"?1:2,d=s.key=="more_agent"||s.key=="more_workflow";(0,q.f1)("SET",y,d),C.history.push("/creation")};return(0,e.jsx)("div",{onClick:l,children:s.key!=="backlogs"&&s.key!=="workflow_log"?(0,e.jsxs)("a",{className:"flex items-center gap-x-[5px]",style:{color:"#0077ED",fontSize:"0"},children:[(0,e.jsx)("img",{src:"/icons/plaza_view.svg",className:"w-[16px] h-[16px]"}),(0,e.jsx)("span",{className:"text-[#1B64F3]",style:{fontSize:"12px"},children:m.formatMessage({id:"app.dashboard.title_button_2"})})]}):(0,e.jsx)(e.Fragment,{})})},_e=function(f){var s=(0,C.useIntl)(),m=(0,se.TE)(),l=m.hasPermission,v=f.item,y=f.setIsModalOpen,d=f.setCreationType,b=function(){var E=v.key=="my_agent"?{name:"Agent",path:"Agents",apps_mode:1}:{name:"WorkFlow",path:"workspace/workflow",apps_mode:2};d(function(_){return u()(u()({},_),E)}),y(!0)},g=l(X.Dg.CREATE_AGENT),R=l(X.Dg.CREATE_WORKFLOW),M=v.key==="my_agent"?g:v.key==="my_workflow"?R:!1,D=v.key=="my_agent"?s.formatMessage({id:"app.dashboard.title_button_1.1"}):v.isAdd?s.formatMessage({id:"app.dashboard.title_button_1.2"}):"";return(0,e.jsxs)("div",{className:"flex gap-x-[30px] items-center",children:[v.isAdd&&(0,e.jsx)(me,{bindAdd:b,type:v.isAdd&&D,disabled:!M}),(0,e.jsx)(xe,{item:v})]})},ye=function(){var f=(0,C.useIntl)(),s=[{title:f.formatMessage({id:"app.dashboard.backlog"}),key:"backlogs",substitle:!0},{title:f.formatMessage({id:"app.dashboard.myagent"}),key:"my_agent",isAdd:!0,biserial:!0},{title:f.formatMessage({id:"app.dashboard.workflow"}),key:"my_workflow",isAdd:!0,biserial:!0},{title:f.formatMessage({id:"app.dashboard.run_log"}),key:"workflow_log",progress:!0},{title:f.formatMessage({id:"app.dashboard.team_agent"}),key:"more_agent",biserial:!0},{title:f.formatMessage({id:"app.dashboard.team_workflow"}),key:"more_workflow",biserial:!0}],m=(0,a.useState)(!1),l=k()(m,2),v=l[0],y=l[1],d=(0,a.useState)({}),b=k()(d,2),g=b[0],R=b[1],M=(0,a.useState)(!0),D=k()(M,2),U=D[0],E=D[1],_=(0,a.useState)({}),T=k()(_,2),L=T[0],Q=T[1],W=(0,a.useRef)(!1),Z=function(){var G=h()(x()().mark(function re(){var ie,ce;return x()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.next=2,(0,w.rw)();case 2:ie=ae.sent,ie.code==0&&(ce=ie.data,Q(ce),W.current=!0,E(!0));case 4:case"end":return ae.stop()}},re)}));return function(){return G.apply(this,arguments)}}();return(0,a.useEffect)(function(){W.current||Z()},[]),(0,e.jsxs)(e.Fragment,{children:[U&&s.map(function(G,re){return(0,e.jsx)(n.Z,{span:8,xs:24,sm:24,md:24,lg:12,xl:8,style:{height:"calc(50% - 20px)"},children:(0,e.jsxs)("div",{className:"bg-[#fff] rounded-[8px] w-[100%] h-[100%]",style:{boxShadow:"0px 2px 4px 0px rgba(0,0,0,0.05)"},children:[(0,e.jsxs)("div",{className:"text-[14px] p-[20px] text-[#213044] flex",children:[(0,e.jsx)("span",{className:"flex-1 font-[500] text-[#213044]",children:G.title}),(0,e.jsx)("span",{children:(0,e.jsx)(_e,{item:G,setIsModalOpen:y,setCreationType:R})})]}),(0,e.jsx)("div",{className:"pt-[5px] pb-[20px] px-[10px]",style:{height:"calc(100% - 62px)"},children:L[G.key]?(0,e.jsx)(ge,{item:G,data:L[G.key]}):(0,e.jsx)(e.Fragment,{})})]})},re)}),!U&&(0,e.jsx)("div",{className:"w-full h-full flex items-center justify-center ",style:{height:"calc(100vh - 300px)"},children:(0,e.jsx)(c.Z,{size:"large"})}),(0,e.jsx)(H.Z,{setIsModalOpen:y,isModalOpen:v,ModalType:!1,CreationType:g})]})},je=function(){return(0,e.jsxs)("div",{className:"overflow-auto",style:{height:"calc(100vh - 56px)",maxHeight:"calc(100vh - 56px)"},children:[(0,e.jsx)("div",{className:"px-[30px] pb-[10px] flex flex-col pt-[30px]",style:{width:"100%",height:"calc(100vh - 92px)",maxHeight:"calc(100vh - 92px)",margin:"0 auto"},children:(0,e.jsx)("div",{className:"flex-1",style:{minHeight:0},children:(0,e.jsx)(r.Z,{gutter:[20,20],className:"h-full",style:{overflowX:"hidden",alignContent:"flex-start"},children:(0,e.jsx)(ye,{})})})}),(0,e.jsx)(z.Z,{})]})},we=je}}]);
