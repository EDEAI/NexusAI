(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9366],{68262:function(Te,Q,e){"use strict";e.d(Q,{U:function(){return h}});var Z=e(1413),M=e(91),re=e(10915),A=e(21532),se=e(93967),X=e.n(se),Y=e(67294),ie=e(34994),U=e(4942),oe=e(64847),le=function(p){return(0,U.Z)((0,U.Z)({},p.componentCls,{"&-container":{display:"flex",flex:"1",flexDirection:"column",height:"100%",paddingInline:32,paddingBlock:24,overflow:"auto",background:"inherit"},"&-top":{textAlign:"center"},"&-header":{display:"flex",alignItems:"center",justifyContent:"center",height:"44px",lineHeight:"44px",a:{textDecoration:"none"}},"&-title":{position:"relative",insetBlockStart:"2px",color:"@heading-color",fontWeight:"600",fontSize:"33px"},"&-logo":{width:"44px",height:"44px",marginInlineEnd:"16px",verticalAlign:"top",img:{width:"100%"}},"&-desc":{marginBlockStart:"12px",marginBlockEnd:"40px",color:p.colorTextSecondary,fontSize:p.fontSize},"&-main":{minWidth:"328px",maxWidth:"580px",margin:"0 auto","&-other":{marginBlockStart:"24px",lineHeight:"22px",textAlign:"start"}}}),"@media (min-width: @screen-md-min)",(0,U.Z)({},"".concat(p.componentCls,"-container"),{paddingInline:0,paddingBlockStart:32,paddingBlockEnd:24,backgroundRepeat:"no-repeat",backgroundPosition:"center 110px",backgroundSize:"100%"}))};function ue(l){return(0,oe.Xj)("LoginForm",function(p){var L=(0,Z.Z)((0,Z.Z)({},p),{},{componentCls:".".concat(l)});return[le(L)]})}var v=e(85893),y=["logo","message","contentStyle","title","subTitle","actions","children","containerStyle","otherStyle"];function h(l){var p,L=l.logo,ce=l.message,de=l.contentStyle,w=l.title,J=l.subTitle,F=l.actions,B=l.children,k=l.containerStyle,ge=l.otherStyle,d=(0,M.Z)(l,y),fe=(0,re.YB)(),me=d.submitter===!1?!1:(0,Z.Z)((0,Z.Z)({searchConfig:{submitText:fe.getMessage("loginForm.submitText","\u767B\u5F55")}},d.submitter),{},{submitButtonProps:(0,Z.Z)({size:"large",style:{width:"100%"}},(p=d.submitter)===null||p===void 0?void 0:p.submitButtonProps),render:function(G,_){var H,pe=_.pop();if(typeof(d==null||(H=d.submitter)===null||H===void 0?void 0:H.render)=="function"){var N,R;return d==null||(N=d.submitter)===null||N===void 0||(R=N.render)===null||R===void 0?void 0:R.call(N,G,_)}return pe}}),ve=(0,Y.useContext)(A.ZP.ConfigContext),q=ve.getPrefixCls("pro-form-login"),t=ue(q),he=t.wrapSSR,D=t.hashId,T=function(G){return"".concat(q,"-").concat(G," ").concat(D)},E=(0,Y.useMemo)(function(){return L?typeof L=="string"?(0,v.jsx)("img",{src:L}):L:null},[L]);return he((0,v.jsxs)("div",{className:X()(T("container"),D),style:k,children:[(0,v.jsxs)("div",{className:"".concat(T("top")," ").concat(D).trim(),children:[w||E?(0,v.jsxs)("div",{className:"".concat(T("header")),children:[E?(0,v.jsx)("span",{className:T("logo"),children:E}):null,w?(0,v.jsx)("span",{className:T("title"),children:w}):null]}):null,J?(0,v.jsx)("div",{className:T("desc"),children:J}):null]}),(0,v.jsxs)("div",{className:T("main"),style:(0,Z.Z)({width:328},de),children:[(0,v.jsxs)(ie.A,(0,Z.Z)((0,Z.Z)({isKeyPressSubmit:!0},d),{},{submitter:me,children:[ce,B]})),F?(0,v.jsx)("div",{className:T("main-other"),style:ge,children:F}):null]})]}))}},28232:function(Te,Q,e){"use strict";e.r(Q),e.d(Q,{default:function(){return Pe}});var Z=e(15009),M=e.n(Z),re=e(99289),A=e.n(re),se=e(5574),X=e.n(se),Y=e(56264),ie=e(32060),U=e(99058),oe=e(32332),le=e(45585),ue=e(87547),v=e(94149),y=e(1413),h=e(67294),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M744 62H280c-35.3 0-64 28.7-64 64v768c0 35.3 28.7 64 64 64h464c35.3 0 64-28.7 64-64V126c0-35.3-28.7-64-64-64zm-8 824H288V134h448v752zM472 784a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"mobile",theme:"outlined"},p=l,L=e(91146),ce=function(g,S){return h.createElement(L.Z,(0,y.Z)((0,y.Z)({},g),{},{ref:S,icon:p}))},de=h.forwardRef(ce),w=de,J=e(68262),F=e(5966),B=e(55850),k=e(15861),ge=e(91),d=e(97685),fe=e(59586),me=e(55102),ve=e(83622),q=e(90789),t=e(85893),he=["rules","name","phoneName","fieldProps","onTiming","captchaTextRender","captchaProps"],D=h.forwardRef(function(i,g){var S=fe.Z.useFormInstance(),b=(0,h.useState)(i.countDown||60),O=(0,d.Z)(b,2),W=O[0],ee=O[1],V=(0,h.useState)(!1),te=(0,d.Z)(V,2),P=te[0],z=te[1],je=(0,h.useState)(),ne=(0,d.Z)(je,2),xe=ne[0],o=ne[1],ye=i.rules,Ze=i.name,I=i.phoneName,C=i.fieldProps,$=i.onTiming,K=i.captchaTextRender,ae=K===void 0?function(n,r){return n?"".concat(r," \u79D2\u540E\u91CD\u65B0\u83B7\u53D6"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"}:K,j=i.captchaProps,c=(0,ge.Z)(i,he),f=function(){var n=(0,k.Z)((0,B.Z)().mark(function r(s){return(0,B.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.prev=0,o(!0),x.next=4,c.onGetCaptcha(s);case 4:o(!1),z(!0),x.next=13;break;case 8:x.prev=8,x.t0=x.catch(0),z(!1),o(!1),console.log(x.t0);case 13:case"end":return x.stop()}},r,null,[[0,8]])}));return function(s){return n.apply(this,arguments)}}();return(0,h.useImperativeHandle)(g,function(){return{startTiming:function(){return z(!0)},endTiming:function(){return z(!1)}}}),(0,h.useEffect)(function(){var n=0,r=i.countDown;return P&&(n=window.setInterval(function(){ee(function(s){return s<=1?(z(!1),clearInterval(n),r||60):s-1})},1e3)),function(){return clearInterval(n)}},[P]),(0,h.useEffect)(function(){$&&$(W)},[W,$]),(0,t.jsxs)("div",{style:(0,y.Z)((0,y.Z)({},C==null?void 0:C.style),{},{display:"flex",alignItems:"center"}),ref:g,children:[(0,t.jsx)(me.Z,(0,y.Z)((0,y.Z)({},C),{},{style:(0,y.Z)({flex:1,transition:"width .3s",marginRight:8},C==null?void 0:C.style)})),(0,t.jsx)(ve.ZP,(0,y.Z)((0,y.Z)({style:{display:"block"},disabled:P,loading:xe},j),{},{onClick:(0,k.Z)((0,B.Z)().mark(function n(){var r;return(0,B.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!I){a.next=9;break}return a.next=4,S.validateFields([I].flat(1));case 4:return r=S.getFieldValue([I].flat(1)),a.next=7,f(r);case 7:a.next=11;break;case 9:return a.next=11,f("");case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),console.log(a.t0);case 16:case"end":return a.stop()}},n,null,[[0,13]])})),children:ae(P,W)}))]})}),T=(0,q.G)(D),E=T,u=e(76772),G=e(40056),_=e(45360),H=e(11941),pe=e(14521),N=e(67610),R=(0,pe.kc)(function(i){var g=i.token;return{action:{marginLeft:"8px",color:"rgba(0, 0, 0, 0.2)",fontSize:"24px",verticalAlign:"middle",cursor:"pointer",transition:"color 0.3s","&:hover":{color:g.colorPrimaryActive}},lang:{width:42,height:42,lineHeight:"42px",position:"fixed",right:16,borderRadius:g.borderRadius,":hover":{backgroundColor:g.colorBgTextHover}},container:{display:"flex",flexDirection:"column",height:"100vh",overflow:"auto",backgroundImage:"url('https://mdn.alipayobjects.com/yuyan_qk0oxh/afts/img/V-_oS6r-i7wAAAAAAAAAAAAAFl94AQBr')",backgroundSize:"100% 100%"}}}),Le=function(){var g=R(),S=g.styles,b=function(){return(0,t.jsx)("img",{src:"/icons/lang.svg"})};return(0,t.jsx)("div",{className:S.lang,"data-lang":!0,children:u.SelectLang&&(0,t.jsx)(u.SelectLang,{icon:(0,t.jsx)(b,{})})})},Se=function(g){var S=g.content;return(0,t.jsx)(G.Z,{style:{marginBottom:24},message:S,type:"error",showIcon:!0})},Ce=function(){var g=(0,h.useState)({}),S=X()(g,2),b=S[0],O=S[1],W=(0,h.useState)("account"),ee=X()(W,2),V=ee[0],te=ee[1],P=(0,u.useModel)("@@initialState"),z=P.initialState,je=P.setInitialState,ne=R(),xe=ne.styles,o=(0,u.useIntl)(),ye=(0,le.Pc)(),Ze=ye.refreshUserInfo,I=ye.userInfo,C=function(){var j=A()(M()().mark(function c(){return M()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ze();case 2:(0,oe.f1)("SET",6,!1,""),setTimeout(function(){(0,u.setLocale)((I==null?void 0:I.language)=="en"?"en-US":"zh-CN")},100);case 4:case"end":return n.stop()}},c)}));return function(){return j.apply(this,arguments)}}(),$=function(){var j=A()(M()().mark(function c(f){var n,r,s,a,x,Ie,Me;return M()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,n=f.autoLogin,r=f.password,s=f.username,m.next=4,(0,ie.x4)({password:r,username:s});case 4:if(a=m.sent,!(a!=null&&a.access_token)){m.next=12;break}return x=o.formatMessage({id:"pages.login.success",defaultMessage:"\uFF01"}),m.next=9,C();case 9:return Ie=new URL(window.location.href).searchParams,u.history.push("/"),m.abrupt("return");case 12:O({status:"error",type:"account"}),m.next=20;break;case 15:m.prev=15,m.t0=m.catch(0),Me=o.formatMessage({id:"pages.login.failure",defaultMessage:"\uFF0C\uFF01"}),console.log(m.t0),_.ZP.error(Me);case 20:case"end":return m.stop()}},c,null,[[0,15]])}));return function(f){return j.apply(this,arguments)}}(),K=b.status,ae=b.type;return(0,t.jsxs)("div",{className:xe.container,children:[(0,t.jsx)(u.Helmet,{children:(0,t.jsxs)("title",{children:[o.formatMessage({id:"menu.login",defaultMessage:""}),"- ",N.Z.title]})}),(0,t.jsx)(Le,{}),(0,t.jsx)("div",{style:{flex:"1",padding:"32px 0"},children:(0,t.jsxs)(J.U,{contentStyle:{minWidth:280,maxWidth:"75vw"},logo:(0,t.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:"NexusAI",subTitle:o.formatMessage({id:"pages.layouts.userLayout.title"}),initialValues:{autoLogin:!0},onFinish:function(){var j=A()(M()().mark(function c(f){return M()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,$(f);case 2:case"end":return r.stop()}},c)}));return function(c){return j.apply(this,arguments)}}(),children:[(0,t.jsx)(H.Z,{activeKey:V,onChange:te,centered:!0,items:[]}),K==="error"&&ae==="account"&&(0,t.jsx)(Se,{content:o.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:""})}),V==="account"&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(F.Z,{name:"username",fieldProps:{size:"large",prefix:(0,t.jsx)(ue.Z,{})},placeholder:o.formatMessage({id:"pages.login.username.placeholder",defaultMessage:":"}),rules:[{required:!0,message:(0,t.jsx)(u.FormattedMessage,{id:"pages.login.username.required"})}]}),(0,t.jsx)(F.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,t.jsx)(v.Z,{})},placeholder:o.formatMessage({id:"pages.login.password.placeholder"}),rules:[{required:!0,message:(0,t.jsx)(u.FormattedMessage,{id:"pages.login.password.required"})}]})]}),K==="error"&&ae==="mobile"&&(0,t.jsx)(Se,{content:""}),V==="mobile"&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(F.Z,{fieldProps:{size:"large",prefix:(0,t.jsx)(w,{})},name:"mobile",placeholder:o.formatMessage({id:"pages.login.phoneNumber.placeholder"}),rules:[{required:!0,message:(0,t.jsx)(u.FormattedMessage,{id:"pages.login.phoneNumber.required"})},{pattern:/^1\d{10}$/,message:(0,t.jsx)(u.FormattedMessage,{id:"pages.login.phoneNumber.invalid"})}]}),(0,t.jsx)(E,{fieldProps:{size:"large",prefix:(0,t.jsx)(v.Z,{})},captchaProps:{size:"large"},placeholder:o.formatMessage({id:"pages.login.captcha.placeholder"}),captchaTextRender:function(c,f){return c?"".concat(f," ").concat(o.formatMessage({id:"pages.getCaptchaSecondText"})):o.formatMessage({id:"pages.login.phoneLogin.getVerificationCode"})},name:"captcha",rules:[{required:!0,message:(0,t.jsx)(u.FormattedMessage,{id:"pages.login.captcha.required"})}],onGetCaptcha:function(){var j=A()(M()().mark(function c(f){var n;return M()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,U.getFakeCaptcha)({phone:f});case 2:if(n=s.sent,n){s.next=5;break}return s.abrupt("return");case 5:case"end":return s.stop()}},c)}));return function(c){return j.apply(this,arguments)}}()})]}),(0,t.jsx)("div",{style:{marginTop:-14,marginBottom:8,textAlign:"right"},children:(0,t.jsx)("a",{onClick:function(){u.history.push("/user/forgot-password")},style:{color:"#1890ff",textDecoration:"none"},children:o.formatMessage({id:"pages.login.forgotPassword",defaultMessage:"Forgot Password ?"})})})]})}),(0,t.jsx)(Y.$_,{})]})},Pe=Ce},99058:function(){}}]);
