"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[928],{83510:function(de,Z,a){a.d(Z,{LK:function(){return D},bs:function(){return d},go:function(){return z},uy:function(){return N}});var R=a(15009),u=a.n(R),L=a(99289),c=a.n(L),j=a(47520),M="/v1/apps/apps_list",y="/v1/agent/agent_delete/",i="/v1/workflow/workflow_app_delete/",F="/v1/vector/delete_dataset/",U="/v1/skill/delete_skill_by_app_id/",W="/v1/apps/apps_create",K="/v1/apps/app_update/",z=function(){var P=c()(u()().mark(function b(v){var g;return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,j.ZP)("".concat(M),{method:"GET",data:v});case 2:return g=o.sent,o.abrupt("return",g);case 4:case"end":return o.stop()}},b)}));return function(v){return P.apply(this,arguments)}}(),D=function(){var P=c()(u()().mark(function b(v){var g;return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return console.log(v),o.next=3,v.mode;case 3:if(o.t0=o.sent,o.t0!=1){o.next=8;break}o.t1=(0,j.ZP)("".concat(y).concat(v.app_id),{method:"DELETE"}),o.next=9;break;case 8:o.t1=v.mode==2?(0,j.ZP)("".concat(i).concat(v.app_id),{method:"DELETE"}):v.mode==3?(0,j.ZP)("".concat(F).concat(v.app_id),{method:"DELETE"}):(0,j.ZP)("".concat(U).concat(v.app_id),{method:"DELETE",data:{is_soft:1}});case 9:return g=o.t1,o.abrupt("return",g);case 11:case"end":return o.stop()}},b)}));return function(v){return P.apply(this,arguments)}}(),N=function(){var P=c()(u()().mark(function b(v){var g;return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,j.ZP)("".concat(W),{method:"POST",data:v});case 2:return g=o.sent,o.abrupt("return",g);case 4:case"end":return o.stop()}},b)}));return function(v){return P.apply(this,arguments)}}(),d=function(){var P=c()(u()().mark(function b(v){var g;return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,j.ZP)("".concat(K).concat(v.app_id),{method:"PUT",data:v});case 2:return g=o.sent,o.abrupt("return",g);case 4:case"end":return o.stop()}},b)}));return function(v){return P.apply(this,arguments)}}()},72406:function(de,Z,a){var R=a(58533),u=a(99702),L=a(74330),c=a(85893),j=function(y){var i=y.children,F=y.elid,U=y.dataLength,W=y.ishasMore,K=y.upSlide,z=y.isFooter,D=y.pageNumber,N=D===void 0?2:D;return(0,c.jsxs)("div",{className:"h-full flex flex-col",children:[(0,c.jsx)(R.Z,{dataLength:U,scrollableTarget:F,next:K,hasMore:W,loader:(0,c.jsx)("div",{className:"flex justify-center h-[60px] items-center",children:N>1?(0,c.jsx)(L.Z,{}):(0,c.jsx)(c.Fragment,{})}),children:i}),z&&(0,c.jsx)("div",{className:"mt-[30px] flex-1 flex ",style:{alignItems:"flex-end"},children:(0,c.jsx)(u.Z,{className:"relative"})})]})};Z.Z=j},21446:function(de,Z,a){var R=a(15009),u=a.n(R),L=a(97857),c=a.n(L),j=a(99289),M=a.n(j),y=a(5574),i=a.n(y),F=a(83510),U=a(32332),W=a(35312),K=a(26915),z=a(17788),D=a(67294),N=a(94840),d=a(85893),P=K.Z.TextArea,b=function(g){var H=g.setIsModalOpen,o=g.isModalOpen,q=g.transformData,r=g.CreationType,oe=g.setcreationType,ke=g.ModalType,T=(0,W.useIntl)(),h=(0,D.useState)(""),J=i()(h,2),Me=J[0],Ze=J[1],ye=(0,D.useState)(""),Ce=i()(ye,2),Le=Ce[0],Ue=Ce[1],Be=(0,D.useState)({id:1,icon:"/icons/headportrait/Android.svg"}),Ee=i()(Be,2),e=Ee[0],Re=Ee[1];(0,D.useEffect)(function(){},[]);var We=function(S){Ze(S.target.value)},Ge=function(S){Ue(S.target.value)},ue=function(){var I=M()(u()().mark(function S(){var V,pe;return u()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(V={name:Me,mode:r.apps_mode,description:Le,icon:JSON.stringify(e.id),icon_background:""},r.apps_mode!=2){O.next=8;break}return O.next=4,(0,F.uy)(V);case 4:pe=O.sent,pe.code===0&&(H(!1),De(pe.data.app_id)),O.next=10;break;case 8:(0,U.Go)("SET",c()(c()({},V),{},{type:!1})),De();case 10:case"end":return O.stop()}},S)}));return function(){return I.apply(this,arguments)}}(),Te=function(S){q.map(function(V){V.name==S.name&&(console.log(V,"item"),oe(V))})},De=function(S){S?W.history.push("/".concat(r.path,"?app_id=").concat(S,"&&type=false")):W.history.push("/".concat(r.path,"?type=false"))};return(0,d.jsx)(z.Z,{title:T.formatMessage({id:"creation.addnewapp"}),open:o,okText:T.formatMessage({id:"creation"}),onOk:ue,onCancel:function(){return H(!1)},okButtonProps:{disabled:Me===""},width:820,children:(0,d.jsxs)("div",{className:"pb-1",children:[ke?(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium text-xs mb-4 mt-8",children:T.formatMessage({id:"creation.appntype"})}),(0,d.jsx)("div",{className:"flex items-center justify-around gap-y-[24px]",children:q&&q.map(function(I){return(0,d.jsxs)("div",{className:"w-44 h-24 rounded-lg text-center bg-[url('/images/bg.png')] bg-[length:176px_96px] cursor-pointer",style:{border:I.apps_mode===r.apps_mode?"1px solid #1B64F3":"1px solid #eeeeee"},onClick:function(){Te(I)},children:[(0,d.jsx)("div",{className:"flex items-center justify-center mt-5 mb-2.5",children:(0,d.jsx)("img",{className:"w-6 h-6",src:I.signicon,alt:""})}),(0,d.jsx)("div",{className:"text-p[#213044] text-base font-normal",children:I.name})]})})})]}):null,(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsxs)("p",{className:"text-xs mt-5",children:[r.apps_mode==1?T.formatMessage({id:"creation.agent"}):r.apps_mode==2?T.formatMessage({id:"creation.workflow"}):r.apps_mode==3?T.formatMessage({id:"creation.repository"}):T.formatMessage({id:"creation.skill"}),T.formatMessage({id:"creation.appiconname"})]}),(0,d.jsxs)("div",{className:"flex items-center justify-around",children:[(0,d.jsx)(N.Z,{CardData:e,setCardData:Re}),(0,d.jsx)(K.Z,{showCount:!0,maxLength:20,placeholder:T.formatMessage({id:"creation.placeholder.appname"}),onChange:We})]})]}),(0,d.jsxs)("div",{className:"mb-5 text-xs",children:[(0,d.jsxs)("p",{children:[r.apps_mode==1?T.formatMessage({id:"creation.agent"}):r.apps_mode==2?T.formatMessage({id:"creation.workflow"}):r.apps_mode==3?T.formatMessage({id:"creation.repository"}):T.formatMessage({id:"creation.skill"}),T.formatMessage({id:"creation.appdescribe"})]}),(0,d.jsx)(P,{showCount:!0,maxLength:100,rows:4,placeholder:T.formatMessage({id:"creation.placeholder.appdescribe"}),onChange:Ge})]})]})]})})};Z.Z=b},78697:function(de,Z,a){var R=a(67294),u=a(85893),L=function(j){var M=j.Image,y=j.icon;return(0,R.useEffect)(function(){},[]),(0,u.jsxs)("div",{className:"w-[42px] h-[42px] bg-[#F4F8F1] rounded-md flex items-center justify-center relative",children:[(0,u.jsx)("div",{children:(0,u.jsx)("img",{src:M,alt:""})}),y?(0,u.jsx)("div",{className:"absolute bottom-[-3px] right-[-3px] w-4 h-4 bg-white rounded-sm flex items-center justify-center shadow-[0_0_4px_-0_rgba(0,0,0,0.2)]",children:(0,u.jsx)("img",{className:" w-[12px] h-[12px]",src:y,alt:""})}):null]})};Z.Z=L},94840:function(de,Z,a){var R=a(97857),u=a.n(R),L=a(32332),c=a(55241),j=a(67294),M=a(85893),y=function(F){var U=F.CardData,W=F.setCardData;(0,j.useEffect)(function(){},[]);var K=function(){return(0,M.jsx)("div",{className:"flex justify-start items-center flex-wrap w-40",children:(0,L.s9)("all").map(function(N){return(0,M.jsx)("div",{className:"w-8 h-8 bg-[#F4F8F1] rounded-lg mr-1.5 flex items-center justify-center m-0.5 cursor-pointer",onClick:function(){z(N)},children:(0,M.jsx)("img",{src:N.image,alt:""})})})})},z=function(N){W(u()(u()({},U),{},{icon:N.image,id:N.id}))};return(0,M.jsx)(c.Z,{content:K,trigger:"click",placement:"bottomLeft",children:(0,M.jsx)("div",{className:"w-8 h-8 bg-[#F4F8F1] rounded-lg mr-1.5 flex items-center justify-center m-0.5 cursor-pointer",children:(0,M.jsx)("img",{src:(0,L.s9)("single",U.id?U.id:U.icon),alt:""})})})};Z.Z=y},91375:function(de,Z,a){a.r(Z),a.d(Z,{default:function(){return V}});var R=a(97857),u=a.n(R),L=a(15009),c=a.n(L),j=a(99289),M=a.n(j),y=a(5574),i=a.n(y),F=a(40110),U=a(47389),W=a(82061),K=a(43425),z=a(71471),D=a(26915),N=a(17788),d=a(2453),P=a(78045),b=a(74330),v=a(71230),g=a(15746),H=a(4393),o=a(55241),q=a(28036),r=a(67294),oe=a(83510),ke=a(78697),T=a(72406),h=a(32332),J=a(35312),Me=a(27484),Ze=a.n(Me),ye=a(21446),Ce=a(47520),Le=a(42237),Ue=a(33914),Be=a(57546),Ee=a(46822),e=a(85893),Re=function(n){var O=n.optionsModalId,C=(0,J.useIntl)(),w=(0,r.useState)(!0),me=i()(w,2),Fe=me[0],Ne=me[1],re=D.Z.TextArea,$=[{name:C.formatMessage({id:"creation.agent"}),path:"Agents",icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",unselected:"/icons/creation/unselectedrobot.svg",apps_mode:1},{name:C.formatMessage({id:"creation.workflow"}),path:"workspace/workflow",icon:"/icons/creation/gongzuoliu1.svg",pitchicon:"/icons/creation/pitchgongzuoliu.svg",signicon:"/icons/creation/signgongzuoliu.svg",unselected:"/icons/creation/unselectedprocess.svg",apps_mode:2},{name:C.formatMessage({id:"creation.skill"}),path:"Skill",icon:"/icons/creation/jienng1.svg",pitchicon:"/icons/creation/pitchzhishik.svg",signicon:"/icons/creation/signzhishik.svg",unselected:"/icons/creation/unselectedrepository.svg",apps_mode:4}];location.pathname=="/knowledgebase"&&$.push({name:C.formatMessage({id:"creation.repository"}),path:"Createkb",icon:"/icons/creation/jienng1.svg",pitchicon:"/icons/creation/pitchzhishik.svg",signicon:"/icons/creation/signzhishik.svg",unselected:"/icons/creation/unselectedrepository.svg",apps_mode:3});var Ke=(0,r.useState)(!1),fe=i()(Ke,2),ze=fe[0],Q=fe[1],He=(0,r.useState)({name:C.formatMessage({id:"creation.agent"}),path:"Agents",icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",apps_mode:1}),he=i()(He,2),ie=he[0],le=he[1],Je=(0,r.useState)(""),ve=i()(Je,2),be=ve[0],Oe=ve[1],Ve=(0,r.useState)(""),ge=i()(Ve,2),p=ge[0],Se=ge[1],Ye=(0,r.useState)({id:12,icon:"\u{1F612}"}),xe=i()(Ye,2),$e=xe[0],na=xe[1];(0,r.useEffect)(function(){location.pathname=="/knowledgebase"&&Ne(!1)});var we=function(x){var _=$.filter(function(ce){return ce.apps_mode==x});Q(!0),le(_[0]?_[0]:{name:"Agent",path:"Agents",icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",apps_mode:1})},Qe=function(){Q(!1)},Xe=function(x){J.history.push("/".concat(ie.path,"?app_id=").concat(x,"&type=false"))},qe=function(x){$.map(function(_){_.name==x.target.value&&(console.log(_,"item"),le(_))})},oa=function(x){Oe(x.target.value)},ea=function(x){Se(x.target.value)},ra=function(){var m=M()(c()().mark(function x(){var _;return c()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,(0,oe.uy)({name:be,mode:ie.apps_mode,description:p,icon:$e.icon,icon_background:""});case 2:_=Y.sent,_.code===0&&(Q(!1),Xe(_.data.app_id));case 4:case"end":return Y.stop()}},x)}));return function(){return m.apply(this,arguments)}}(),Pe=(0,r.useState)(!1),ee=i()(Pe,2),aa=ee[0],ae=ee[1],ta=function(){console.log("Import cancelled"),ae(!1)},sa=(0,r.memo)(function(){var m=(0,r.useState)([]),x=i()(m,2),_=x[0],ce=x[1],Y={icon:(0,e.jsx)(Ue.Z,{}),title:C.formatMessage({id:"workflow.uploadFileText",defaultMessage:"Drag file here, or click to upload"}),description:"Upload the exported workflow yml file",accept:".yml,.yaml",fieldProps:{listType:"text",name:"file",multiple:!0,maxCount:1,headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},action:Ce._n+"/v1/workflow/import",beforeUpload:function(B){return ce([B]),!1}},onChange:function(B){var G=B.file.status;if(G==="done"){var A;(B==null||(A=B.file)===null||A===void 0||(A=A.response)===null||A===void 0?void 0:A.code)===0?(d.ZP.success(C.formatMessage({id:"workflow.importSuccess"})),ae(!1)):d.ZP.error(C.formatMessage({id:"workflow.importFailed"}))}else G==="error"&&d.ZP.error("".concat(B.file.name," file upload failed."))}},Ie=function(){if(_.length>0){var B=new FormData;B.append("file",_[0]),(0,Le.Uq)(B).then(function(G){if((G==null?void 0:G.code)==0){var A;J.history.push("/workspace/workflow?app_id=".concat(G==null||(A=G.data)===null||A===void 0?void 0:A.app_id,"&type=false"))}})}ae(!1)};return(0,e.jsx)(N.Z,{title:C.formatMessage({id:"creation.importWorkflow"}),open:aa,onOk:Ie,okButtonProps:{loading:!1},okText:C.formatMessage({id:"workflow.import"}),onCancel:ta,children:(0,e.jsx)(Ee.Z,u()({name:"file"},Y))})});return(0,e.jsxs)(H.Z,{style:{minWidth:300,marginTop:10,backgroundColor:"#EFF0F2"},bodyStyle:{height:"100%"},hoverable:!1,children:[(0,e.jsx)(sa,{}),(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"174px"},children:[O===6?(0,e.jsxs)("div",{className:"flex justify-around items-start h-full w-full ",style:{flexDirection:"column",height:"calc(100% + 24px)"},children:[$.map(function(m,x){return(0,e.jsxs)("div",{className:"hover:bg-[#fff] w-full rounded-lg h-8 cursor-pointer flex items-center",onClick:function(){return we(m.apps_mode)},children:[(0,e.jsx)("img",{src:m.icon,style:{width:"16px",height:"16px",margin:"0 5px 0 10px"},alt:""}),(0,e.jsxs)("div",{style:{color:"#213044"},children:[C.formatMessage({id:"creation.new"}),m.name]})]})}),(0,e.jsxs)("div",{onClick:function(){return ae(!0)},className:"hover:bg-[#fff] w-full rounded-lg h-8 cursor-pointer flex items-center text-[#213044]",children:[(0,e.jsx)(Be.Z,{className:"size-4  mr-[5px] ml-[10px]"})," ",C.formatMessage({id:"creation.importWorkflow"})]})]}):null,(0,e.jsx)("div",{className:" flex-wrap h-full text-[#999] text-[12px] cursor-pointer",style:{width:O===6?"50%":"100%"},onClick:function(){return we(O)},children:O===6?(0,e.jsxs)("div",{className:"mt-[62px]",children:[(0,e.jsx)("div",{className:"h-[42px] flex justify-center",children:(0,e.jsx)("img",{src:"/icons/creation/add.svg",alt:""})}),(0,e.jsxs)("div",{className:"svg-container w-full text-center",children:[" ",C.formatMessage({id:"creation.addcreation"})]})]}):$.filter(function(m,x){return m.apps_mode==O}).map(function(m,x){return(0,e.jsxs)("div",{className:"mt-[50px]",children:[(0,e.jsx)("div",{className:"h-[42px] flex justify-center mb-[10px]",children:(0,e.jsx)("img",{src:m.unselected?m.unselected:"/icons/creation/add.svg",alt:""})}),(0,e.jsxs)("div",{className:"svg-container w-full text-center",children:[C.formatMessage({id:"creation.new"}),m.name?m.name:C.formatMessage({id:"creation.adhibition"})]})]})})})]}),(0,e.jsx)(ye.Z,{setIsModalOpen:Q,isModalOpen:ze,ModalType:Fe,CreationType:ie,setcreationType:le,transformData:$})]})},We=Re,Ge=a(94840),ue=a(29608),Te=z.Z.Text,De=z.Z.Paragraph,I=D.Z.TextArea,S=function(){var n=(0,J.useIntl)(),O=(0,r.useState)(null),C=i()(O,2),w=C[0],me=C[1],Fe=(0,r.useState)(1),Ne=i()(Fe,2),re=Ne[0],$=Ne[1],Ke=(0,r.useState)(!1),fe=i()(Ke,2),ze=fe[0],Q=fe[1],He=(0,r.useState)(""),he=i()(He,2),ie=he[0],le=he[1],Je=(0,r.useState)(""),ve=i()(Je,2),be=ve[0],Oe=ve[1],Ve=(0,r.useState)(null),ge=i()(Ve,2),p=ge[0],Se=ge[1],Ye=(0,r.useState)(!1),xe=i()(Ye,2),$e=xe[0],na=xe[1],we=(0,r.useState)(!1),Qe=i()(we,2),Xe=Qe[0],qe=Qe[1],oa=(0,r.useState)({name:"Agent",path:n.formatMessage({id:"creation.agent"}),icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",apps_mode:1}),ea=i()(oa,2),ra=ea[0],Pe=ea[1],ee=[{apps_mode:6,name:n.formatMessage({id:"creation.all"}),path:"Agents",icon:"/icons/creation/quanbu.svg",unselected:"/icons/creation/quanbu.svg",pitchicon:"/icons/creation/pitchquanbu.svg",signicon:"/icons/creation/pitchquanbu.svg"},{apps_mode:1,name:n.formatMessage({id:"creation.agent"}),path:"Agents",icon:"/icons/creation/agent.svg",unselected:"/icons/creation/unselectedrobot.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg"},{apps_mode:2,name:n.formatMessage({id:"creation.workflow"}),path:"workspace/workflow",icon:"/icons/creation/gongzuoliu1.svg",unselected:"/icons/creation/unselectedprocess.svg",pitchicon:"/icons/creation/pitchgongzuoliu.svg",signicon:"/icons/creation/signgongzuoliu.svg"},{apps_mode:4,name:n.formatMessage({id:"creation.skill"}),path:"Skill",icon:"/icons/creation/jienng1.svg",unselected:"/icons/creation/unselectedskill.svg",pitchicon:"/icons/creation/pitchskill.svg",signicon:"/icons/creation/signskill.svg"}],aa=(0,r.useState)(6),ae=i()(aa,2),ta=ae[0],sa=ae[1],m=(0,r.useState)(!1),x=i()(m,2),_=x[0],ce=x[1],Y=(0,r.useState)(""),Ie=i()(Y,2),te=Ie[0],B=Ie[1],G=(0,r.useState)(!1),A=i()(G,2),va=A[0],ia=A[1],ga=(0,r.useState)([{apps_mode:1,name:n.formatMessage({id:"creation.agent"}),path:"Agents",readOnlypath:"ReadOnlyAgent"},{apps_mode:2,name:n.formatMessage({id:"creation.workflow"}),path:"workspace/workflow"},{apps_mode:3,name:n.formatMessage({id:"creation.repository"}),path:"createkb"},{apps_mode:4,name:n.formatMessage({id:"creation.skill"}),path:"Skill",readOnlypath:"ReadOnlySkill"}]),la=i()(ga,2),ca=la[0],Aa=la[1],xa=(0,r.useState)(!0),da=i()(xa,2),_a=da[0],ua=da[1],ja=(0,r.useState)(-1),pa=i()(ja,2),Ma=pa[0],_e=pa[1],se=function(){var t=M()(c()().mark(function s(f,k,l,E,ne,ha){var X,Ae;return c()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return X={page:f||re,page_size:27,search_type:(0,h.f1)("GET").searchType==!0?2:1,apps_mode:(0,h.f1)("GET").optionsModalId,apps_name:E||E==""?E:te},ua(!0),je.next=4,(0,oe.go)(X);case 4:Ae=je.sent,ia(!0),me(ne?{list:w.list.concat(Ae.data.list)}:Ae.data),ua(!1),Ae.data.list.length<27&&ia(!1);case 9:case"end":return je.stop()}},s)}));return function(f,k,l,E,ne,ha){return t.apply(this,arguments)}}();(0,r.useEffect)(function(){if((0,h.op)(),location.pathname=="/knowledgebase"){var t={apps_mode:3,name:n.formatMessage({id:"creation.repository"}),path:"Createkb"};ma(t)}else na(!0),se(1,null)},[]);var ya=function(){$(re+1),se(re+1,_,null,null,!0)},ma=function(s){sa(s.apps_mode),(0,h.f1)("SET",s.apps_mode,JSON.parse((0,h.f1)("GET").searchType)),se(1,_,s.apps_mode)},Ca=function(s){B(s.target.value),se(1,_,ta,s.target.value)},Ea=function(){Q(!1)},Ta=function(){var t=M()(c()().mark(function s(){var f,k;return c()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return f={name:ie,description:be,app_id:p.app_id,mode:p.mode,icon:p.id?JSON.stringify(p.id):p.icon,icon_background:""},E.next=3,(0,oe.bs)(f);case 3:k=E.sent,k.code==0&&(Q(!1),se(1,_,null,null,null,re*27));case 5:case"end":return E.stop()}},s)}));return function(){return t.apply(this,arguments)}}(),Da=function(s,f){_e(f),Q(!0),le(s.name),Oe(s.description),Se(s)},Na=function(s){le(s.target.value)},ba=function(s){Oe(s.target.value)},fa=function(s){event.stopPropagation(),(0,h.Go)("SET",u()(u()({},s),{},{type:(0,h.f1)("GET").searchType}));var f=ca.filter(function(k){return k.apps_mode===s.mode});(s.mode===1||s.mode===4)&&(0,h.f1)("GET").searchType==!0?J.history.push("/".concat(f[0].readOnlypath,"?app_id=").concat(s.app_id?s.app_id:s.apps_id,"&type=").concat((0,h.f1)("GET").searchType)):J.history.push("/".concat(f[0].path,"?app_id=").concat(s.app_id?s.app_id:s.apps_id,"&type=").concat((0,h.f1)("GET").searchType))},Oa=function(s,f){_e(f),N.Z.confirm({title:n.formatMessage({id:"creation.modal.returnconfirm"}),content:n.formatMessage({id:"creation.modal.deldescribe"}),onOk:function(){var k=M()(c()().mark(function E(){var ne;return c()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,(0,oe.LK)(s);case 2:ne=X.sent,ne&&ne.code==0?(d.ZP.success(n.formatMessage({id:"creation.modal.delsuccess"})),se(1,null,null,null,null,re*27)):d.ZP.error(n.formatMessage({id:"creation.modal.delerror"}));case 4:case"end":return X.stop()}},E)}));function l(){return k.apply(this,arguments)}return l}(),onCancel:function(){}})},Sa=function(s){var f=JSON.parse(s.target.value);ce(f),(0,h.f1)("SET",null,f),se(1,f)},wa=function(){var s=ee.filter(function(f){return f.apps_mode==(0,h.f1)("GET").optionsModalId});qe(!0),Pe(s[0].apps_mode!==6?s[0]:{name:"Agent",path:"Agents",icon:"/icons/creation/agent.svg",pitchicon:"/icons/creation/pitchagent.svg",signicon:"/icons/creation/pitchagent.svg",apps_mode:1})},Pa=(0,ue.Z)(function(t){return t.setRunId}),ka=(0,ue.Z)(function(t){return t.setRunPanelLogRecord}),Za=(0,ue.Z)(function(t){return t.setDealtWithData}),Ia=function(s){Pa(s.app_id)};return(0,e.jsxs)("div",{className:" pb-[10px] flex flex-col",style:{height:"calc(-60px + 100vh)",width:"100%",margin:"0 auto"},children:[(0,e.jsxs)("div",{className:"flex px-[30px] py-[20px] mx-[8px] items-center justify-between",children:[(0,e.jsx)("div",{className:"flex items-center",children:$e?ee.map(function(t,s){return(0,e.jsxs)("div",{onClick:function(){ma(t)},className:"flex justify-center items-center h-8 rounded-lg mr-4 cursor-pointer px-[10px]",style:(0,h.f1)("GET").optionsModalId==t.apps_mode?{color:"#1B64F3",backgroundColor:"#ffffff"}:{color:"#9097a1"},children:[(0,e.jsx)("div",{className:"mr-2",children:(0,e.jsx)("img",{src:(0,h.f1)("GET").optionsModalId==t.apps_mode?t.pitchicon:t.unselected,alt:""})}),(0,e.jsx)("div",{children:t.name})]})}):""}),(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("div",{className:"min-w-40 flex justify-end mr-5",children:(0,e.jsxs)(P.ZP.Group,{onChange:Sa,defaultValue:JSON.stringify((0,h.f1)("GET").searchType),children:[(0,e.jsx)(P.ZP.Button,{value:"true",children:n.formatMessage({id:"creation.team"})}),(0,e.jsx)(P.ZP.Button,{value:"false",children:n.formatMessage({id:"creation.individual"})})]})}),(0,e.jsx)(D.Z,{style:{width:300},prefix:(0,e.jsx)(F.Z,{}),placeholder:n.formatMessage({id:"creation.placeholder.searchname"}),variant:"filled",onChange:Ca})]})]}),(0,e.jsx)(b.Z,{spinning:_a,size:"large",className:"mt-[112px]",children:(0,e.jsx)("div",{id:"Creation",style:{overflowY:"auto",height:"calc(100vh - 128px)"},children:w&&w.list&&w.list.length>0?(0,e.jsx)(T.Z,{dataLength:w.list.length,elid:"Creation",ishasMore:va,upSlide:ya,isFooter:!0,children:(0,e.jsxs)(v.Z,{gutter:[16,8],wrap:!0,style:{margin:0},className:"px-[30px]",children:[(0,e.jsx)(g.Z,{sm:24,md:12,lg:12,xl:8,xxl:6,children:(0,e.jsx)(We,{optionsModalId:(0,h.f1)("GET").optionsModalId})}),w&&w.list&&w.list.length?w.list.map(function(t,s){var f,k;return(0,e.jsx)(g.Z,{className:"gutter-row",sm:24,md:12,lg:12,xl:8,xxl:6,children:(0,e.jsx)(H.Z,{className:" cursor-pointer transition shadow-lg shadow-gray-100 hover:shadow-gray-200",style:{marginTop:10,minWidth:300},hoverable:!1,styles:{body:{padding:"20px"}},children:(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{onClick:function(){return fa(t)},children:(0,e.jsx)(H.Z.Meta,{title:[(0,e.jsxs)("div",{className:"flex w-full",children:[(0,e.jsx)("div",{className:"mr-[17px] shrink-0",children:(0,e.jsx)(ke.Z,{Image:(0,h.s9)("single",t.icon),icon:(0,h.f1)("GET").optionsModalId===6?(f=ee.filter(function(l){return l.apps_mode===t.mode})[0])===null||f===void 0?void 0:f.signicon:null})}),(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[" ",(0,e.jsx)("div",{style:{maxWidth:"160px"},className:"text-sm text-[#213044] font-medium truncate",children:(0,e.jsx)(Te,{ellipsis:{tooltip:t.name},children:t.name})}),(0,e.jsxs)("div",{className:" leading-6 flex items-center justify-end text-xs font-normal text-[#999999]",children:[(0,e.jsxs)("div",{children:[n.formatMessage({id:"creation.numberofcitation"}),":"," "]}),(0,e.jsxs)("div",{className:"text-[#1B64F3] ml-2",children:[" ",t.execution_times?t.execution_times:0]})]})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between w-full text-xs font-normal text-[#999999]",children:[(0,e.jsx)("div",{className:"text-xs font-normal text-[#999999] mt-[7px]",children:ca.map(function(l,E){return l.apps_mode===t.mode?l.name:null})}),(0,e.jsxs)("div",{className:" flex items-center justify-end mt-[7px]",children:[(0,e.jsx)("div",{className:"max-w-[56px] mr-2 ",children:(0,e.jsx)(Te,{ellipsis:{tooltip:t.published_creator},className:"text-base",children:(0,e.jsx)("div",{className:" text-[#999999] text-xs",children:t.published_creator})})}),(0,e.jsx)("div",{children:t.published_time?(0,e.jsxs)("span",{children:[Ze()(t.published_time).format("YYYY-MM-DD HH:mm:ss")," ",n.formatMessage({id:"creation.publish"})]}):t.mode!==3?(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:"/icons/unpublish.svg",alt:"",className:"mr-[5px]"}),n.formatMessage({id:"creation.unpublish"})]}):null})]})]})]})]})],description:(0,e.jsx)("div",{style:{height:70,margin:"20px 0 20px 0"},children:(0,e.jsx)(De,{ellipsis:{rows:4,tooltip:t.description},children:(0,e.jsx)("div",{style:{color:"#999999"},children:t.description})})})})}),(0,e.jsxs)("div",{className:"flex justify-between",children:[(0,e.jsx)("div",{className:"flex items-center justify-start",style:{height:"24px"},children:t.list&&t.list.length?(0,e.jsx)(o.Z,{placement:"bottomLeft",content:(0,e.jsx)("div",{className:" overflow-auto",children:t.list.map(function(l,E){return(0,e.jsxs)("div",{className:"w-80 flex items-center justify-start p-1.5 rounded-md  cursor-pointer hover:bg-[#fafafa]",onClick:function(){return fa(l)},children:[(0,e.jsx)("div",{className:"mr-3.5",children:(0,e.jsx)("div",{className:"w-[36px] h-[36px] bg-[#EDF3FE] rounded-lg mr-1.5 flex items-center justify-center ",children:(0,e.jsx)("img",{src:(0,h.s9)("single",l.icon),alt:""})})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-xs font-normal text-[#213044]",children:l.name}),(0,e.jsx)("div",{className:"text-xs font-normal text-[#666]",children:(l==null?void 0:l.mode)==1?n.formatMessage({id:"workflow.agent"}):(l==null?void 0:l.mode)==2?n.formatMessage({id:"component.menu.workflow"}):(l==null?void 0:l.mode)==3?n.formatMessage({id:"component.menu.knowledgeBase"}):n.formatMessage({id:"workflow.skill"})})]})]},E)})}),children:(0,e.jsxs)("div",{className:"flex items-center justify-around text-xs font-normal",children:[n.formatMessage({id:"creation.relevancy.app"})," ",":",t.list.slice(0,4).map(function(l,E){return(0,e.jsx)("div",{children:(0,e.jsx)("div",{className:"w-8 h-8 bg-[#EDF3FE] rounded-lg ml-1.5 flex items-center justify-center ",children:(0,e.jsx)("img",{src:(0,h.s9)("single",l.icon),alt:""})})},E)}),t.list.length>4?(0,e.jsx)("div",{className:"w-8 h-8 bg-[#EDF3FE] rounded-lg ml-1.5 flex items-center justify-center ",children:(0,e.jsx)("img",{src:"/icons/more.svg",alt:""})}):null]})}):null}),(t==null?void 0:t.mode)===2?(0,e.jsx)("div",{className:"flex-1 flex justify-end items-center",children:(t==null?void 0:t.publish_status)==1?(0,e.jsx)("img",{onClick:function(){return Ia(t)},src:"/icons/operation_icon.svg",className:"mr-2"}):(0,e.jsx)("img",{src:"/icons/operation_disable_icon.svg",className:"mr-2"})}):null,(0,e.jsx)("div",{children:JSON.parse((k=(0,h.f1)("GET"))===null||k===void 0?void 0:k.searchType)?null:(0,e.jsx)(o.Z,{placement:"rightTop",open:Ma==s,onOpenChange:function(E){_e(-1)},content:(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:(0,e.jsxs)(q.ZP,{type:"link",className:"text-[#213044]",onClick:function(){Da(t,-1)},children:[(0,e.jsx)(U.Z,{}),n.formatMessage({id:"creation.redact"})]})}),(0,e.jsx)("div",{children:(0,e.jsxs)(q.ZP,{type:"link",className:"text-[#E12222]",onClick:function(){return Oa(t,-1)},children:[(0,e.jsx)(W.Z,{}),n.formatMessage({id:"creation.delete"})]})})]}),children:(0,e.jsx)("div",{onMouseEnter:function(){_e(s)},className:"w-[26px] h-[26px] flex items-center justify-center",children:(0,e.jsx)(K.Z,{onClick:function(){_e(s)}},"setting")})})})]})]})})},s)}):null]})}):w&&w.list&&w.list.length==0?(0,e.jsxs)("div",{className:"w-full flex items-center flex-wrap justify-center mt-48",children:[(0,e.jsx)("div",{className:"w-full flex items-center justify-center mb-2.5",children:(0,e.jsx)("img",{src:"/icons/default.svg",alt:""})}),te&&te!==""?(0,e.jsxs)("div",{children:["\u201C",te,"\u201D"]}):(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"w-full text-center mb-3 text-[#666] text-sm",children:[n.formatMessage({id:"creation.margindescribe"})," ~"]}),(0,e.jsxs)("div",{className:"w-full text-center",children:[" ",(0,e.jsx)(q.ZP,{color:"primary",onClick:function(){wa()},children:n.formatMessage({id:"creation.addnewapp"})})," "]})]})]}):null})}),(0,e.jsxs)(N.Z,{title:"",open:ze,okText:n.formatMessage({id:"creation.conserve"}),onOk:Ta,onCancel:Ea,children:[(0,e.jsxs)("div",{className:"mb-[30px]",children:[(0,e.jsxs)("div",{className:"mb-[15px]",children:[(p==null?void 0:p.mode)==1?n.formatMessage({id:"creation.agent"}):(p==null?void 0:p.mode)==2?n.formatMessage({id:"creation.workflow"}):(p==null?void 0:p.mode)==3?n.formatMessage({id:"creation.repository"}):n.formatMessage({id:"creation.skill"}),n.formatMessage({id:"creation.appiconname"})]}),(0,e.jsxs)("div",{className:"flex items-center justify-around",children:[(0,e.jsx)(Ge.Z,{CardData:p,setCardData:Se}),(0,e.jsx)(D.Z,{showCount:!0,maxLength:20,placeholder:n.formatMessage({id:"creation.placeholder.appname"}),onChange:Na,value:ie})]})]}),(0,e.jsxs)("div",{className:"mb-[30px]",children:[(0,e.jsxs)("div",{className:"mb-[15px]",children:[(p==null?void 0:p.mode)==1?n.formatMessage({id:"creation.agent"}):(p==null?void 0:p.mode)==2?n.formatMessage({id:"creation.workflow"}):(p==null?void 0:p.mode)==3?n.formatMessage({id:"creation.repository"}):n.formatMessage({id:"creation.skill"}),n.formatMessage({id:"creation.appdescribe"})]}),(0,e.jsx)(I,{showCount:!0,maxLength:100,rows:4,placeholder:n.formatMessage({id:"creation.placeholder.appdescribe"}),onChange:ba,value:be})]})]}),(0,e.jsx)(ye.Z,{setIsModalOpen:qe,isModalOpen:Xe,ModalType:!0,CreationType:ra,setcreationType:Pe,transformData:ee.filter(function(t){return t.apps_mode!==6})})]})},V=S}}]);
