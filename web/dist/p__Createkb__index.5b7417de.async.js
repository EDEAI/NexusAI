"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[734],{82826:function(_e,ve,n){n.d(ve,{Z:function(){return f}});var ie=n(1413),u=n(67294),be={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},ae=be,C=n(91146),G=function(h,b){return u.createElement(C.Z,(0,ie.Z)((0,ie.Z)({},h),{},{ref:b,icon:ae}))},ye=u.forwardRef(G),f=ye},83510:function(_e,ve,n){n.d(ve,{LK:function(){return i},bs:function(){return I},go:function(){return t},uy:function(){return g}});var ie=n(15009),u=n.n(ie),be=n(99289),ae=n.n(be),C=n(47520),G="/v1/apps/apps_list",ye="/v1/agent/agent_delete/",f="/v1/workflow/workflow_app_delete/",ke="/v1/vector/delete_dataset/",h="/v1/skill/delete_skill_by_app_id/",b="/v1/apps/apps_create",a="/v1/apps/app_update/",t=function(){var se=ae()(u()().mark(function A(y){var R;return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.ZP)("".concat(G),{method:"GET",data:y});case 2:return R=e.sent,e.abrupt("return",R);case 4:case"end":return e.stop()}},A)}));return function(y){return se.apply(this,arguments)}}(),i=function(){var se=ae()(u()().mark(function A(y){var R;return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(y),e.next=3,y.mode;case 3:if(e.t0=e.sent,e.t0!=1){e.next=8;break}e.t1=(0,C.ZP)("".concat(ye).concat(y.app_id),{method:"DELETE"}),e.next=9;break;case 8:e.t1=y.mode==2?(0,C.ZP)("".concat(f).concat(y.app_id),{method:"DELETE"}):y.mode==3?(0,C.ZP)("".concat(ke).concat(y.app_id),{method:"DELETE"}):(0,C.ZP)("".concat(h).concat(y.app_id),{method:"DELETE",data:{is_soft:1}});case 9:return R=e.t1,e.abrupt("return",R);case 11:case"end":return e.stop()}},A)}));return function(y){return se.apply(this,arguments)}}(),g=function(){var se=ae()(u()().mark(function A(y){var R;return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.ZP)("".concat(b),{method:"POST",data:y});case 2:return R=e.sent,e.abrupt("return",R);case 4:case"end":return e.stop()}},A)}));return function(y){return se.apply(this,arguments)}}(),I=function(){var se=ae()(u()().mark(function A(y){var R;return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.ZP)("".concat(a).concat(y.app_id),{method:"PUT",data:y});case 2:return R=e.sent,e.abrupt("return",R);case 4:case"end":return e.stop()}},A)}));return function(y){return se.apply(this,arguments)}}()},77638:function(_e,ve,n){n.r(ve),n.d(ve,{default:function(){return At}});var ie=n(5574),u=n.n(ie),be=n(32332),ae=n(82826),C=n(35312),G=n(28036),ye=n(50136),f=n(67294),ke=n(97857),h=n.n(ke),b=n(15009),a=n.n(b),t=n(99289),i=n.n(t),g=n(83065),I=n(2453),se=n(71230),A=n(15746),y=n(4393),R=n(26915),xe=n(86842),e=n(85893),Ne=1,Fe=function(c){var r=c.createkbInfo,s=(0,C.useIntl)(),l=[{title:s.formatMessage({id:"createkb.text",defaultMessage:""}),dataIndex:"input",ellipsis:!0},{title:s.formatMessage({id:"createkb.recallParagraph",defaultMessage:""}),dataIndex:"document_segment_num",width:"15%"},{title:s.formatMessage({id:"createkb.time",defaultMessage:""}),dataIndex:"created_time",width:"25%"}],o=(0,f.useState)([]),T=u()(o,2),N=T[0],w=T[1],q=(0,f.useState)(null),oe=u()(q,2),Y=oe[0],M=oe[1],K=(0,f.useState)(null),L=u()(K,2),j=L[0],ce=L[1],U=(0,f.useState)([]),ue=u()(U,2),me=ue[0],ne=ue[1],fe=(0,f.useState)(!1),pe=u()(fe,2),W=pe[0],V=pe[1],O=(0,f.useState)(""),v=u()(O,2),$=v[0],S=v[1],ee=(0,f.useRef)(null),je=(0,f.useState)(0),J=u()(je,2),he=J[0],Me=J[1],Ce=(0,f.useState)(1),te=u()(Ce,2),z=te[0],re=te[1],Q=function(){var D=i()(a()().mark(function k(){var _;return a()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if($==""){m.next=11;break}return V(!0),ne([]),m.next=5,(0,g.I9)({user_input:$},r.app_id);case 5:_=m.sent,_.code==0?(_.data.data.length<=0&&I.ZP.error(s.formatMessage({id:"createkb.saveSuccess",defaultMessage:""})),ne(_.data.data)):I.ZP.error(_.detail),V(!1),Ee(),m.next=14;break;case 11:V(!1),ne([]),I.ZP.error(s.formatMessage({id:"createkb.testInput",defaultMessage:""}));case 14:case"end":return m.stop()}},k)}));return function(){return D.apply(this,arguments)}}(),X=function(){var D=i()(a()().mark(function k(_){return a()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:S(_.target.value);case 1:case"end":return m.stop()}},k)}));return function(_){return D.apply(this,arguments)}}(),Te=function(k){Ne=k,Ee()},F=function(){var D=i()(a()().mark(function k(_){var P;return a()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return V(!0),p.next=3,(0,g.gk)(_.id);case 3:P=p.sent,P.code==0?ne(P.data.data):I.ZP.error(P.detail),V(!1),S(_.input);case 7:case"end":return p.stop()}},k)}));return function(_){return D.apply(this,arguments)}}(),Ee=function(){var D=i()(a()().mark(function k(){var _,P,m=arguments;return a()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return _=m.length>0&&m[0]!==void 0?m[0]:Ne,x.next=3,(0,g.yC)({page:_},r.app_id);case 3:P=x.sent,P.code==0&&(w(P.data.data),ce(P.data));case 5:case"end":return x.stop()}},k)}));return function(){return D.apply(this,arguments)}}(),$e=function(){var D=i()(a()().mark(function k(){var _,P,m,p,x=arguments;return a()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return _=x.length>0&&x[0]!==void 0?x[0]:1,P={app_id:r.app_id},E.next=4,(0,g.SH)(P);case 4:m=E.sent,m.code==0&&(p=m.data.data.map(function(Z,le){return h()(h()({},Z),{},{statusText:Z.status==1?s.formatMessage({id:"createkb.normal",defaultMessage:""}):Z.status==2?s.formatMessage({id:"createkb.disabled",defaultMessage:""}):s.formatMessage({id:"createkb.deleted",defaultMessage:""})})}),console.log(m),M(m.data));case 6:case"end":return E.stop()}},k)}));return function(){return D.apply(this,arguments)}}();return(0,f.useEffect)(function(){Ee(),$e(),setTimeout(function(){ee.current&&Me(ee.current.offsetHeight-55-82)},200),r.app_id&&re(r.type?2:1)},[]),(0,e.jsx)(e.Fragment,{children:j!=null?(0,e.jsxs)("div",{className:"h-full pb-[30px]",children:[(0,e.jsxs)("div",{className:"w-full py-[30px] flex items-center ",children:[(0,e.jsx)("img",{src:"/icons/flag.svg",className:"w-4 h-4"}),(0,e.jsx)("span",{className:"ml-[10px] text-[#213044] text-[18px] leading-[25px] font-medium",children:z==2?(0,C.getLocale)()=="zh-CN"?Y?Y.dataset_detail.nickname+s.formatMessage({id:"createkb.knowledge.base.of"}):s.formatMessage({id:"createkb.knowledge.base.of"}):Y?s.formatMessage({id:"createkb.knowledge.base.of"})+Y.dataset_detail.nickname:s.formatMessage({id:"createkb.knowledge.base.of"}):z==1?s.formatMessage({id:"createkb.editKB"}):s.formatMessage({id:"createkb.createKnowledgeBase"})})]}),(0,e.jsx)("div",{className:"flex w-full",style:{height:"calc(100% - 84px)"},children:(0,e.jsxs)(se.Z,{gutter:0,style:{marginRight:"0px",marginLeft:"0px"},children:[(0,e.jsx)(A.Z,{className:"pb-[30px] h-2/4",span:24,children:(0,e.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,e.jsx)("div",{className:"mb-5 text-[#555555] text-sm font-medium",children:s.formatMessage({id:"createkb.recallTest",defaultMessage:""})}),(0,e.jsxs)("div",{className:"w-full px-[15px] py-[15px] border-[#EEEEEE] rounded-lg bg-[#F7F7F7] flex-1 min-h-0",children:[(0,e.jsx)("div",{className:" overflow-y-auto",style:{height:"calc(100% - 65px)"},children:(0,e.jsx)(se.Z,{gutter:[15,15],className:"w-full",children:me.map(function(D,k){var _=(D.score*1).toFixed(4),P=D.reranking_score>0?(D.reranking_score*1).toFixed(4):0;return(0,e.jsx)(A.Z,{className:"gutter-row w-full",span:24,children:(0,e.jsx)(y.Z,{activeTabKey:D.id,size:"small",children:(0,e.jsxs)("div",{className:"w-full bg-white  font-normal text-[12px] rounded-lg",children:[(0,e.jsx)("div",{className:"break-all text-[#213044] leading-[17px]",children:D.content}),(0,e.jsxs)("div",{className:"text-[#BBBBBB] mt-[15px] leading-[17px]",children:[" ",s.formatMessage({id:"createkb.source",defaultMessage:""}),"\uFF1A ",D.name]}),(0,e.jsxs)("div",{className:"text-[#BBBBBB] mt-[15px]  leading-[17px]",children:[" ",s.formatMessage({id:"createkb.matchScore"}),"\uFF1A ",_]}),P==0?"":(0,e.jsxs)("div",{className:"text-[#BBBBBB] mt-[15px] leading-[17px]",children:[" ",s.formatMessage({id:"createkb.sortScore"}),"\uFF1A ",P]})]})})},D.id)})})}),(0,e.jsxs)("div",{className:"bg-white flex items-center rounded-lg mt-[15px] p-[10px]",children:[(0,e.jsx)(R.Z,{className:" custom-textarea",onChange:X,variant:"borderless",placeholder:s.formatMessage({id:"createkb.briefText"}),maxLength:200,showCount:!0,value:$,onPressEnter:Q}),(0,e.jsx)("div",{className:"flex justify-end",children:(0,e.jsx)(G.ZP,{type:"primary",loading:W,onClick:Q,style:{background:"rgba(27,100,243,.1)"},className:"w-[30px] h-[30px] rounded-md flex justify-center items-center p-0",children:W?"":(0,e.jsx)("img",{src:"/icons/fs.svg",className:"w-4 h-4"})})})]})]})]})}),(0,e.jsx)("div",{className:"h-2/4",ref:ee,children:(0,e.jsx)(A.Z,{span:24,children:(0,e.jsxs)("div",{className:"w-full h-full",children:[(0,e.jsx)("div",{className:" mb-[20px] text-[#555555] text-sm font-medium",children:s.formatMessage({id:"createkb.recentQuery"})}),(0,e.jsx)("div",{className:"w-[900px] rounded-md border-[#eeeeee] border rounded-lg",children:(0,e.jsx)(xe.Z,{rowKey:"id",columns:l,dataSource:N,locale:{emptyText:(0,e.jsx)("div",{className:"text-[#666666] text-[14px] leading-[20px] font-normal",children:(0,e.jsx)("span",{children:s.formatMessage({id:"createkb.no.data.available"})})})},pagination:{pageSize:j.paging_information.page_size,total:j.paging_information.total_count,onChange:Te,style:{margin:"0px",marginTop:"10px"},hideOnSinglePage:!0},onRow:function(k,_){return{onClick:function(){return F(k)},style:{cursor:"pointer"}}},scroll:he!=0?{y:he}:{}})})]})})})]})})]}):""})},et=Fe,tt=n(83510),at=n(40741),De=n(72269),st=n(74330),nt=function(c){var r=c.createkbInfo,s=c.fun,l=(0,C.useIntl)(),o=(0,f.useState)(null),T=u()(o,2),N=T[0],w=T[1],q=(0,f.useState)(!1),oe=u()(q,2),Y=oe[0],M=oe[1],K=(0,f.useState)(1),L=u()(K,2),j=L[0],ce=L[1],U=(0,f.useState)(1),ue=u()(U,2),me=ue[0],ne=ue[1],fe=(0,f.useState)(null),pe=u()(fe,2),W=pe[0],V=pe[1],O=(0,f.useState)(1),v=u()(O,2),$=v[0],S=v[1],ee=function(z){r.type||ce(z)},je=function(z){ne(z==!0?1:0)},J=function(){s({type:"return"})},he=function(){var te=i()(a()().mark(function z(){var re,Q,X;return a()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(M(!0),r.app_id){F.next=11;break}return F.next=4,(0,tt.uy)((0,be.Go)("GET"));case 4:if(re=F.sent,re.code!=0){F.next=9;break}s({type:"set",data:re.data.app_id}),F.next=11;break;case 9:return I.ZP.error(l.formatMessage({id:"createkb.creationFailed",defaultMessage:""})),F.abrupt("return");case 11:return Q={app_id:r.app_id,name:N.name,description:N.description,public:me,mode:j},F.next=14,(0,g._W)(Q);case 14:X=F.sent,X.code==0?(I.ZP.success(l.formatMessage({id:"createkb.setupSuccess",defaultMessage:""})),setTimeout(function(){s({type:"next",data:"2"}),M(!1)},1e3)):(I.ZP.error(l.formatMessage({id:"createkb.settingFailed",defaultMessage:""})),M(!1));case 16:case"end":return F.stop()}},z)}));return function(){return te.apply(this,arguments)}}(),Me=function(){var te=i()(a()().mark(function z(){var re,Q,X=arguments;return a()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return re=X.length>0&&X[0]!==void 0?X[0]:1,F.next=3,(0,g.SH)({app_id:r.app_id,page:re,page_size:10,name:""});case 3:Q=F.sent,Q.code==0&&(ne(Q.data.dataset_detail.is_public),ce(Q.data.dataset_detail.mode),w({name:Q.data.dataset_detail.name,description:Q.data.dataset_detail.description,nickname:Q.data.dataset_detail.nickname}));case 5:case"end":return F.stop()}},z)}));return function(){return te.apply(this,arguments)}}(),Ce=function(){var te=i()(a()().mark(function z(){var re;return a()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,(0,g.Ue)();case 2:re=X.sent,re.code==0&&V(re.data.data);case 4:case"end":return X.stop()}},z)}));return function(){return te.apply(this,arguments)}}();return(0,f.useEffect)(function(){r.app_id?(S(r.type?2:1),Me()):(w({name:r.name,description:r.description}),S(3)),Ce()},[]),(0,e.jsx)(e.Fragment,{children:N!=null?(0,e.jsxs)("div",{className:"bg-white h-full flex flex-col w-full relative",children:[(0,e.jsxs)("div",{className:"w-full py-[30px] flex items-center ",children:[(0,e.jsx)("img",{src:"/icons/flag.svg",className:"w-4 h-4"}),(0,e.jsx)("span",{className:"ml-[10px] text-[#213044] text-[18px] leading-[25px] font-medium",children:$==2?(0,C.getLocale)()=="zh-CN"?N.nickname+l.formatMessage({id:"createkb.knowledge.base.of"}):l.formatMessage({id:"createkb.knowledge.base.of"})+N.nickname:$==1?l.formatMessage({id:"createkb.editKB",defaultMessage:""}):l.formatMessage({id:"createkb.createKnowledgeBase",defaultMessage:""})})]}),(0,e.jsx)("div",{className:" pb-[30px] bg-white flex-1",children:(0,e.jsx)(se.Z,{className:"h-full",children:(0,e.jsxs)(A.Z,{span:24,className:"flex flex-col justify-between",children:[(0,e.jsx)("div",{className:"text-[#333333] text-[16px] leading-[22px] font-medium",children:l.formatMessage({id:"createkb.settings",defaultMessage:""})}),(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsxs)(at.Z,{layout:"vertical",children:[(0,e.jsxs)("div",{className:"pt-[30px] flex items-start text-[12px]",children:[(0,e.jsx)("span",{className:"mr-[2px] text-[#E80000] leading-[17px] font-medium",children:"*"}),(0,e.jsx)("span",{className:"text-[#555555] font-medium",children:l.formatMessage({id:"createkb.name",defaultMessage:""})})]}),(0,e.jsx)("div",{className:"w-full mt-[15px] p-[15px] bg-[#F7F7F7] border border-[#EEEEEE] rounded-lg text-[12px] text-[#213044] font-normal leading-[17px]",children:N.name}),(0,e.jsxs)("div",{className:"pt-[30px] flex items-start text-[12px]",children:[(0,e.jsx)("span",{className:"mr-[2px] text-[#E80000] leading-[17px] font-medium",children:"*"}),(0,e.jsx)("span",{className:"text-[#555555] font-medium",children:l.formatMessage({id:"createkb.desc",defaultMessage:""})})]}),(0,e.jsx)("div",{className:"w-full mt-[15px] p-[15px] bg-[#F7F7F7] border border-[#EEEEEE] rounded-lg text-[12px] text-[#213044] font-normal leading-[17px]",children:N.description}),(0,e.jsxs)("div",{className:"pt-[30px] flex items-start text-[12px]",children:[(0,e.jsx)("span",{className:"mr-[2px] text-[#E80000] leading-[17px] font-medium",children:"*"}),(0,e.jsx)("span",{className:"text-[#555555] font-medium",children:l.formatMessage({id:"createkb.teamVisible",defaultMessage:""})})]}),(0,e.jsx)("div",{className:"w-full mt-[15px]",children:(0,e.jsx)(De.Z,{onChange:je,checked:me===1,size:"small",disabled:r.type})}),(0,e.jsxs)("div",{className:"pt-[30px] flex items-start text-[12px]",children:[(0,e.jsx)("span",{className:"mr-[2px] text-[#E80000] leading-[17px] font-medium",children:"*"}),(0,e.jsx)("span",{className:"text-[#555555] font-medium",children:l.formatMessage({id:"createkb.modelSelect"})})]}),(0,e.jsx)("div",{className:"flex items-center mt-[15px]",children:(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)(y.Z,{onClick:function(){ee(1)},size:"small",className:j==1?"bg-[#FFFFFF]":"bg-[#F7F7F7]",style:{minWidth:"440px",cursor:r.type?"not-allowed":"pointer",borderColor:j==1?"#1B64F3":""},styles:{body:{padding:"15px"}},children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("p",{className:"pb-[15px] border-b border-[#EEEEEE] flex items-center",children:[(0,e.jsx)("img",{src:j==1?"/icons/online_select.svg":"/icons/online.svg",className:"w-4 h-4 "}),(0,e.jsx)("span",{className:j==1?"text-[#1B64F3] text-xs ml-[10px]":"text-[#213044] text-xs ml-[10px]",children:l.formatMessage({id:"createkb.apiEmbed"})})]}),(0,e.jsxs)("p",{className:"text-[#999999] mb-[10px]",children:[l.formatMessage({id:"createkb.vendor"}),": ",W==null?void 0:W.online.suppliers_name]}),(0,e.jsxs)("p",{className:"mb-0 text-[#999999]",children:[l.formatMessage({id:"createkb.modelName"}),": ",W==null?void 0:W.online.name]})]})}),(0,e.jsx)(y.Z,{onClick:function(){ee(2)},size:"small",className:j==2?"bg-[#FFFFFF] ml-5":"bg-[#F7F7F7] ml-5",style:{minWidth:"440px",cursor:r.type?"not-allowed":"pointer",borderColor:j==2?"#1B64F3":""},styles:{body:{padding:"15px"}},children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("p",{className:"pb-[15px] border-b border-[#EEEEEE] flex items-center",children:[(0,e.jsx)("img",{src:j==2?"/icons/local_select.svg":"/icons/local.svg",className:"w-4 h-4 "}),(0,e.jsx)("span",{className:j==2?"text-[#1B64F3] text-xs ml-[10px]":"text-[#213044] text-xs ml-[10px]",children:l.formatMessage({id:"createkb.localEmbed"})})]}),(0,e.jsxs)("p",{className:"text-[#999999] mb-[10px]",children:[l.formatMessage({id:"createkb.vendor"}),"\uFF1A -"]}),(0,e.jsxs)("p",{className:"mb-0 text-[#999999]",children:[l.formatMessage({id:"createkb.modelName"}),": ",W==null?void 0:W.local.name]})]})})]})})]}),(0,e.jsxs)("div",{className:"flex items-center mt-[60px]",children:[(0,e.jsx)(G.ZP,{type:"primary",onClick:he,className:"py-[10px] h-[40px] px-[15px] bg-[#1B64F3] text-white text-[14px] leading-[20px] font-medium",disabled:r.type,style:{cursor:r.type?"not-allowed":""},children:l.formatMessage({id:"createkb.save.and.upload.document"})}),(0,e.jsx)(G.ZP,{type:"primary",onClick:J,className:"ml-[20px] py-[10px] h-[40px] px-[15px] bg-[#ffffff] text-[#213044] text-[14px] leading-[20px] font-medium border border-[#979797]",children:l.formatMessage({id:"createkb.cancel"})})]})]})]})})}),Y?(0,e.jsx)("div",{className:" absolute w-full h-full t-0 l-0 z-10 flex justify-center items-center",children:(0,e.jsx)(st.Z,{size:"large"})}):""]}):""})},rt=nt,lt=n(19632),Pe=n.n(lt),Re=n(40110),it=n(17788),ot=n(66476),ct=ot.Z.Dragger,dt=function(c){var r=c.fun,s=c.createkbInfo,l=(0,C.useIntl)(),o={action:g.M$,headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},onChange:function(w){r(w)},beforeUpload:function(w){var q=w.size/1024/1024<15;return q||(I.ZP.error(l.formatMessage({id:"createkb.fileLimit",defaultMessage:"15M"})),!1)}},T=h()(h()({},o),{},{name:"file",multiple:!0,className:"h-[200px]",showUploadList:!1});return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ct,h()(h()({},T),{},{listType:"picture",className:"flex flex-col items-center justify-center custom-dragger mt-[15px]",accept:".txt,.md,.pdf,.html,.xlsx,.xls,.docx,.csv",disabled:s.type,children:(0,e.jsxs)("div",{className:"update p-[4px]",children:[(0,e.jsxs)("div",{className:"flex items-center w-full justify-center",children:[(0,e.jsx)("img",{src:"/icons/word.svg",className:"w-[42px] h-[42px] mx-3"}),(0,e.jsx)("img",{src:"/icons/txt.svg",className:"w-[42px] h-[42px] mx-3"}),(0,e.jsx)("img",{src:"/icons/pdf.svg",className:"w-[42px] h-[42px] mx-3"}),(0,e.jsx)("img",{src:"/icons/xlsx.svg",className:"w-[42px] h-[42px] mx-3"}),(0,e.jsx)("img",{src:"/icons/md.svg",className:"w-[42px] h-[42px] mx-3"})]}),(0,e.jsx)("div",{className:"mt-[10px] text-[#213044] text-sm",children:l.formatMessage({id:"createkb.dragOrClick",defaultMessage:"\uFF0C"})}),(0,e.jsx)("div",{className:"mt-[10px] text-[#999999] text-sm",children:l.formatMessage({id:"createkb.uploadLimit",defaultMessage:"10\uFF0C 15MB"})})]})}))})},ut=dt,ft=n(93967),Ue=n.n(ft),pt=n(98423),ze=n(98065),mt=n(53124),gt=n(83559),xt=n(83262);const He=["wrap","nowrap","wrap-reverse"],Ge=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],Ye=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],ht=(d,c)=>{const r=c.wrap===!0?"wrap":c.wrap;return{[`${d}-wrap-${r}`]:r&&He.includes(r)}},vt=(d,c)=>{const r={};return Ye.forEach(s=>{r[`${d}-align-${s}`]=c.align===s}),r[`${d}-align-stretch`]=!c.align&&!!c.vertical,r},bt=(d,c)=>{const r={};return Ge.forEach(s=>{r[`${d}-justify-${s}`]=c.justify===s}),r};function yt(d,c){return Ue()(Object.assign(Object.assign(Object.assign({},ht(d,c)),vt(d,c)),bt(d,c)))}var wt=yt;const jt=d=>{const{componentCls:c}=d;return{[c]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},kt=d=>{const{componentCls:c}=d;return{[c]:{"&-gap-small":{gap:d.flexGapSM},"&-gap-middle":{gap:d.flexGap},"&-gap-large":{gap:d.flexGapLG}}}},Nt=d=>{const{componentCls:c}=d,r={};return He.forEach(s=>{r[`${c}-wrap-${s}`]={flexWrap:s}}),r},St=d=>{const{componentCls:c}=d,r={};return Ye.forEach(s=>{r[`${c}-align-${s}`]={alignItems:s}}),r},Mt=d=>{const{componentCls:c}=d,r={};return Ge.forEach(s=>{r[`${c}-justify-${s}`]={justifyContent:s}}),r},Et=()=>({});var Ct=(0,gt.I$)("Flex",d=>{const{paddingXS:c,padding:r,paddingLG:s}=d,l=(0,xt.mergeToken)(d,{flexGapSM:c,flexGap:r,flexGapLG:s});return[jt(l),kt(l),Nt(l),St(l),Mt(l)]},Et,{resetStyle:!1}),Tt=function(d,c){var r={};for(var s in d)Object.prototype.hasOwnProperty.call(d,s)&&c.indexOf(s)<0&&(r[s]=d[s]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(d);l<s.length;l++)c.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(d,s[l])&&(r[s[l]]=d[s[l]]);return r},Lt=f.forwardRef((d,c)=>{const{prefixCls:r,rootClassName:s,className:l,style:o,flex:T,gap:N,children:w,vertical:q=!1,component:oe="div"}=d,Y=Tt(d,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:M,direction:K,getPrefixCls:L}=f.useContext(mt.E_),j=L("flex",r),[ce,U,ue]=Ct(j),me=q!=null?q:M==null?void 0:M.vertical,ne=Ue()(l,s,M==null?void 0:M.className,j,U,ue,wt(j,d),{[`${j}-rtl`]:K==="rtl",[`${j}-gap-${N}`]:(0,ze.n)(N),[`${j}-vertical`]:me}),fe=Object.assign(Object.assign({},M==null?void 0:M.style),o);return T&&(fe.flex=T),N&&!(0,ze.n)(N)&&(fe.gap=N),ce(f.createElement(oe,Object.assign({ref:c,className:ne,style:fe},(0,pt.Z)(Y,["justify","wrap","align"])),w))}),_t=n(34041),Be=n(78045),Ft=n(96074),Ke=n(2487),Dt=n(58533),Ie="0",Oe="hit_count asc",Ze=1,We="",Ve,Je,Pt=function(c){var r=c.item,s=c.fun,l=c.createkbInfo,o=(0,C.useIntl)(),T=[{title:o.formatMessage({id:"createkb.charLimit",defaultMessage:""})+"\uFF1A",value:""},{title:o.formatMessage({id:"createkb.avgChar",defaultMessage:""})+"\uFF1A",value:""},{title:o.formatMessage({id:"createkb.sectionNum",defaultMessage:""})+"\uFF1A",value:""},{title:o.formatMessage({id:"createkb.totalRecall",defaultMessage:""})+"\uFF1A",value:""},{title:o.formatMessage({id:"createkb.embedTime",defaultMessage:""})+"\uFF1A",value:""},{title:o.formatMessage({id:"createkb.embedCost",defaultMessage:""})+"\uFF1A",value:""}],N=(0,f.useState)(!1),w=u()(N,2),q=w[0],oe=w[1],Y=(0,f.useState)([]),M=u()(Y,2),K=M[0],L=M[1],j=(0,f.useState)(null),ce=u()(j,2),U=ce[0],ue=ce[1],me=function(){s("return")};function ne(){return T.map(function(O){return(0,e.jsx)("div",{className:"mr-[40px]",children:(0,e.jsxs)("div",{className:"flex items-center grow shrink-0",children:[(0,e.jsx)("div",{className:"text-[#666666] text-[12px] leading-[17px] font-normal",children:O.title}),(0,e.jsx)("div",{className:"text-[#213044] text-[12px] leading-[17px] font-medium",children:O.value})]})},"".concat(O.title))})}var fe=function(v){var $=v.target.value;clearTimeout(Ve),Ve=setTimeout(function(){L([]),We=$,V(1)},500)},pe=function(){Ze+=1,V(Ze)},W=function(){var O=i()(a()().mark(function v($,S){var ee;return a()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:$?ee=(0,g.Rc)(S.id):ee=(0,g.U4)(S.id);case 1:case"end":return J.stop()}},v)}));return function($,S){return O.apply(this,arguments)}}(),V=function(){var O=i()(a()().mark(function v(){var $,S,ee=arguments;return a()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return $=ee.length>0&&ee[0]!==void 0?ee[0]:1,Ze=$,J.next=4,(0,g.gD)({document_id:r.id,page:$,page_size:10,hit_count:Oe,content:We,status:Ie});case 4:S=J.sent,ue(S.data),U==null&&(T[0].value=S.data.seg_set.seg_Len,T[1].value=S.data.seg_set.seg_Avg,T[2].value=S.data.seg_set.seg_Num,T[3].value=S.data.seg_set.hit_Num,T[4].value=S.data.seg_set.Embedding_Time,T[5].value=S.data.seg_set.Embedding_Token,Je=ne()),L(function(he){return[].concat(Pe()(he),Pe()(S.data.data))});case 8:case"end":return J.stop()}},v)}));return function(){return O.apply(this,arguments)}}();return(0,f.useEffect)(function(){V()},[]),(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"py-[30px] bg-white overflow-hidden w-full h-full flex flex-col",children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"border-b  flex items-center pb-[30px]",children:[(0,e.jsx)("div",{className:"border-r mr-[10px] pr-[10px] cursor-pointer",onClick:me,children:(0,e.jsx)("img",{src:"/icons/return.svg",className:"w-4 h-4"})}),(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("img",{src:"/icons/textIcon.svg",className:"w-4 h-4"}),(0,e.jsx)("span",{className:"text-[#213044] leading-[25px] text-[18px] font-medium ml-[5px]",children:r.name})]})]}),(0,e.jsx)("div",{className:"pt-[20px] pb-[15px] text-[#555555]  text-[14px] leading-[20px] font-medium",children:o.formatMessage({id:"createkb.docParams",defaultMessage:""})}),(0,e.jsx)("div",{className:"w-full border border-[#EEEEEE] rounded-lg p-[15px] bg-[#F7F7F7]",children:(0,e.jsx)(Lt,{wrap:!0,gap:"middle",align:"center",children:Je})}),(0,e.jsxs)("div",{className:"pt-[20px] pb-[15px] text-[#555555] text-[14px] leading-[20px] font-medium",children:[o.formatMessage({id:"createkb.docPara",defaultMessage:""})," ",U!=null?U.paging_information.total_count:""]}),(0,e.jsxs)("div",{className:"w-full flex justify-between items-center",children:[(0,e.jsxs)("div",{className:"sticky-0 flex items-center",children:[(0,e.jsx)(_t.Z,{defaultValue:"".concat(Ie),style:{width:114,height:32,background:"#F7F7F7"},onSelect:function(v){Ie=v,L([]),V(1)},options:[{value:"0",label:o.formatMessage({id:"createkb.all",defaultMessage:""})},{value:"1",label:o.formatMessage({id:"createkb.enabled",defaultMessage:""})},{value:"2",label:o.formatMessage({id:"createkb.disabled",defaultMessage:""})}]}),(0,e.jsx)(R.Z,{size:"large",placeholder:o.formatMessage({id:"createkb.search",defaultMessage:""}),prefix:(0,e.jsx)(Re.Z,{className:"text-[#213044] opacity-30"}),onChange:fe,className:"w-[300px] text-sm h-8 ml-5"})]}),(0,e.jsx)("div",{className:"flex-1 justify-end flex items-center",children:(0,e.jsxs)("div",{className:"flex items-center text-[#555555] text-[14px] leading-[20px] font-normal",children:[(0,e.jsxs)("span",{children:[o.formatMessage({id:"createkb.recallSort"}),"\uFF1A"]}),(0,e.jsxs)(Be.ZP.Group,{defaultValue:Oe,onChange:function(v){Oe=v.target.value,L([]),V(1)},size:"small",children:[(0,e.jsx)(Be.ZP,{value:"hit_count asc",children:o.formatMessage({id:"createkb.highToLow"})}),(0,e.jsx)(Be.ZP,{value:"hit_count desc",children:o.formatMessage({id:"createkb.lowToHigh"})})]})]})})]})]}),U!=null?(0,e.jsx)("div",{className:"overflow-y-auto flex-1 mt-4",id:"lists",children:(0,e.jsx)(Dt.Z,{dataLength:K.length,next:pe,hasMore:K.length<U.paging_information.total_count,loader:!1,endMessage:K.length<=0?"":(0,e.jsx)(Ft.Z,{plain:!0,children:o.formatMessage({id:"createkb.bottom"})}),scrollableTarget:"lists",children:(0,e.jsx)(Ke.Z,{dataSource:K,split:!1,renderItem:function(v){return(0,e.jsx)(Ke.Z.Item,{style:{padding:"0px"},children:(0,e.jsxs)("div",{className:"w-full rounded-lg bg-[#F7F7F7] p-[15px] mb-[15px]",children:[(0,e.jsxs)("div",{className:"w-full flex items-center",children:[(0,e.jsxs)("div",{className:"py-1 rounded-md px-2 border border-[#D8D8D8] flex items-center justify-center text-[#213044] text-sm",children:["#",v.segnum<=9?"00"+v.segnum:v.segnum<=99?"0"+v.segnum:v.segnum]}),(0,e.jsxs)("div",{className:"flex items-center ml-8",children:[(0,e.jsx)("img",{src:"/icons/zishu.svg",className:"w-4 h-4"}),(0,e.jsx)("div",{className:"ml-[5px] text-[#213044] text-sm",children:v.word_count})]}),(0,e.jsxs)("div",{className:"flex items-center ml-8",children:[(0,e.jsx)("img",{src:"/icons/zh.svg",className:"w-4 h-4"}),(0,e.jsx)("div",{className:"ml-[5px] text-[#213044] text-sm",children:v.hit_count})]}),(0,e.jsx)("div",{className:"ml-8 ",children:(0,e.jsx)(De.Z,{defaultChecked:v.status!=2,onChange:function(S){return W(S,v)},disabled:l.type,size:"small"},v.id)})]}),(0,e.jsx)("div",{className:"pt-5",children:(0,e.jsx)("span",{className:"text-[#213044] text-sm",children:v.content})})]})},v.id)}})})}):""]})})},Bt=Pt,Se=1,Qe,Xe="",Ae=null,It=function(c){var r=c.fun,s=c.createkbInfo,l=it.Z.confirm,o=(0,C.useIntl)(),T=function(p,x,H,E,Z,le){return(0,e.jsx)("div",{className:"mt-[10px] border border-[#EEEEEE] rounded-lg",children:(0,e.jsx)(xe.Z,{columns:p,loading:x,dataSource:H,size:"middle",pagination:E,locale:{emptyText:(0,e.jsx)("div",{className:"text-[#666666] text-[14px] leading-[20px] font-normal",children:(0,e.jsx)("span",{children:o.formatMessage({id:"createkb.no.data.available",defaultMessage:""})})})},onRow:function(Le,B){return{onClick:function(){return Z(Le,B)},style:{cursor:"pointer"}}},onChange:le,rowKey:"id"})})},N=(0,f.useState)([]),w=u()(N,2),q=w[0],oe=w[1],Y=(0,f.useState)([]),M=u()(Y,2),K=M[0],L=M[1],j=(0,f.useState)(null),ce=u()(j,2),U=ce[0],ue=ce[1],me=(0,f.useState)(!0),ne=u()(me,2),fe=ne[0],pe=ne[1],W=(0,f.useState)(!0),V=u()(W,2),O=V[0],v=V[1],$=(0,f.useState)(null),S=u()($,2),ee=S[0],je=S[1],J=(0,f.useState)(1),he=u()(J,2),Me=he[0],Ce=he[1],te=function(){r({type:"next",data:"3"})},z=function(p){v(!0)},re=function(p){var x=Pe()(q);x[p]=!x[p],oe(x)},Q=function(){var m=i()(a()().mark(function p(x,H,E,Z){var le,de;return a()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(le=null,x){B.next=7;break}return B.next=4,(0,g.LV)(E.id);case 4:le=B.sent,B.next=10;break;case 7:return B.next=9,(0,g.OK)(E.id);case 9:le=B.sent;case 10:le.code==0&&(de=K.map(function(ge,we){return Z==we&&(ge.status=x?1:2),h()(h()({},ge),{},{statusText:ge.status==1?o.formatMessage({id:"createkb.normal",defaultMessage:""}):ge.status==2?o.formatMessage({id:"createkb.disabled",defaultMessage:""}):o.formatMessage({id:"createkb.deleted",defaultMessage:""})})}),L(de));case 11:case"end":return B.stop()}},p)}));return function(x,H,E,Z){return m.apply(this,arguments)}}(),X=function(){var m=i()(a()().mark(function p(x,H){return a()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:l({title:o.formatMessage({id:"createkb.deleteOperation",defaultMessage:""}),content:o.formatMessage({id:"createkb.confirmDelete",defaultMessage:"?"}),onOk:function(){var le=i()(a()().mark(function Le(){var B;return a()().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return we.next=2,(0,g.iH)(x);case 2:B=we.sent,B.code==0&&(k(Se),re(H));case 4:case"end":return we.stop()}},Le)}));function de(){return le.apply(this,arguments)}return de}(),onCancel:function(){}});case 1:case"end":return Z.stop()}},p)}));return function(x,H){return m.apply(this,arguments)}}(),Te=function(p){var x=p.target.value;clearTimeout(Qe),Qe=setTimeout(function(){Xe=x,Se=1,k()},500)},F=function(p,x){je(p),v(!1)},Ee=function(p){p&&p.stopPropagation&&p.stopPropagation()},$e=[{title:o.formatMessage({id:"createkb.filename",defaultMessage:""}),dataIndex:"name",key:"name",ellipsis:!0,className:"max-w-48 text-[#213044] text-xs py-[15px]"},{title:o.formatMessage({id:"createkb.charCount",defaultMessage:""}),dataIndex:"word_count",key:"word_count",className:"max-w-48 w-24 text-[#213044] text-xs py-[15px]"},{title:o.formatMessage({id:"createkb.recallNum",defaultMessage:""}),dataIndex:"hit_count",key:"hit_count",className:"max-w-48 w-20 text-[#213044] text-xs py-[15px]"},{title:o.formatMessage({id:"createkb.uploadTime",defaultMessage:""}),dataIndex:"created_time",key:"created_time",className:"max-w-48 w-44 text-[#213044] text-xs py-[15px]",sorter:!0},{title:o.formatMessage({id:"createkb.status",defaultMessage:""}),dataIndex:"statusText",key:"statusText",className:"max-w-48 w-28 text-[#213044] text-xs py-[15px]",render:function(p,x,H){return(0,e.jsx)("div",{onClick:Ee,children:(0,e.jsx)(De.Z,{className:x.status==2?"":"bg-[#1B64F3]",defaultChecked:x.status!=2,onChange:function(Z){return Q(Z,p,x,H)},size:"small"},p)})}},{title:o.formatMessage({id:"createkb.action"}),dataIndex:"id",key:"id",className:"max-w-48 w-20 text-[#213044] text-xs py-[15px]",render:function(p,x,H){return(0,e.jsx)("div",{onClick:Ee,children:(0,e.jsx)("img",{src:"/icons/delete.svg",className:"w-4 h-4",onClick:function(){X(p,H)}})})}}],D=function(){var m=i()(a()().mark(function p(x){return a()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(pe(!0),x.file.status!="done"){E.next=5;break}return E.next=4,(0,g.H_)({app_id:s.app_id*1,file_ids:[x.file.response.data.file_id*1],process_rule_id:1,data_source_type:1});case 4:k(Se);case 5:case"end":return E.stop()}},p)}));return function(x){return m.apply(this,arguments)}}(),k=function(){var m=i()(a()().mark(function p(){var x,H,E,Z,le,de=arguments;return a()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return x=de.length>0&&de[0]!==void 0?de[0]:1,H=de.length>1&&de[1]!==void 0?de[1]:Ae,pe(!0),E={app_id:s.app_id,page:x,page_size:10,name:Xe},B.next=6,(0,g.SH)(E);case 6:Z=B.sent,Z.code==0&&(le=Z.data.data.map(function(ge,we){return h()(h()({},ge),{},{statusText:ge.status==1?o.formatMessage({id:"createkb.normal"}):ge.status==2?o.formatMessage({id:"createkb.disabled"}):o.formatMessage({id:"createkb.deleted"})})}),L(le),ue(Z.data)),pe(!1);case 9:case"end":return B.stop()}},p)}));return function(){return m.apply(this,arguments)}}(),_=function(p,x,H){Ae=H.order=="ascend"?"asc":H.order=="descend"?"desc":null,Se=p.current,k(Se,Ae)},P={total:U!=null?U.paging_information.total_count:0,current:Se,hideOnSinglePage:!0};return(0,f.useEffect)(function(){s.app_id&&(Ce(s.type?2:1),k())},[]),(0,e.jsx)(e.Fragment,{children:O?U!=null?(0,e.jsxs)("div",{className:"h-full bg-white w-full",children:[(0,e.jsxs)("div",{className:"w-full py-[30px] flex items-center ",children:[(0,e.jsx)("img",{src:"/icons/flag.svg",className:"w-4 h-4"}),(0,e.jsx)("span",{className:"ml-[10px] text-[#213044] text-[18px] leading-[25px] font-medium",children:Me==2?(0,C.getLocale)()=="zh-CN"?U.dataset_detail.nickname+o.formatMessage({id:"createkb.knowledge.base.of"}):o.formatMessage({id:"createkb.knowledge.base.of"})+U.dataset_detail.nickname:Me==1?o.formatMessage({id:"createkb.editKB"}):o.formatMessage({id:"createkb.createKnowledgeBase"})})]}),(0,e.jsx)("div",{className:"text-[#333333] text-[16px] leading-[22px] font-medium",children:o.formatMessage({id:"createkb.documentSettings"})}),(0,e.jsx)("div",{className:"text-[#555555] text-[12px] leading-[17px] font-medium pt-[30px]",children:o.formatMessage({id:"createkb.uploadDoc"})}),(0,e.jsx)(ut,{fun:D,createkbInfo:s}),(0,e.jsx)("div",{className:"flex justify-between pt-[30px]",children:(0,e.jsx)("span",{className:"text-[#213044] text-xs font-medium",children:o.formatMessage({id:"createkb.documentList"})})}),(0,e.jsx)("div",{className:"flex items-center w-full pt-[10px]",children:(0,e.jsx)(R.Z,{placeholder:o.formatMessage({id:"createkb.searchDoc"}),onChange:Te,className:"w-[782px] h-10 mr-5",prefix:(0,e.jsx)(Re.Z,{})})}),T($e,fe,K,P,F,_),(0,e.jsx)("div",{className:"mt-[30px]",children:(0,e.jsx)(G.ZP,{type:"primary",className:"py-[10px] h-[40px] px-[15px] bg-[#1B64F3] text-white text-[14px] leading-[20px] font-medium",onClick:te,children:o.formatMessage({id:"createkb.enterRecallTest"})})})]}):"":(0,e.jsx)(Bt,{fun:z,item:ee,createkbInfo:s})})},Ot=It,qe=function(){C.history.back()},Zt=function(){var c=(0,C.useIntl)(),r=(0,f.useState)("1"),s=u()(r,2),l=s[0],o=s[1],T=(0,f.useState)((0,be.Go)("GET")),N=u()(T,2),w=N[0],q=N[1],oe=[{key:"1",icon:(0,e.jsx)(e.Fragment,{children:l=="1"?(0,e.jsx)("img",{src:"/icons/kb_setting_select.svg",className:"w-4 h-4 mr-[10px]"}):(0,e.jsx)("img",{src:"/icons/kb_setting.svg",className:"w-4 h-4 mr-[10px]"})}),label:c.formatMessage({id:"createkb.settings",defaultMessage:""}),style:{padding:"15px",width:"100%",margin:"0px",marginBottom:"10px",fontSize:"16px",fontWeight:"500",color:l=="1"?"#1B64F3":"#213044"}},{key:"2",icon:(0,e.jsx)(e.Fragment,{children:l=="2"?(0,e.jsx)("img",{src:"/icons/uptxt_select.svg",className:"w-4 h-4 mr-[10px]"}):(0,e.jsx)("img",{src:"/icons/uptxt.svg",className:"w-4 h-4 mr-[10px]",style:{opacity:w.app_id?"1":"0.4"}})}),label:c.formatMessage({id:"createkb.documentSettings",defaultMessage:""}),disabled:!w.app_id,style:{padding:"15px",width:"100%",margin:"0px",marginBottom:"10px",fontSize:"16px",fontWeight:"500",color:l=="2"?"#1B64F3":"#213044"}},{key:"3",icon:(0,e.jsx)(e.Fragment,{children:l=="3"?(0,e.jsx)("img",{src:"/icons/recall_test_select.svg",className:"w-4 h-4 mr-[10px]"}):(0,e.jsx)("img",{src:"/icons/recall_test.svg",className:"w-4 h-4 mr-[10px]",style:{opacity:w.app_id?"1":"0.4"}})}),label:c.formatMessage({id:"createkb.recallTest",defaultMessage:""}),disabled:!w.app_id,style:{padding:"15px",width:"100%",margin:"0px",marginBottom:"10px",fontSize:"16px",fontWeight:"500",color:l=="3"?"#1B64F3":"#213044"}}],Y=function(L){L.type=="set"&&(w.app_id=L.data,q(w)),L.type=="return"&&qe(),L.type=="next"&&o(L.data)};function M(){var K=function(j){o(j.key)};return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"flex flex-col bg-white h-full",children:[(0,e.jsx)("div",{className:" bg-white pl-[30px] pt-[30px] border-[#e5e7eb] border-solid border-r",children:(0,e.jsx)("div",{className:"w-full flex  justify-start",children:(0,e.jsxs)("div",{className:"cursor-pointer flex items-center",onClick:qe,children:[(0,e.jsx)(G.ZP,{type:"link",danger:!0,className:"p-0",children:(0,e.jsx)(ae.Z,{className:"text-[#1B64F3] w-4 h-4"})}),(0,e.jsx)("span",{className:"ml-[5px] text-[#213044] text-sm",children:c.formatMessage({id:"createkb.back",defaultMessage:""})})]})})}),(0,e.jsx)("div",{className:"w-full flex-1 px-[30px] py-[30px] bg-white border-[#e5e7eb] border-solid border-r",children:(0,e.jsx)(ye.Z,{onClick:K,style:{width:"100%",borderInlineEnd:"1px solid rgba(0,0,0,0)"},defaultSelectedKeys:[l],mode:"inline",items:oe})})]})})}return(0,e.jsxs)("div",{className:"w-full flex bg-white",style:{height:"calc(100vh - 56px)"},children:[(0,e.jsx)("div",{className:"w-[300px] shrink-0",children:(0,e.jsx)(M,{})}),(0,e.jsx)("div",{className:"shrink-0 h-full overflow-y-auto bg-white overflow-x-auto",style:{width:"calc(100% - 300px)"},children:(0,e.jsx)("div",{className:"w-full h-full flex xl:justify-center justify-start flex-1",children:(0,e.jsx)("div",{className:"w-[900px] xl:px-0 px-[30px]",children:l=="1"?(0,e.jsx)(rt,{createkbInfo:w,fun:Y}):l=="2"?(0,e.jsx)(Ot,{createkbInfo:w,fun:Y}):(0,e.jsx)(et,{createkbInfo:w,fun:Y})})})})]})},At=Zt},58533:function(_e,ve,n){var ie=n(67294);var u=function(h,b){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,t){a.__proto__=t}||function(a,t){for(var i in t)t.hasOwnProperty(i)&&(a[i]=t[i])},u(h,b)};function be(h,b){u(h,b);function a(){this.constructor=h}h.prototype=b===null?Object.create(b):(a.prototype=b.prototype,new a)}var ae=function(){return ae=Object.assign||function(b){for(var a,t=1,i=arguments.length;t<i;t++){a=arguments[t];for(var g in a)Object.prototype.hasOwnProperty.call(a,g)&&(b[g]=a[g])}return b},ae.apply(this,arguments)};function C(h,b,a,t){var i,g=!1,I=0;function se(){i&&clearTimeout(i)}function A(){se(),g=!0}typeof b!="boolean"&&(t=a,a=b,b=void 0);function y(){var R=this,xe=Date.now()-I,e=arguments;if(g)return;function Ne(){I=Date.now(),a.apply(R,e)}function Fe(){i=void 0}t&&!i&&Ne(),se(),t===void 0&&xe>h?Ne():b!==!0&&(i=setTimeout(t?Fe:Ne,t===void 0?h-xe:h))}return y.cancel=A,y}var G={Pixel:"Pixel",Percent:"Percent"},ye={unit:G.Percent,value:.8};function f(h){return typeof h=="number"?{unit:G.Percent,value:h*100}:typeof h=="string"?h.match(/^(\d*(\.\d+)?)px$/)?{unit:G.Pixel,value:parseFloat(h)}:h.match(/^(\d*(\.\d+)?)%$/)?{unit:G.Percent,value:parseFloat(h)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),ye):(console.warn("scrollThreshold should be string or number"),ye)}var ke=function(h){be(b,h);function b(a){var t=h.call(this,a)||this;return t.lastScrollTop=0,t.actionTriggered=!1,t.startY=0,t.currentY=0,t.dragging=!1,t.maxPullDownDistance=0,t.getScrollableTarget=function(){return t.props.scrollableTarget instanceof HTMLElement?t.props.scrollableTarget:typeof t.props.scrollableTarget=="string"?document.getElementById(t.props.scrollableTarget):(t.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},t.onStart=function(i){t.lastScrollTop||(t.dragging=!0,i instanceof MouseEvent?t.startY=i.pageY:i instanceof TouchEvent&&(t.startY=i.touches[0].pageY),t.currentY=t.startY,t._infScroll&&(t._infScroll.style.willChange="transform",t._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},t.onMove=function(i){t.dragging&&(i instanceof MouseEvent?t.currentY=i.pageY:i instanceof TouchEvent&&(t.currentY=i.touches[0].pageY),!(t.currentY<t.startY)&&(t.currentY-t.startY>=Number(t.props.pullDownToRefreshThreshold)&&t.setState({pullToRefreshThresholdBreached:!0}),!(t.currentY-t.startY>t.maxPullDownDistance*1.5)&&t._infScroll&&(t._infScroll.style.overflow="visible",t._infScroll.style.transform="translate3d(0px, "+(t.currentY-t.startY)+"px, 0px)")))},t.onEnd=function(){t.startY=0,t.currentY=0,t.dragging=!1,t.state.pullToRefreshThresholdBreached&&(t.props.refreshFunction&&t.props.refreshFunction(),t.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){t._infScroll&&(t._infScroll.style.overflow="auto",t._infScroll.style.transform="none",t._infScroll.style.willChange="unset")})},t.onScrollListener=function(i){typeof t.props.onScroll=="function"&&setTimeout(function(){return t.props.onScroll&&t.props.onScroll(i)},0);var g=t.props.height||t._scrollableNode?i.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!t.actionTriggered){var I=t.props.inverse?t.isElementAtTop(g,t.props.scrollThreshold):t.isElementAtBottom(g,t.props.scrollThreshold);I&&t.props.hasMore&&(t.actionTriggered=!0,t.setState({showLoader:!0}),t.props.next&&t.props.next()),t.lastScrollTop=g.scrollTop}},t.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:a.dataLength},t.throttledOnScrollListener=C(150,t.onScrollListener).bind(t),t.onStart=t.onStart.bind(t),t.onMove=t.onMove.bind(t),t.onEnd=t.onEnd.bind(t),t}return b.prototype.componentDidMount=function(){if(typeof this.props.dataLength=="undefined")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},b.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},b.prototype.componentDidUpdate=function(a){this.props.dataLength!==a.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},b.getDerivedStateFromProps=function(a,t){var i=a.dataLength!==t.prevDataLength;return i?ae(ae({},t),{prevDataLength:a.dataLength}):null},b.prototype.isElementAtTop=function(a,t){t===void 0&&(t=.8);var i=a===document.body||a===document.documentElement?window.screen.availHeight:a.clientHeight,g=f(t);return g.unit===G.Pixel?a.scrollTop<=g.value+i-a.scrollHeight+1:a.scrollTop<=g.value/100+i-a.scrollHeight+1},b.prototype.isElementAtBottom=function(a,t){t===void 0&&(t=.8);var i=a===document.body||a===document.documentElement?window.screen.availHeight:a.clientHeight,g=f(t);return g.unit===G.Pixel?a.scrollTop+i>=a.scrollHeight-g.value:a.scrollTop+i>=g.value/100*a.scrollHeight},b.prototype.render=function(){var a=this,t=ae({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),i=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),g=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return ie.createElement("div",{style:g,className:"infinite-scroll-component__outerdiv"},ie.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(I){return a._infScroll=I},style:t},this.props.pullDownToRefresh&&ie.createElement("div",{style:{position:"relative"},ref:function(I){return a._pullDown=I}},ie.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!i&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},b}(ie.Component);ve.Z=ke}}]);
