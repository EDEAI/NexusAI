"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[734],{82826:function(Fe,ye,n){n.d(ye,{Z:function(){return f}});var ie=n(1413),u=n(67294),je={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},ee=je,P=n(91146),U=function(x,v){return u.createElement(P.Z,(0,ie.Z)((0,ie.Z)({},x),{},{ref:v,icon:ee}))},we=u.forwardRef(U),f=we},83510:function(Fe,ye,n){n.d(ye,{LK:function(){return i},bs:function(){return I},go:function(){return t},uy:function(){return p}});var ie=n(15009),u=n.n(ie),je=n(99289),ee=n.n(je),P=n(47520),U="/v1/apps/apps_list",we="/v1/agent/agent_delete/",f="/v1/workflow/workflow_app_delete/",Me="/v1/vector/delete_dataset/",x="/v1/skill/delete_skill_by_app_id/",v="/v1/apps/apps_create",a="/v1/apps/app_update/",t=function(){var te=ee()(u()().mark(function O(y){var A;return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,P.ZP)("".concat(U),{method:"GET",data:y});case 2:return A=e.sent,e.abrupt("return",A);case 4:case"end":return e.stop()}},O)}));return function(y){return te.apply(this,arguments)}}(),i=function(){var te=ee()(u()().mark(function O(y){var A;return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(y),e.next=3,y.mode;case 3:if(e.t0=e.sent,e.t0!=1){e.next=8;break}e.t1=(0,P.ZP)("".concat(we).concat(y.app_id),{method:"DELETE"}),e.next=9;break;case 8:e.t1=y.mode==2?(0,P.ZP)("".concat(f).concat(y.app_id),{method:"DELETE"}):y.mode==3?(0,P.ZP)("".concat(Me).concat(y.app_id),{method:"DELETE"}):(0,P.ZP)("".concat(x).concat(y.app_id),{method:"DELETE",data:{is_soft:1}});case 9:return A=e.t1,e.abrupt("return",A);case 11:case"end":return e.stop()}},O)}));return function(y){return te.apply(this,arguments)}}(),p=function(){var te=ee()(u()().mark(function O(y){var A;return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,P.ZP)("".concat(v),{method:"POST",data:y});case 2:return A=e.sent,e.abrupt("return",A);case 4:case"end":return e.stop()}},O)}));return function(y){return te.apply(this,arguments)}}(),I=function(){var te=ee()(u()().mark(function O(y){var A;return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,P.ZP)("".concat(a).concat(y.app_id),{method:"PUT",data:y});case 2:return A=e.sent,e.abrupt("return",A);case 4:case"end":return e.stop()}},O)}));return function(y){return te.apply(this,arguments)}}()},77638:function(Fe,ye,n){n.r(ye),n.d(ye,{default:function(){return At}});var ie=n(5574),u=n.n(ie),je=n(32332),ee=n(82826),P=n(35312),U=n(28036),we=n(50136),f=n(67294),Me=n(97857),x=n.n(Me),v=n(15009),a=n.n(v),t=n(99289),i=n.n(t),p=n(83065),I=n(2453),te=n(71230),O=n(15746),y=n(4393),A=n(26915),ve=n(86842),e=n(85893),ke=1,_e=function(c){var r=c.createkbInfo,s=(0,P.useIntl)(),l=[{title:s.formatMessage({id:"createkb.text",defaultMessage:""}),dataIndex:"input",ellipsis:!0},{title:s.formatMessage({id:"createkb.recallParagraph",defaultMessage:""}),dataIndex:"document_segment_num",width:"15%"},{title:s.formatMessage({id:"createkb.time",defaultMessage:""}),dataIndex:"created_time",width:"25%"}],o=(0,f.useState)([]),L=u()(o,2),S=L[0],j=L[1],Q=(0,f.useState)(null),oe=u()(Q,2),ae=oe[0],M=oe[1],z=(0,f.useState)(null),F=u()(z,2),w=F[0],ce=F[1],H=(0,f.useState)([]),fe=u()(H,2),ge=fe[0],se=fe[1],pe=(0,f.useState)(!1),me=u()(pe,2),G=me[0],Y=me[1],B=(0,f.useState)(""),h=u()(B,2),Z=h[0],N=h[1],X=(0,f.useRef)(null),Se=(0,f.useState)(0),K=u()(Se,2),be=K[0],Ce=K[1],Te=function(){var k=i()(a()().mark(function m(){var E;return a()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(Z==""){C.next=11;break}return Y(!0),se([]),C.next=5,(0,p.I9)({user_input:Z},r.app_id);case 5:E=C.sent,E.code==0?(E.data.data.length<=0&&I.ZP.error(s.formatMessage({id:"createkb.saveSuccess",defaultMessage:""})),se(E.data.data)):I.ZP.error(E.detail),Y(!1),$(),C.next=14;break;case 11:Y(!1),se([]),I.ZP.error(s.formatMessage({id:"createkb.testInput",defaultMessage:""}));case 14:case"end":return C.stop()}},m)}));return function(){return k.apply(this,arguments)}}(),ne=function(){var k=i()(a()().mark(function m(E){return a()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:N(E.target.value);case 1:case"end":return C.stop()}},m)}));return function(E){return k.apply(this,arguments)}}(),W=function(m){ke=m,$()},re=function(){var k=i()(a()().mark(function m(E){var _;return a()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return Y(!0),le.next=3,(0,p.gk)(E.id);case 3:_=le.sent,_.code==0?se(_.data.data):I.ZP.error(_.detail),Y(!1),N(E.input);case 7:case"end":return le.stop()}},m)}));return function(E){return k.apply(this,arguments)}}(),$=function(){var k=i()(a()().mark(function m(){var E,_,C=arguments;return a()().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return E=C.length>0&&C[0]!==void 0?C[0]:ke,xe.next=3,(0,p.yC)({page:E},r.app_id);case 3:_=xe.sent,_.code==0&&(j(_.data.data),ce(_.data));case 5:case"end":return xe.stop()}},m)}));return function(){return k.apply(this,arguments)}}(),V=function(){var k=i()(a()().mark(function m(){var E,_,C,le,xe=arguments;return a()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return E=xe.length>0&&xe[0]!==void 0?xe[0]:1,_={app_id:r.app_id},T.next=4,(0,p.SH)(_);case 4:C=T.sent,C.code==0&&(le=C.data.data.map(function(g,b){return x()(x()({},g),{},{statusText:g.status==1?s.formatMessage({id:"createkb.normal",defaultMessage:""}):g.status==2?s.formatMessage({id:"createkb.disabled",defaultMessage:""}):s.formatMessage({id:"createkb.deleted",defaultMessage:""})})}),M(C.data));case 6:case"end":return T.stop()}},m)}));return function(){return k.apply(this,arguments)}}();return(0,f.useEffect)(function(){$(),V(),setTimeout(function(){X.current&&Ce(X.current.offsetHeight-55-82)},200)},[]),(0,e.jsx)(e.Fragment,{children:w!=null?(0,e.jsxs)("div",{className:"h-full pb-[30px]",children:[(0,e.jsxs)("div",{className:"w-full py-[30px] flex items-center ",children:[(0,e.jsx)("img",{src:"/icons/flag.svg",className:"w-4 h-4"}),(0,e.jsx)("span",{className:"ml-[10px] text-[#213044] text-base font-medium",children:!r.type&&ae!=null?s.formatMessage({id:"createkb.knowledge.base.of",defaultMessage:""})+" "+ae.dataset_detail.nickname:s.formatMessage({id:"createkb.editKB",defaultMessage:""})})]}),(0,e.jsx)("div",{className:"flex w-full",style:{height:"calc(100% - 84px)"},children:(0,e.jsxs)(te.Z,{gutter:0,style:{marginRight:"0px",marginLeft:"0px"},children:[(0,e.jsx)(O.Z,{className:"pb-[30px] h-2/4",span:24,children:(0,e.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,e.jsx)("div",{className:"mb-5 text-[#555555] text-sm font-medium",children:s.formatMessage({id:"createkb.recallTest",defaultMessage:""})}),(0,e.jsxs)("div",{className:"w-full px-[15px] py-[15px] border-[#EEEEEE] rounded-lg bg-[#F7F7F7] flex-1 min-h-0",children:[(0,e.jsx)("div",{className:" overflow-y-auto",style:{height:"calc(100% - 65px)"},children:(0,e.jsx)(te.Z,{gutter:[15,15],className:"w-full",children:ge.map(function(k,m){var E=(k.score*1).toFixed(4),_=k.reranking_score>0?(k.reranking_score*1).toFixed(4):0;return(0,e.jsx)(O.Z,{className:"gutter-row w-full",span:24,children:(0,e.jsx)(y.Z,{activeTabKey:k.id,size:"small",children:(0,e.jsxs)("div",{className:"w-full bg-white  font-normal text-[12px] rounded-lg",children:[(0,e.jsx)("div",{className:"break-all text-[#213044] leading-[17px]",children:k.content}),(0,e.jsxs)("div",{className:"text-[#BBBBBB] mt-[15px] leading-[17px]",children:[" ",s.formatMessage({id:"createkb.source",defaultMessage:""}),"\uFF1A ",k.name]}),(0,e.jsxs)("div",{className:"text-[#BBBBBB] mt-[15px]  leading-[17px]",children:[" ",s.formatMessage({id:"createkb.matchScore"}),"\uFF1A ",E]}),_==0?"":(0,e.jsxs)("div",{className:"text-[#BBBBBB] mt-[15px] leading-[17px]",children:[" ",s.formatMessage({id:"createkb.sortScore"}),"\uFF1A ",_]})]})})},k.id)})})}),(0,e.jsxs)("div",{className:"bg-white flex items-center rounded-lg mt-[15px] p-[10px]",children:[(0,e.jsx)(A.Z,{className:" custom-textarea",onChange:ne,variant:"borderless",placeholder:s.formatMessage({id:"createkb.briefText"}),maxLength:200,showCount:!0,value:Z,onPressEnter:Te}),(0,e.jsx)("div",{className:"flex justify-end",children:(0,e.jsx)(U.ZP,{type:"primary",loading:G,onClick:Te,style:{background:"rgba(27,100,243,.1)"},className:"w-[30px] h-[30px] rounded-md flex justify-center items-center p-0",children:G?"":(0,e.jsx)("img",{src:"/icons/fs.svg",className:"w-4 h-4"})})})]})]})]})}),(0,e.jsx)("div",{className:"h-2/4",ref:X,children:(0,e.jsx)(O.Z,{span:24,children:(0,e.jsxs)("div",{className:"w-full h-full",children:[(0,e.jsx)("div",{className:" mb-[20px] text-[#555555] text-sm font-medium",children:s.formatMessage({id:"createkb.recentQuery"})}),(0,e.jsx)("div",{className:"w-[900px] rounded-md border-[#eeeeee] border rounded-lg",children:(0,e.jsx)(ve.Z,{rowKey:"id",columns:l,dataSource:S,locale:{emptyText:(0,e.jsx)("div",{className:"text-[#666666] text-[14px] leading-[20px] font-normal",children:(0,e.jsx)("span",{children:s.formatMessage({id:"createkb.no.data.available"})})})},pagination:{pageSize:w.paging_information.page_size,total:w.paging_information.total_count,onChange:W,style:{margin:"0px",marginTop:"10px"},hideOnSinglePage:!0},onRow:function(m,E){return{onClick:function(){return re(m)},style:{cursor:"pointer"}}},scroll:be!=0?{y:be}:{}})})]})})})]})})]}):""})},et=_e,tt=n(83510),at=n(40741),De=n(72269),st=n(74330),nt=function(c){var r=c.createkbInfo,s=c.fun,l=(0,P.useIntl)(),o=(0,f.useState)(null),L=u()(o,2),S=L[0],j=L[1],Q=(0,f.useState)(!1),oe=u()(Q,2),ae=oe[0],M=oe[1],z=(0,f.useState)(1),F=u()(z,2),w=F[0],ce=F[1],H=(0,f.useState)(1),fe=u()(H,2),ge=fe[0],se=fe[1],pe=(0,f.useState)(null),me=u()(pe,2),G=me[0],Y=me[1],B=(0,f.useState)(1),h=u()(B,2),Z=h[0],N=h[1],X=function(W){r.type||ce(W)},Se=function(W){se(W==!0?1:0)},K=function(){s({type:"return"})},be=function(){var ne=i()(a()().mark(function W(){var re,$,V;return a()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(M(!0),r.app_id){m.next=11;break}return m.next=4,(0,tt.uy)((0,je.Go)("GET"));case 4:if(re=m.sent,re.code!=0){m.next=9;break}s({type:"set",data:re.data.app_id}),m.next=11;break;case 9:return I.ZP.error(l.formatMessage({id:"createkb.creationFailed",defaultMessage:""})),m.abrupt("return");case 11:return $={app_id:r.app_id,name:S.name,description:S.description,public:ge,mode:w},m.next=14,(0,p._W)($);case 14:V=m.sent,V.code==0?(I.ZP.success(l.formatMessage({id:"createkb.setupSuccess",defaultMessage:""})),setTimeout(function(){s({type:"next",data:"2"}),M(!1)},1e3)):(I.ZP.error(l.formatMessage({id:"createkb.settingFailed",defaultMessage:""})),M(!1));case 16:case"end":return m.stop()}},W)}));return function(){return ne.apply(this,arguments)}}(),Ce=function(){var ne=i()(a()().mark(function W(){var re,$,V=arguments;return a()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return re=V.length>0&&V[0]!==void 0?V[0]:1,m.next=3,(0,p.SH)({app_id:r.app_id,page:re,page_size:10,name:""});case 3:$=m.sent,$.code==0&&(se($.data.dataset_detail.is_public),ce($.data.dataset_detail.mode),j({name:$.data.dataset_detail.name,description:$.data.dataset_detail.description,nickname:$.data.dataset_detail.nickname}));case 5:case"end":return m.stop()}},W)}));return function(){return ne.apply(this,arguments)}}(),Te=function(){var ne=i()(a()().mark(function W(){var re;return a()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,(0,p.Ue)();case 2:re=V.sent,re.code==0&&Y(re.data.data);case 4:case"end":return V.stop()}},W)}));return function(){return ne.apply(this,arguments)}}();return(0,f.useEffect)(function(){r.app_id?(N(r.type?2:1),Ce()):(j({name:r.name,description:r.description}),N(3)),Te()},[]),(0,e.jsx)(e.Fragment,{children:S!=null?(0,e.jsxs)("div",{className:"bg-white h-full flex flex-col w-full relative",children:[(0,e.jsxs)("div",{className:"w-full py-[30px] flex items-center ",children:[(0,e.jsx)("img",{src:"/icons/flag.svg",className:"w-4 h-4"}),(0,e.jsx)("span",{className:"ml-[10px] text-[#213044] text-[18px] leading-[25px] font-medium",children:Z==2?l.formatMessage({id:"createkb.knowledge.base.of",defaultMessage:""})+" "+S.nickname:Z==1?l.formatMessage({id:"createkb.editKB",defaultMessage:""}):l.formatMessage({id:"createkb.createKnowledgeBase",defaultMessage:""})})]}),(0,e.jsx)("div",{className:" pb-[30px] bg-white flex-1",children:(0,e.jsx)(te.Z,{className:"h-full",children:(0,e.jsxs)(O.Z,{span:24,className:"flex flex-col justify-between",children:[(0,e.jsx)("div",{className:"text-[#333333] text-[16px] leading-[22px] font-medium",children:l.formatMessage({id:"createkb.settings",defaultMessage:""})}),(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsxs)(at.Z,{layout:"vertical",children:[(0,e.jsxs)("div",{className:"pt-[30px] flex items-start text-[12px]",children:[(0,e.jsx)("span",{className:"mr-[2px] text-[#E80000] leading-[17px] font-medium",children:"*"}),(0,e.jsx)("span",{className:"text-[#555555] font-medium",children:l.formatMessage({id:"createkb.name",defaultMessage:""})})]}),(0,e.jsx)("div",{className:"w-full mt-[15px] p-[15px] bg-[#F7F7F7] border border-[#EEEEEE] rounded-lg text-[12px] text-[#213044] font-normal leading-[17px]",children:S.name}),(0,e.jsxs)("div",{className:"pt-[30px] flex items-start text-[12px]",children:[(0,e.jsx)("span",{className:"mr-[2px] text-[#E80000] leading-[17px] font-medium",children:"*"}),(0,e.jsx)("span",{className:"text-[#555555] font-medium",children:l.formatMessage({id:"createkb.desc",defaultMessage:""})})]}),(0,e.jsx)("div",{className:"w-full mt-[15px] p-[15px] bg-[#F7F7F7] border border-[#EEEEEE] rounded-lg text-[12px] text-[#213044] font-normal leading-[17px]",children:S.description}),(0,e.jsxs)("div",{className:"pt-[30px] flex items-start text-[12px]",children:[(0,e.jsx)("span",{className:"mr-[2px] text-[#E80000] leading-[17px] font-medium",children:"*"}),(0,e.jsx)("span",{className:"text-[#555555] font-medium",children:l.formatMessage({id:"createkb.teamVisible",defaultMessage:""})})]}),(0,e.jsx)("div",{className:"w-full mt-[15px]",children:(0,e.jsx)(De.Z,{onChange:Se,checked:ge===1,size:"small",disabled:r.type})}),(0,e.jsxs)("div",{className:"pt-[30px] flex items-start text-[12px]",children:[(0,e.jsx)("span",{className:"mr-[2px] text-[#E80000] leading-[17px] font-medium",children:"*"}),(0,e.jsx)("span",{className:"text-[#555555] font-medium",children:l.formatMessage({id:"createkb.modelSelect"})})]}),(0,e.jsx)("div",{className:"flex items-center mt-[15px]",children:(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)(y.Z,{onClick:function(){X(1)},size:"small",className:w==1?"bg-[#FFFFFF]":"bg-[#F7F7F7]",style:{minWidth:"440px",cursor:r.type?"not-allowed":"pointer",borderColor:w==1?"#1B64F3":""},styles:{body:{padding:"15px"}},children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("p",{className:"pb-[15px] border-b border-[#EEEEEE] flex items-center",children:[(0,e.jsx)("img",{src:w==1?"/icons/online_select.svg":"/icons/online.svg",className:"w-4 h-4 "}),(0,e.jsx)("span",{className:w==1?"text-[#1B64F3] text-xs ml-[10px]":"text-[#213044] text-xs ml-[10px]",children:l.formatMessage({id:"createkb.apiEmbed"})})]}),(0,e.jsxs)("p",{className:"text-[#999999] mb-[10px]",children:[l.formatMessage({id:"createkb.vendor"}),": ",G==null?void 0:G.online.suppliers_name]}),(0,e.jsxs)("p",{className:"mb-0 text-[#999999]",children:[l.formatMessage({id:"createkb.modelName"}),": ",G==null?void 0:G.online.name]})]})}),(0,e.jsx)(y.Z,{onClick:function(){X(2)},size:"small",className:w==2?"bg-[#FFFFFF] ml-5":"bg-[#F7F7F7] ml-5",style:{minWidth:"440px",cursor:r.type?"not-allowed":"pointer",borderColor:w==2?"#1B64F3":""},styles:{body:{padding:"15px"}},children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("p",{className:"pb-[15px] border-b border-[#EEEEEE] flex items-center",children:[(0,e.jsx)("img",{src:w==2?"/icons/local_select.svg":"/icons/local.svg",className:"w-4 h-4 "}),(0,e.jsx)("span",{className:w==2?"text-[#1B64F3] text-xs ml-[10px]":"text-[#213044] text-xs ml-[10px]",children:l.formatMessage({id:"createkb.localEmbed"})})]}),(0,e.jsxs)("p",{className:"text-[#999999] mb-[10px]",children:[l.formatMessage({id:"createkb.vendor"}),"\uFF1A -"]}),(0,e.jsxs)("p",{className:"mb-0 text-[#999999]",children:[l.formatMessage({id:"createkb.modelName"}),": ",G==null?void 0:G.local.name]})]})})]})})]}),(0,e.jsxs)("div",{className:"flex items-center mt-[60px]",children:[(0,e.jsx)(U.ZP,{type:"primary",onClick:be,className:"py-[10px] h-[40px] px-[15px] bg-[#1B64F3] text-white text-[14px] leading-[20px] font-medium",disabled:r.type,style:{cursor:r.type?"not-allowed":""},children:l.formatMessage({id:"createkb.save.and.upload.document"})}),(0,e.jsx)(U.ZP,{type:"primary",onClick:K,className:"ml-[20px] py-[10px] h-[40px] px-[15px] bg-[#ffffff] text-[#213044] text-[14px] leading-[20px] font-medium border border-[#979797]",children:l.formatMessage({id:"createkb.cancel"})})]})]})]})})}),ae?(0,e.jsx)("div",{className:" absolute w-full h-full t-0 l-0 z-10 flex justify-center items-center",children:(0,e.jsx)(st.Z,{size:"large"})}):""]}):""})},rt=nt,lt=n(19632),Pe=n.n(lt),$e=n(40110),it=n(17788),ot=n(66476),ct=ot.Z.Dragger,dt=function(c){var r=c.fun,s=c.createkbInfo,l=(0,P.useIntl)(),o={action:p.M$,headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},onChange:function(j){r(j)},beforeUpload:function(j){var Q=j.size/1024/1024<15;return Q||(I.ZP.error(l.formatMessage({id:"createkb.fileLimit",defaultMessage:"15M"})),!1)}},L=x()(x()({},o),{},{name:"file",multiple:!0,className:"h-[200px]",showUploadList:!1});return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ct,x()(x()({},L),{},{listType:"picture",className:"flex flex-col items-center justify-center custom-dragger mt-[15px]",accept:".txt,.md,.pdf,.html,.xlsx,.xls,.docx,.csv",disabled:s.type,children:(0,e.jsxs)("div",{className:"update p-[4px]",children:[(0,e.jsxs)("div",{className:"flex items-center w-full justify-center",children:[(0,e.jsx)("img",{src:"/icons/word.svg",className:"w-[42px] h-[42px] mx-3"}),(0,e.jsx)("img",{src:"/icons/txt.svg",className:"w-[42px] h-[42px] mx-3"}),(0,e.jsx)("img",{src:"/icons/pdf.svg",className:"w-[42px] h-[42px] mx-3"}),(0,e.jsx)("img",{src:"/icons/xlsx.svg",className:"w-[42px] h-[42px] mx-3"}),(0,e.jsx)("img",{src:"/icons/md.svg",className:"w-[42px] h-[42px] mx-3"})]}),(0,e.jsx)("div",{className:"mt-[10px] text-[#213044] text-sm",children:l.formatMessage({id:"createkb.dragOrClick",defaultMessage:"\uFF0C"})}),(0,e.jsx)("div",{className:"mt-[10px] text-[#999999] text-sm",children:l.formatMessage({id:"createkb.uploadLimit",defaultMessage:"10\uFF0C 15MB"})})]})}))})},ut=dt,ft=n(93967),Re=n.n(ft),pt=n(98423),Ue=n(98065),mt=n(53124),xt=n(83559),gt=n(83262);const ze=["wrap","nowrap","wrap-reverse"],He=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],Ge=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],ht=(d,c)=>{const r=c.wrap===!0?"wrap":c.wrap;return{[`${d}-wrap-${r}`]:r&&ze.includes(r)}},vt=(d,c)=>{const r={};return Ge.forEach(s=>{r[`${d}-align-${s}`]=c.align===s}),r[`${d}-align-stretch`]=!c.align&&!!c.vertical,r},bt=(d,c)=>{const r={};return He.forEach(s=>{r[`${d}-justify-${s}`]=c.justify===s}),r};function yt(d,c){return Re()(Object.assign(Object.assign(Object.assign({},ht(d,c)),vt(d,c)),bt(d,c)))}var jt=yt;const wt=d=>{const{componentCls:c}=d;return{[c]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},Nt=d=>{const{componentCls:c}=d;return{[c]:{"&-gap-small":{gap:d.flexGapSM},"&-gap-middle":{gap:d.flexGap},"&-gap-large":{gap:d.flexGapLG}}}},St=d=>{const{componentCls:c}=d,r={};return ze.forEach(s=>{r[`${c}-wrap-${s}`]={flexWrap:s}}),r},Mt=d=>{const{componentCls:c}=d,r={};return Ge.forEach(s=>{r[`${c}-align-${s}`]={alignItems:s}}),r},kt=d=>{const{componentCls:c}=d,r={};return He.forEach(s=>{r[`${c}-justify-${s}`]={justifyContent:s}}),r},Et=()=>({});var Ct=(0,xt.I$)("Flex",d=>{const{paddingXS:c,padding:r,paddingLG:s}=d,l=(0,gt.mergeToken)(d,{flexGapSM:c,flexGap:r,flexGapLG:s});return[wt(l),Nt(l),St(l),Mt(l),kt(l)]},Et,{resetStyle:!1}),Tt=function(d,c){var r={};for(var s in d)Object.prototype.hasOwnProperty.call(d,s)&&c.indexOf(s)<0&&(r[s]=d[s]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(d);l<s.length;l++)c.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(d,s[l])&&(r[s[l]]=d[s[l]]);return r},Lt=f.forwardRef((d,c)=>{const{prefixCls:r,rootClassName:s,className:l,style:o,flex:L,gap:S,children:j,vertical:Q=!1,component:oe="div"}=d,ae=Tt(d,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:M,direction:z,getPrefixCls:F}=f.useContext(mt.E_),w=F("flex",r),[ce,H,fe]=Ct(w),ge=Q!=null?Q:M==null?void 0:M.vertical,se=Re()(l,s,M==null?void 0:M.className,w,H,fe,jt(w,d),{[`${w}-rtl`]:z==="rtl",[`${w}-gap-${S}`]:(0,Ue.n)(S),[`${w}-vertical`]:ge}),pe=Object.assign(Object.assign({},M==null?void 0:M.style),o);return L&&(pe.flex=L),S&&!(0,Ue.n)(S)&&(pe.gap=S),ce(f.createElement(oe,Object.assign({ref:c,className:se,style:pe},(0,pt.Z)(ae,["justify","wrap","align"])),j))}),Ft=n(34041),Ie=n(78045),_t=n(96074),Ye=n(2487),Dt=n(58533),Be="0",Oe="hit_count asc",Ze=1,Ke="",We,Ve,Pt=function(c){var r=c.item,s=c.fun,l=c.createkbInfo,o=(0,P.useIntl)(),L=[{title:o.formatMessage({id:"createkb.charLimit",defaultMessage:""})+"\uFF1A",value:""},{title:o.formatMessage({id:"createkb.avgChar",defaultMessage:""})+"\uFF1A",value:""},{title:o.formatMessage({id:"createkb.sectionNum",defaultMessage:""})+"\uFF1A",value:""},{title:o.formatMessage({id:"createkb.totalRecall",defaultMessage:""})+"\uFF1A",value:""},{title:o.formatMessage({id:"createkb.embedTime",defaultMessage:""})+"\uFF1A",value:""},{title:o.formatMessage({id:"createkb.embedCost",defaultMessage:""})+"\uFF1A",value:""}],S=(0,f.useState)(!1),j=u()(S,2),Q=j[0],oe=j[1],ae=(0,f.useState)([]),M=u()(ae,2),z=M[0],F=M[1],w=(0,f.useState)(null),ce=u()(w,2),H=ce[0],fe=ce[1],ge=function(){s("return")};function se(){return L.map(function(B){return(0,e.jsx)("div",{className:"mr-[40px]",children:(0,e.jsxs)("div",{className:"flex items-center grow shrink-0",children:[(0,e.jsx)("div",{className:"text-[#666666] text-[12px] leading-[17px] font-normal",children:B.title}),(0,e.jsx)("div",{className:"text-[#213044] text-[12px] leading-[17px] font-medium",children:B.value})]})},"".concat(B.title))})}var pe=function(h){var Z=h.target.value;clearTimeout(We),We=setTimeout(function(){F([]),Ke=Z,Y(1)},500)},me=function(){Ze+=1,Y(Ze)},G=function(){var B=i()(a()().mark(function h(Z,N){var X;return a()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:Z?X=(0,p.Rc)(N.id):X=(0,p.U4)(N.id);case 1:case"end":return K.stop()}},h)}));return function(Z,N){return B.apply(this,arguments)}}(),Y=function(){var B=i()(a()().mark(function h(){var Z,N,X=arguments;return a()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return Z=X.length>0&&X[0]!==void 0?X[0]:1,Ze=Z,K.next=4,(0,p.gD)({document_id:r.id,page:Z,page_size:10,hit_count:Oe,content:Ke,status:Be});case 4:N=K.sent,fe(N.data),H==null&&(L[0].value=N.data.seg_set.seg_Len,L[1].value=N.data.seg_set.seg_Avg,L[2].value=N.data.seg_set.seg_Num,L[3].value=N.data.seg_set.hit_Num,L[4].value=N.data.seg_set.Embedding_Time,L[5].value=N.data.seg_set.Embedding_Token,Ve=se()),F(function(be){return[].concat(Pe()(be),Pe()(N.data.data))});case 8:case"end":return K.stop()}},h)}));return function(){return B.apply(this,arguments)}}();return(0,f.useEffect)(function(){Y()},[]),(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"py-[30px] bg-white overflow-hidden w-full h-full flex flex-col",children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"border-b  flex items-center pb-[30px]",children:[(0,e.jsx)("div",{className:"border-r mr-[10px] pr-[10px] cursor-pointer",onClick:ge,children:(0,e.jsx)("img",{src:"/icons/return.svg",className:"w-4 h-4"})}),(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("img",{src:"/icons/textIcon.svg",className:"w-4 h-4"}),(0,e.jsx)("span",{className:"text-[#213044] leading-[25px] text-[18px] font-medium ml-[5px]",children:r.name})]})]}),(0,e.jsx)("div",{className:"pt-[20px] pb-[15px] text-[#555555]  text-[14px] leading-[20px] font-medium",children:o.formatMessage({id:"createkb.docParams",defaultMessage:""})}),(0,e.jsx)("div",{className:"w-full border border-[#EEEEEE] rounded-lg p-[15px] bg-[#F7F7F7]",children:(0,e.jsx)(Lt,{wrap:!0,gap:"middle",align:"center",children:Ve})}),(0,e.jsxs)("div",{className:"pt-[20px] pb-[15px] text-[#555555] text-[14px] leading-[20px] font-medium",children:[o.formatMessage({id:"createkb.docPara",defaultMessage:""})," ",H!=null?H.paging_information.total_count:""]}),(0,e.jsxs)("div",{className:"w-full flex justify-between items-center",children:[(0,e.jsxs)("div",{className:"sticky-0 flex items-center",children:[(0,e.jsx)(Ft.Z,{defaultValue:"".concat(Be),style:{width:114,height:32,background:"#F7F7F7"},onSelect:function(h){Be=h,F([]),Y(1)},options:[{value:"0",label:o.formatMessage({id:"createkb.all",defaultMessage:""})},{value:"1",label:o.formatMessage({id:"createkb.enabled",defaultMessage:""})},{value:"2",label:o.formatMessage({id:"createkb.disabled",defaultMessage:""})}]}),(0,e.jsx)(A.Z,{size:"large",placeholder:o.formatMessage({id:"createkb.search",defaultMessage:""}),prefix:(0,e.jsx)($e.Z,{className:"text-[#213044] opacity-30"}),onChange:pe,className:"w-[300px] text-sm h-8 ml-5"})]}),(0,e.jsx)("div",{className:"flex-1 justify-end flex items-center",children:(0,e.jsxs)("div",{className:"flex items-center text-[#555555] text-[14px] leading-[20px] font-normal",children:[(0,e.jsxs)("span",{children:[o.formatMessage({id:"createkb.recallSort"}),"\uFF1A"]}),(0,e.jsxs)(Ie.ZP.Group,{defaultValue:Oe,onChange:function(h){Oe=h.target.value,F([]),Y(1)},size:"small",children:[(0,e.jsx)(Ie.ZP,{value:"hit_count asc",children:o.formatMessage({id:"createkb.highToLow"})}),(0,e.jsx)(Ie.ZP,{value:"hit_count desc",children:o.formatMessage({id:"createkb.lowToHigh"})})]})]})})]})]}),H!=null?(0,e.jsx)("div",{className:"overflow-y-auto flex-1 mt-4",id:"lists",children:(0,e.jsx)(Dt.Z,{dataLength:z.length,next:me,hasMore:z.length<H.paging_information.total_count,loader:!1,endMessage:z.length<=0?"":(0,e.jsx)(_t.Z,{plain:!0,children:o.formatMessage({id:"createkb.bottom"})}),scrollableTarget:"lists",children:(0,e.jsx)(Ye.Z,{dataSource:z,split:!1,renderItem:function(h){return(0,e.jsx)(Ye.Z.Item,{style:{padding:"0px"},children:(0,e.jsxs)("div",{className:"w-full rounded-lg bg-[#F7F7F7] p-[15px] mb-[15px]",children:[(0,e.jsxs)("div",{className:"w-full flex items-center",children:[(0,e.jsxs)("div",{className:"py-1 rounded-md px-2 border border-[#D8D8D8] flex items-center justify-center text-[#213044] text-sm",children:["#",h.segnum<=9?"00"+h.segnum:h.segnum<=99?"0"+h.segnum:h.segnum]}),(0,e.jsxs)("div",{className:"flex items-center ml-8",children:[(0,e.jsx)("img",{src:"/icons/zishu.svg",className:"w-4 h-4"}),(0,e.jsx)("div",{className:"ml-[5px] text-[#213044] text-sm",children:h.word_count})]}),(0,e.jsxs)("div",{className:"flex items-center ml-8",children:[(0,e.jsx)("img",{src:"/icons/zh.svg",className:"w-4 h-4"}),(0,e.jsx)("div",{className:"ml-[5px] text-[#213044] text-sm",children:h.hit_count})]}),(0,e.jsx)("div",{className:"ml-8 ",children:(0,e.jsx)(De.Z,{defaultChecked:h.status!=2,onChange:function(N){return G(N,h)},disabled:l.type,size:"small"},h.id)})]}),(0,e.jsx)("div",{className:"pt-5",children:(0,e.jsx)("span",{className:"text-[#213044] text-sm",children:h.content})})]})},h.id)}})})}):""]})})},It=Pt,Ee=1,Je,Qe="",Ae=null,Bt=function(c){var r=c.fun,s=c.createkbInfo,l=it.Z.confirm,o=(0,P.useIntl)(),L=function(g,b,J,R,q,de){return(0,e.jsx)("div",{className:"mt-[10px] border border-[#EEEEEE] rounded-lg",children:(0,e.jsx)(ve.Z,{columns:g,loading:b,dataSource:J,size:"middle",pagination:R,locale:{emptyText:(0,e.jsx)("div",{className:"text-[#666666] text-[14px] leading-[20px] font-normal",children:(0,e.jsx)("span",{children:o.formatMessage({id:"createkb.no.data.available",defaultMessage:""})})})},onRow:function(Le,D){return{onClick:function(){return q(Le,D)},style:{cursor:"pointer"}}},onChange:de,rowKey:"id"})})},S=(0,f.useState)([]),j=u()(S,2),Q=j[0],oe=j[1],ae=(0,f.useState)([]),M=u()(ae,2),z=M[0],F=M[1],w=(0,f.useState)(null),ce=u()(w,2),H=ce[0],fe=ce[1],ge=(0,f.useState)(!0),se=u()(ge,2),pe=se[0],me=se[1],G=(0,f.useState)(!0),Y=u()(G,2),B=Y[0],h=Y[1],Z=(0,f.useState)(null),N=u()(Z,2),X=N[0],Se=N[1],K=(0,f.useState)(1),be=u()(K,2),Ce=be[0],Te=be[1],ne=function(){r({type:"next",data:"3"})},W=function(g){h(!0)},re=function(g){var b=Pe()(Q);b[g]=!b[g],oe(b)},$=function(){var T=i()(a()().mark(function g(b,J,R,q){var de,ue;return a()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(de=null,b){D.next=7;break}return D.next=4,(0,p.LV)(R.id);case 4:de=D.sent,D.next=10;break;case 7:return D.next=9,(0,p.OK)(R.id);case 9:de=D.sent;case 10:de.code==0&&(ue=z.map(function(he,Ne){return q==Ne&&(he.status=b?1:2),x()(x()({},he),{},{statusText:he.status==1?o.formatMessage({id:"createkb.normal",defaultMessage:""}):he.status==2?o.formatMessage({id:"createkb.disabled",defaultMessage:""}):o.formatMessage({id:"createkb.deleted",defaultMessage:""})})}),F(ue));case 11:case"end":return D.stop()}},g)}));return function(b,J,R,q){return T.apply(this,arguments)}}(),V=function(){var T=i()(a()().mark(function g(b,J){return a()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:l({title:o.formatMessage({id:"createkb.deleteOperation",defaultMessage:""}),content:o.formatMessage({id:"createkb.confirmDelete",defaultMessage:"?"}),onOk:function(){var de=i()(a()().mark(function Le(){var D;return a()().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:return Ne.next=2,(0,p.iH)(b);case 2:D=Ne.sent,D.code==0&&(le(Ee),re(J));case 4:case"end":return Ne.stop()}},Le)}));function ue(){return de.apply(this,arguments)}return ue}(),onCancel:function(){}});case 1:case"end":return q.stop()}},g)}));return function(b,J){return T.apply(this,arguments)}}(),k=function(g){var b=g.target.value;clearTimeout(Je),Je=setTimeout(function(){Qe=b,Ee=1,le()},500)},m=function(g,b){Se(g),h(!1)},E=function(g){g&&g.stopPropagation&&g.stopPropagation()},_=[{title:o.formatMessage({id:"createkb.filename",defaultMessage:""}),dataIndex:"name",key:"name",ellipsis:!0,className:"max-w-48 text-[#213044] text-xs py-[15px]"},{title:o.formatMessage({id:"createkb.charCount",defaultMessage:""}),dataIndex:"word_count",key:"word_count",className:"max-w-48 w-24 text-[#213044] text-xs py-[15px]"},{title:o.formatMessage({id:"createkb.recallNum",defaultMessage:""}),dataIndex:"hit_count",key:"hit_count",className:"max-w-48 w-20 text-[#213044] text-xs py-[15px]"},{title:o.formatMessage({id:"createkb.uploadTime",defaultMessage:""}),dataIndex:"created_time",key:"created_time",className:"max-w-48 w-44 text-[#213044] text-xs py-[15px]",sorter:!0},{title:o.formatMessage({id:"createkb.status",defaultMessage:""}),dataIndex:"statusText",key:"statusText",className:"max-w-48 w-28 text-[#213044] text-xs py-[15px]",render:function(g,b,J){return(0,e.jsx)("div",{onClick:E,children:(0,e.jsx)(De.Z,{className:b.status==2?"":"bg-[#1B64F3]",defaultChecked:b.status!=2,onChange:function(q){return $(q,g,b,J)},size:"small"},g)})}},{title:o.formatMessage({id:"createkb.action"}),dataIndex:"id",key:"id",className:"max-w-48 w-20 text-[#213044] text-xs py-[15px]",render:function(g,b,J){return(0,e.jsx)("div",{onClick:E,children:(0,e.jsx)("img",{src:"/icons/delete.svg",className:"w-4 h-4",onClick:function(){V(g,J)}})})}}],C=function(){var T=i()(a()().mark(function g(b){return a()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(me(!0),b.file.status!="done"){R.next=5;break}return R.next=4,(0,p.H_)({app_id:s.app_id*1,file_ids:[b.file.response.data.file_id*1],process_rule_id:1,data_source_type:1});case 4:le(Ee);case 5:case"end":return R.stop()}},g)}));return function(b){return T.apply(this,arguments)}}(),le=function(){var T=i()(a()().mark(function g(){var b,J,R,q,de,ue=arguments;return a()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return b=ue.length>0&&ue[0]!==void 0?ue[0]:1,J=ue.length>1&&ue[1]!==void 0?ue[1]:Ae,me(!0),R={app_id:s.app_id,page:b,page_size:10,name:Qe},D.next=6,(0,p.SH)(R);case 6:q=D.sent,q.code==0&&(de=q.data.data.map(function(he,Ne){return x()(x()({},he),{},{statusText:he.status==1?o.formatMessage({id:"createkb.normal"}):he.status==2?o.formatMessage({id:"createkb.disabled"}):o.formatMessage({id:"createkb.deleted"})})}),F(de),fe(q.data)),me(!1);case 9:case"end":return D.stop()}},g)}));return function(){return T.apply(this,arguments)}}(),xe=function(g,b,J){Ae=J.order=="ascend"?"asc":J.order=="descend"?"desc":null,Ee=g.current,le(Ee,Ae)},qe={total:H!=null?H.paging_information.total_count:0,current:Ee,hideOnSinglePage:!0};return(0,f.useEffect)(function(){s.app_id&&(Te(s.type?2:1),le())},[]),(0,e.jsx)(e.Fragment,{children:B?H!=null?(0,e.jsxs)("div",{className:"h-full bg-white w-full",children:[(0,e.jsxs)("div",{className:"w-full py-[30px] flex items-center ",children:[(0,e.jsx)("img",{src:"/icons/flag.svg",className:"w-4 h-4"}),(0,e.jsx)("span",{className:"ml-[10px] text-[#213044] text-[18px] leading-[25px] font-medium",children:Ce==2?o.formatMessage({id:"createkb.knowledge.base.of"})+" "+H.dataset_detail.nickname:Ce==1?o.formatMessage({id:"createkb.editKB"}):o.formatMessage({id:"createkb.createKnowledgeBase"})})]}),(0,e.jsx)("div",{className:"text-[#333333] text-[16px] leading-[22px] font-medium",children:o.formatMessage({id:"createkb.documentSettings"})}),(0,e.jsx)("div",{className:"text-[#555555] text-[12px] leading-[17px] font-medium pt-[30px]",children:o.formatMessage({id:"createkb.uploadDoc"})}),(0,e.jsx)(ut,{fun:C,createkbInfo:s}),(0,e.jsx)("div",{className:"flex justify-between pt-[30px]",children:(0,e.jsx)("span",{className:"text-[#213044] text-xs font-medium",children:o.formatMessage({id:"createkb.documentList"})})}),(0,e.jsx)("div",{className:"flex items-center w-full pt-[10px]",children:(0,e.jsx)(A.Z,{placeholder:o.formatMessage({id:"createkb.searchDoc"}),onChange:k,className:"w-[782px] h-10 mr-5",prefix:(0,e.jsx)($e.Z,{})})}),L(_,pe,z,qe,m,xe),(0,e.jsx)("div",{className:"mt-[30px]",children:(0,e.jsx)(U.ZP,{type:"primary",className:"py-[10px] h-[40px] px-[15px] bg-[#1B64F3] text-white text-[14px] leading-[20px] font-medium",onClick:ne,children:o.formatMessage({id:"createkb.enterRecallTest"})})})]}):"":(0,e.jsx)(It,{fun:W,item:X,createkbInfo:s})})},Ot=Bt,Xe=function(){P.history.back()},Zt=function(){var c=(0,P.useIntl)(),r=(0,f.useState)("1"),s=u()(r,2),l=s[0],o=s[1],L=(0,f.useState)((0,je.Go)("GET")),S=u()(L,2),j=S[0],Q=S[1],oe=[{key:"1",icon:(0,e.jsx)(e.Fragment,{children:l=="1"?(0,e.jsx)("img",{src:"/icons/kb_setting_select.svg",className:"w-4 h-4 mr-[10px]"}):(0,e.jsx)("img",{src:"/icons/kb_setting.svg",className:"w-4 h-4 mr-[10px]"})}),label:c.formatMessage({id:"createkb.settings",defaultMessage:""}),style:{padding:"15px",width:"100%",margin:"0px",marginBottom:"10px",fontSize:"16px",fontWeight:"500",color:l=="1"?"#1B64F3":"#213044"}},{key:"2",icon:(0,e.jsx)(e.Fragment,{children:l=="2"?(0,e.jsx)("img",{src:"/icons/uptxt_select.svg",className:"w-4 h-4 mr-[10px]"}):(0,e.jsx)("img",{src:"/icons/uptxt.svg",className:"w-4 h-4 mr-[10px]",style:{opacity:j.app_id?"1":"0.4"}})}),label:c.formatMessage({id:"createkb.documentSettings",defaultMessage:""}),disabled:!j.app_id,style:{padding:"15px",width:"100%",margin:"0px",marginBottom:"10px",fontSize:"16px",fontWeight:"500",color:l=="2"?"#1B64F3":"#213044"}},{key:"3",icon:(0,e.jsx)(e.Fragment,{children:l=="3"?(0,e.jsx)("img",{src:"/icons/recall_test_select.svg",className:"w-4 h-4 mr-[10px]"}):(0,e.jsx)("img",{src:"/icons/recall_test.svg",className:"w-4 h-4 mr-[10px]",style:{opacity:j.app_id?"1":"0.4"}})}),label:c.formatMessage({id:"createkb.recallTest",defaultMessage:""}),disabled:!j.app_id,style:{padding:"15px",width:"100%",margin:"0px",marginBottom:"10px",fontSize:"16px",fontWeight:"500",color:l=="3"?"#1B64F3":"#213044"}}],ae=function(F){F.type=="set"&&(j.app_id=F.data,Q(j)),F.type=="return"&&Xe(),F.type=="next"&&o(F.data)};function M(){var z=function(w){o(w.key)};return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"flex flex-col bg-white h-full",children:[(0,e.jsx)("div",{className:" bg-white pl-[30px] pt-[30px] border-[#e5e7eb] border-solid border-r",children:(0,e.jsx)("div",{className:"w-full flex  justify-start",children:(0,e.jsxs)("div",{className:"cursor-pointer flex items-center",onClick:Xe,children:[(0,e.jsx)(U.ZP,{type:"link",danger:!0,className:"p-0",children:(0,e.jsx)(ee.Z,{className:"text-[#1B64F3] w-4 h-4"})}),(0,e.jsx)("span",{className:"ml-[5px] text-[#213044] text-sm",children:c.formatMessage({id:"createkb.back",defaultMessage:""})})]})})}),(0,e.jsx)("div",{className:"w-full flex-1 px-[30px] py-[30px] bg-white border-[#e5e7eb] border-solid border-r",children:(0,e.jsx)(we.Z,{onClick:z,style:{width:"100%",borderInlineEnd:"1px solid rgba(0,0,0,0)"},defaultSelectedKeys:[l],mode:"inline",items:oe})})]})})}return(0,e.jsxs)("div",{className:"w-full flex bg-white",style:{height:"calc(100vh - 56px)"},children:[(0,e.jsx)("div",{className:"w-[300px] shrink-0",children:(0,e.jsx)(M,{})}),(0,e.jsx)("div",{className:"shrink-0 h-full overflow-y-auto bg-white overflow-x-auto",style:{width:"calc(100% - 300px)"},children:(0,e.jsx)("div",{className:"w-full h-full flex xl:justify-center justify-start flex-1",children:(0,e.jsx)("div",{className:"w-[900px] xl:px-0 px-[30px]",children:l=="1"?(0,e.jsx)(rt,{createkbInfo:j,fun:ae}):l=="2"?(0,e.jsx)(Ot,{createkbInfo:j,fun:ae}):(0,e.jsx)(et,{createkbInfo:j,fun:ae})})})})]})},At=Zt},58533:function(Fe,ye,n){var ie=n(67294);var u=function(x,v){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,t){a.__proto__=t}||function(a,t){for(var i in t)t.hasOwnProperty(i)&&(a[i]=t[i])},u(x,v)};function je(x,v){u(x,v);function a(){this.constructor=x}x.prototype=v===null?Object.create(v):(a.prototype=v.prototype,new a)}var ee=function(){return ee=Object.assign||function(v){for(var a,t=1,i=arguments.length;t<i;t++){a=arguments[t];for(var p in a)Object.prototype.hasOwnProperty.call(a,p)&&(v[p]=a[p])}return v},ee.apply(this,arguments)};function P(x,v,a,t){var i,p=!1,I=0;function te(){i&&clearTimeout(i)}function O(){te(),p=!0}typeof v!="boolean"&&(t=a,a=v,v=void 0);function y(){var A=this,ve=Date.now()-I,e=arguments;if(p)return;function ke(){I=Date.now(),a.apply(A,e)}function _e(){i=void 0}t&&!i&&ke(),te(),t===void 0&&ve>x?ke():v!==!0&&(i=setTimeout(t?_e:ke,t===void 0?x-ve:x))}return y.cancel=O,y}var U={Pixel:"Pixel",Percent:"Percent"},we={unit:U.Percent,value:.8};function f(x){return typeof x=="number"?{unit:U.Percent,value:x*100}:typeof x=="string"?x.match(/^(\d*(\.\d+)?)px$/)?{unit:U.Pixel,value:parseFloat(x)}:x.match(/^(\d*(\.\d+)?)%$/)?{unit:U.Percent,value:parseFloat(x)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),we):(console.warn("scrollThreshold should be string or number"),we)}var Me=function(x){je(v,x);function v(a){var t=x.call(this,a)||this;return t.lastScrollTop=0,t.actionTriggered=!1,t.startY=0,t.currentY=0,t.dragging=!1,t.maxPullDownDistance=0,t.getScrollableTarget=function(){return t.props.scrollableTarget instanceof HTMLElement?t.props.scrollableTarget:typeof t.props.scrollableTarget=="string"?document.getElementById(t.props.scrollableTarget):(t.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},t.onStart=function(i){t.lastScrollTop||(t.dragging=!0,i instanceof MouseEvent?t.startY=i.pageY:i instanceof TouchEvent&&(t.startY=i.touches[0].pageY),t.currentY=t.startY,t._infScroll&&(t._infScroll.style.willChange="transform",t._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},t.onMove=function(i){t.dragging&&(i instanceof MouseEvent?t.currentY=i.pageY:i instanceof TouchEvent&&(t.currentY=i.touches[0].pageY),!(t.currentY<t.startY)&&(t.currentY-t.startY>=Number(t.props.pullDownToRefreshThreshold)&&t.setState({pullToRefreshThresholdBreached:!0}),!(t.currentY-t.startY>t.maxPullDownDistance*1.5)&&t._infScroll&&(t._infScroll.style.overflow="visible",t._infScroll.style.transform="translate3d(0px, "+(t.currentY-t.startY)+"px, 0px)")))},t.onEnd=function(){t.startY=0,t.currentY=0,t.dragging=!1,t.state.pullToRefreshThresholdBreached&&(t.props.refreshFunction&&t.props.refreshFunction(),t.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){t._infScroll&&(t._infScroll.style.overflow="auto",t._infScroll.style.transform="none",t._infScroll.style.willChange="unset")})},t.onScrollListener=function(i){typeof t.props.onScroll=="function"&&setTimeout(function(){return t.props.onScroll&&t.props.onScroll(i)},0);var p=t.props.height||t._scrollableNode?i.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!t.actionTriggered){var I=t.props.inverse?t.isElementAtTop(p,t.props.scrollThreshold):t.isElementAtBottom(p,t.props.scrollThreshold);I&&t.props.hasMore&&(t.actionTriggered=!0,t.setState({showLoader:!0}),t.props.next&&t.props.next()),t.lastScrollTop=p.scrollTop}},t.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:a.dataLength},t.throttledOnScrollListener=P(150,t.onScrollListener).bind(t),t.onStart=t.onStart.bind(t),t.onMove=t.onMove.bind(t),t.onEnd=t.onEnd.bind(t),t}return v.prototype.componentDidMount=function(){if(typeof this.props.dataLength=="undefined")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},v.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},v.prototype.componentDidUpdate=function(a){this.props.dataLength!==a.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},v.getDerivedStateFromProps=function(a,t){var i=a.dataLength!==t.prevDataLength;return i?ee(ee({},t),{prevDataLength:a.dataLength}):null},v.prototype.isElementAtTop=function(a,t){t===void 0&&(t=.8);var i=a===document.body||a===document.documentElement?window.screen.availHeight:a.clientHeight,p=f(t);return p.unit===U.Pixel?a.scrollTop<=p.value+i-a.scrollHeight+1:a.scrollTop<=p.value/100+i-a.scrollHeight+1},v.prototype.isElementAtBottom=function(a,t){t===void 0&&(t=.8);var i=a===document.body||a===document.documentElement?window.screen.availHeight:a.clientHeight,p=f(t);return p.unit===U.Pixel?a.scrollTop+i>=a.scrollHeight-p.value:a.scrollTop+i>=p.value/100*a.scrollHeight},v.prototype.render=function(){var a=this,t=ee({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),i=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),p=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return ie.createElement("div",{style:p,className:"infinite-scroll-component__outerdiv"},ie.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(I){return a._infScroll=I},style:t},this.props.pullDownToRefresh&&ie.createElement("div",{style:{position:"relative"},ref:function(I){return a._pullDown=I}},ie.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!i&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},v}(ie.Component);ye.Z=Me}}]);
