"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[178],{83510:function(Sa,Ce,s){s.d(Ce,{LK:function(){return me},bs:function(){return Ue},go:function(){return je},uy:function(){return Ge}});var Oe=s(15009),w=s.n(Oe),Le=s(99289),B=s.n(Le),ee=s(47520),a="/v1/apps/apps_list",ze="/v1/agent/agent_delete/",x="/v1/workflow/workflow_app_delete/",O="/v1/vector/delete_dataset/",$e="/v1/skill/delete_skill_by_app_id/",Re="/v1/apps/apps_create",De="/v1/apps/app_update/",je=function(){var ae=B()(w()().mark(function L(Z){var C;return w()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,ee.ZP)("".concat(a),{method:"GET",data:Z});case 2:return C=n.sent,n.abrupt("return",C);case 4:case"end":return n.stop()}},L)}));return function(Z){return ae.apply(this,arguments)}}(),me=function(){var ae=B()(w()().mark(function L(Z){var C;return w()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(Z),n.next=3,Z.mode;case 3:if(n.t0=n.sent,n.t0!=1){n.next=8;break}n.t1=(0,ee.ZP)("".concat(ze).concat(Z.app_id),{method:"DELETE"}),n.next=9;break;case 8:n.t1=Z.mode==2?(0,ee.ZP)("".concat(x).concat(Z.app_id),{method:"DELETE"}):Z.mode==3?(0,ee.ZP)("".concat(O).concat(Z.app_id),{method:"DELETE"}):(0,ee.ZP)("".concat($e).concat(Z.app_id),{method:"DELETE",data:{is_soft:1}});case 9:return C=n.t1,n.abrupt("return",C);case 11:case"end":return n.stop()}},L)}));return function(Z){return ae.apply(this,arguments)}}(),Ge=function(){var ae=B()(w()().mark(function L(Z){var C;return w()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,ee.ZP)("".concat(Re),{method:"POST",data:Z});case 2:return C=n.sent,n.abrupt("return",C);case 4:case"end":return n.stop()}},L)}));return function(Z){return ae.apply(this,arguments)}}(),Ue=function(){var ae=B()(w()().mark(function L(Z){var C;return w()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,ee.ZP)("".concat(De).concat(Z.app_id),{method:"PUT",data:Z});case 2:return C=n.sent,n.abrupt("return",C);case 4:case"end":return n.stop()}},L)}));return function(Z){return ae.apply(this,arguments)}}()},48528:function(Sa,Ce,s){s.r(Ce),s.d(Ce,{default:function(){return qa}});var Oe=s(15009),w=s.n(Oe),Le=s(99289),B=s.n(Le),ee=s(97857),a=s.n(ee),ze=s(5574),x=s.n(ze),O=s(11551),$e=s(83510),Re=s(47520),De=s(29432),je=s(10759),me=s(32332),Ge=s(2068),Ue=s(89035),ae=s(15360),L=s(82826),Z=s(69243),C=s(35312),g=s(40741),n=s(45360),Fe=s(28036),Ma=s(50136),Ke=s(25409),Je=s(74330),b=s(67294),Za=s(13769),We=s.n(Za),we=s(92939),Aa=s(64599),Pa=s.n(Aa),Ca=s(73445),Da=s(42237),ke=(0,Ca.Ue)(function(se){return{models:[],loading:!1,error:null,initialized:!1,fetchModels:function(){var i=B()(w()().mark(function t(){var S;return w()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,se({loading:!0}),h.next=4,(0,Da.fZ)();case 4:if(S=h.sent,S.code!==0){h.next=9;break}se({models:Array.isArray(S.data.data)?S.data.data:[],initialized:!0}),h.next=10;break;case 9:throw new Error(S.message||"Failed to fetch models");case 10:h.next=16;break;case 12:h.prev=12,h.t0=h.catch(0),se({error:h.t0.message}),n.ZP.error("Failed to fetch models");case 16:return h.prev=16,se({loading:!1}),h.finish(16);case 19:case"end":return h.stop()}},t,null,[[0,12,16,19]])}));function U(){return i.apply(this,arguments)}return U}()}}),ka=function(){var i=ke(function(h){return h.models}),U=ke(function(h){return h.loading}),t=ke(function(h){return h.initialized}),S=ke(function(h){return h.fetchModels});(0,b.useEffect)(function(){t||S()},[t,S]);var ne=(0,b.useMemo)(function(){var h=Array.isArray(i)?i:[],k=h.map(function(f){return{label:f.supplier_name,options:Array.isArray(f.model_list)?f.model_list.map(function(K){return{label:K.model_name,value:K.model_config_id}}):[]}}),T,G=Pa()(h),Y;try{for(G.s();!(Y=G.n()).done;){var ie=Y.value;if(Array.isArray(ie.model_list)){var y=ie.model_list.find(function(f){return f.model_default_used===1});if(y){T=y.model_config_id;break}}}}catch(f){G.e(f)}finally{G.f()}return{options:k,defaultValue:T}},[i]);return a()(a()({},ne),{},{loading:U})},Ye=s(82061),Qe=s(51042),te=s(26915),_e=s(72269),Ee=s(34041),R=s(78045),e=s(85893),Ea=["key","name"],Ia=te.Z.TextArea,Ta=function(i){var U=i.FirstValue,t=i.Detaillist,S=i.setDetaillist,ne=i.repository,h=i.setRepository,k=i.Operationbentate,T=i.Ffromref,G=i.setFourthly_config_id,Y=i.Fourthly_config_id,ie=i.Fourthly_select_list,y=i.Newproperties,f=i.setNewproperties,K=i.pageKeyfun,fe=i.firstjudgingcondition,re=i.setAgentmunudisabled,ge=i.agentmenudisabled,u=(0,C.useIntl)(),_=(0,b.useState)([]),W=x()(_,2),ue=W[0],ce=W[1],pe=(0,b.useState)({agent_id:0,data:{is_public:1,enable_api:0,obligations:null,input_variables:{},dataset_ids:[],attrs_are_visible:1}}),z=x()(pe,2),v=z[0],I=z[1];(0,b.useEffect)(function(){Ie()},[]);var V=function(o){G(o)},$=function(o){I(a()(a()({},v),{},{data:a()(a()({},v.data),{},{obligations:o.target.value})})),S(a()(a()({},t),{},{agent:a()(a()({},t.agent),{},{obligations:o.target.value})}))},H=function(o,F){var P=new Set;return o.some(function(X){var J=X[F];return P.has(J)?P.add(J):P.add(J)&&!1})},he=function(o){S(a()(a()({},t),{},{app:a()(a()({},t.app),{},{is_public:o?1:0})})),I(a()(a()({},v),{},{data:a()(a()({},v.data),{},{is_public:o?1:0})}))},Q=function(o){S(a()(a()({},t),{},{app:a()(a()({},t.app),{},{enable_api:o?1:0})})),I(a()(a()({},v),{},{data:a()(a()({},v.data),{},{enable_api:o?1:0})}))},le=function(o){S(a()(a()({},t),{},{app:a()(a()({},t.app),{},{attrs_are_visible:o?1:0})})),I(a()(a()({},v),{},{data:a()(a()({},v.data),{},{attrs_are_visible:o?1:0})}))},Ne=function(o){S(a()(a()({},t),{},{agent:a()(a()({},t.agent),{},{allow_upload_file:o?1:0})}))},Se=function(o){I(a()(a()({},v),{},{data:a()(a()({},v.data),{},{dataset_ids:o})})),h(o)},Ie=function(){var j=B()(w()().mark(function o(){var F;return w()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,(0,O.zl)();case 2:F=X.sent,ce(F.data.data.map(function(J){return{value:J.dataset_id,label:J.name}}));case 4:case"end":return X.stop()}},o)}));return function(){return j.apply(this,arguments)}}(),Me=function(){var j=B()(w()().mark(function o(){return w()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:fe()||(K("2"),re(a()(a()({},ge),{},{first:!1,second:!1})));case 1:case"end":return P.stop()}},o)}));return function(){return j.apply(this,arguments)}}(),Ze=function(o){S(a()(a()({},t),{},{agent:a()(a()({},t.agent),{},{default_output_format:o.target.value})}))},E=ka(),N=E.options,M=E.defaultValue;return(0,e.jsxs)("div",{style:{height:"100%",width:"100%",marginBottom:"30px"},children:[(0,e.jsx)("div",{className:"flex align-center justify-between mt-[30px]",children:(0,e.jsx)("div",{className:"text-base font-medium mb-[30px] text-[#333333]",children:u.formatMessage({id:"agent.menu.basicsetup"})})}),(0,e.jsx)("div",{className:"w-full",children:(0,e.jsxs)(g.Z,{name:"dynamic_form_nest_item",style:{width:"100%"},autoComplete:"off",form:T,children:[(0,e.jsx)(g.Z.List,{name:"users",children:function(o,F){var P,X=F.add,J=F.remove;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(g.Z.Item,{className:"mb-[30px]",children:(0,e.jsxs)("div",{className:"text-[#555555] text-xs",children:[(0,e.jsx)("div",{className:"font-medium  mb-[15px]",children:u.formatMessage({id:"agent.appname"})}),(0,e.jsxs)("div",{className:"w-full p-[15px] flex font-normal items-center bg-[#F7F7F7] rounded-lg",children:[(0,e.jsxs)("div",{children:[t&&t.app&&t.app.name,"\xA0"]}),(0,e.jsx)("div",{className:"",children:k==="true"?u.formatMessage({id:"agent.cannotmodify"}):""})]})]})}),(0,e.jsx)(g.Z.Item,{className:"mb-[30px]",children:(0,e.jsxs)("div",{className:"text-[#555555] text-xs",children:[(0,e.jsx)("div",{className:"font-medium  mb-[15px]",children:u.formatMessage({id:"agent.appdescription"})}),(0,e.jsx)("div",{className:"w-full p-[15px] flex font-normal items-center bg-[#F7F7F7] rounded-lg",children:t&&t.app&&t.app.description})]})}),(0,e.jsx)(g.Z.Item,{className:"mb-[30px]",children:(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"mb-[30px]",children:[(0,e.jsx)("div",{className:"mb-[15px] text-[#555555] text-xs",children:(0,e.jsx)(we.Z,{className:"font-medium",name:u.formatMessage({id:"agent.teamvisibility"}),title:u.formatMessage({id:"agent.explain.teamvisibility"})})}),(0,e.jsx)(_e.Z,{size:"small",onChange:he,checked:!!(t&&t.app.is_public===1)})]}),(0,e.jsxs)("div",{className:"mb-[30px]  font-medium",children:[(0,e.jsx)("div",{className:"mb-[15px] text-[#555555] text-xs",children:u.formatMessage({id:"agent.attrVisible"})}),(0,e.jsx)(_e.Z,{size:"small",onChange:le,checked:t&&t.app.attrs_are_visible===1})]}),(0,e.jsxs)("div",{className:"mb-[30px]  font-medium",children:[(0,e.jsx)("div",{className:"mb-[15px] text-[#555555] text-xs",children:u.formatMessage({id:"agent.APIswitch"})}),(0,e.jsx)(_e.Z,{size:"small",onChange:Q,checked:t&&t.app.enable_api===1,disabled:(t==null||(P=t.app)===null||P===void 0?void 0:P.publish_status)!==1})]}),(0,e.jsxs)("div",{className:"font-medium",children:[(0,e.jsx)("div",{className:"mb-[15px] text-[#555555] text-xs",children:u.formatMessage({id:"agent.filesupload"})}),(0,e.jsx)(_e.Z,{size:"small",onChange:Ne,checked:!!(t&&t.agent.allow_upload_file==1)})]})]})}),(0,e.jsx)(g.Z.Item,{className:"mb-[30px]",children:(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"mb-[15px] text-[#555555] text-xs font-medium",children:[(0,e.jsx)("span",{className:"text-[#E80000]",children:"* "}),u.formatMessage({id:"agent.LLMmodel"})]}),(0,e.jsx)(Ee.Z,{placeholder:u.formatMessage({id:"agent.pleaseselect"}),style:{width:270},value:Y==0?u.formatMessage({id:"agent.pleaseselect"}):Y,variant:"filled",onChange:V,options:N})]})}),(0,e.jsx)(g.Z.Item,{className:"mb-[30px]",name:"obligations",children:(0,e.jsxs)("div",{className:"w-full",children:[(0,e.jsx)("div",{className:"mb-[15px] text-[#555555] text-xs",children:(0,e.jsx)(we.Z,{className:"font-medium",required:!0,name:u.formatMessage({id:"agent.functiondescription"}),title:u.formatMessage({id:"agent.explain.function"})})}),(0,e.jsx)(Ia,{onChange:$,value:t&&t.agent&&t.agent.obligations,placeholder:"Agent".concat(u.formatMessage({id:"agent.functiondescription"})),autoSize:{minRows:8,maxRows:10}})]})}),(0,e.jsx)("div",{className:"mb-[11px] text-xs font-bold flex justify-between items-center",children:(0,e.jsx)("div",{className:"text-[#555555] text-xs",children:(0,e.jsx)(we.Z,{className:"font-medium",required:!0,name:u.formatMessage({id:"agent.inputvariable"}),title:u.formatMessage({id:"agent.explain.inputvariable"})})})}),(0,e.jsxs)("div",{className:"w-full flex justify-start items-center text-xs font-medium px-2.5 text-[#555555] h-12 bg-[#F7F7F7] rounded-t-lg",children:[(0,e.jsx)("div",{className:"w-[22%] mr-2 ml-[10px]",children:u.formatMessage({id:"agent.variable.name"})}),(0,e.jsx)("div",{className:"w-[25%] mr-2",children:u.formatMessage({id:"agent.variable.display"})}),(0,e.jsx)("div",{className:"w-[18%] mr-2",children:u.formatMessage({id:"agent.variable.type"})}),(0,e.jsx)("div",{className:"w-[15%] mr-2",children:u.formatMessage({id:"agent.variable.required"})}),(0,e.jsx)("div",{className:"w-[10%]",children:u.formatMessage({id:"agent.variable.operation"})})]}),(0,e.jsxs)("div",{className:"mb-[30px]",children:[o.map(function(q){var ve=q.key,xe=q.name,be=We()(q,Ea);return(0,e.jsxs)("div",{className:"w-full h-20 flex justify-start px-2.5 border-b border-x pt-7 last:rounded-b-lg",children:[(0,e.jsx)(g.Z.Item,a()(a()({className:"m-0 w-[22%] mr-2"},be),{},{name:[xe,"name"],rules:[{required:!0,message:u.formatMessage({id:"agent.rules.name"})},{pattern:/^[a-zA-Z0-9_]+$/,message:u.formatMessage({id:"agent.rules.verifydescription"})}],children:(0,e.jsx)(te.Z,{placeholder:u.formatMessage({id:"agent.variable.name"}),className:"w-full"})})),(0,e.jsx)(g.Z.Item,a()(a()({className:"m-0 w-[25%] mr-2"},be),{},{name:[xe,"content"],rules:[{required:!0,message:u.formatMessage({id:"agent.rules.displayname"})}],children:(0,e.jsx)(te.Z,{placeholder:u.formatMessage({id:"agent.variable.display"}),className:"w-full"})})),(0,e.jsx)(g.Z.Item,a()(a()({className:"w-[18%] mr-2 m-0"},be),{},{name:[xe,"type"],children:(0,e.jsx)(Ee.Z,{defaultValue:"string",options:[{value:"string",label:"string"},{value:"number",label:"number"}]})})),(0,e.jsx)(g.Z.Item,a()(a()({className:"w-[15%] mr-2 m-0 flex pl-[2%]"},be),{},{name:[xe,"status"],children:(0,e.jsx)(_e.Z,{size:"small"})})),(0,e.jsx)(g.Z.Item,{className:"w-[10%] flex pl-[2%]",children:T&&T.getFieldsValue().users.length>1?(0,e.jsx)(Ye.Z,{onClick:function(){return J(xe)}}):null})]})}),(0,e.jsxs)("div",{onClick:function(){return X()},className:"w-full p-2 mt-4  flex items-center gap-1 justify-center border  border-transparent  hover:border-dashed  hover:border-[#1B64F3] hover:text-[#1B64F3] cursor-pointer bg-[#F7F7F7] rounded-lg mb-4",children:[(0,e.jsx)(Qe.Z,{})," ",u.formatMessage({id:"agent.add"})]})]}),(0,e.jsxs)(g.Z.Item,{className:"mb-[30px]",children:[(0,e.jsx)("div",{className:"text-[#555555] text-xs mb-[15px]",children:(0,e.jsx)(we.Z,{className:"font-medium",name:u.formatMessage({id:"agent.associatedknowledgebase"}),title:u.formatMessage({id:"agent.explain.associatedknowledgebase"})})}),(0,e.jsx)(Ee.Z,{size:"large",mode:"tags",style:{width:"100%"},placeholder:u.formatMessage({id:"agent.pleaseselect"}),value:ne,onChange:Se,options:ue})]}),(0,e.jsx)(g.Z.Item,{className:"mb-[30px]",children:(0,e.jsxs)("div",{className:"",children:[(0,e.jsxs)("div",{className:"text-[#555555] text-xs mb-[15px]",children:[" ",u.formatMessage({id:"agent.defaultoutputformat"})]}),(0,e.jsxs)(R.ZP.Group,{value:t&&t.agent.default_output_format,onChange:function(ve){Ze(ve)},children:[(0,e.jsx)(R.ZP,{value:1,children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-normal",children:"text"})}),(0,e.jsx)(R.ZP,{value:2,children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-normal",children:"json"})}),(0,e.jsx)(R.ZP,{value:3,children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-normal",children:"code"})})]})]})})]})}}),(0,e.jsxs)("div",{children:[(0,e.jsx)(Fe.ZP,{type:"primary",className:"mr-[20px]",onClick:function(){Me()},children:u.formatMessage({id:"agent.btn.nextstep"})}),(0,e.jsx)(Fe.ZP,{onClick:function(){history.back()},children:u.formatMessage({id:"agent.btn.back"})})]}),(0,e.jsx)("div",{className:"h-[30px] w-1"})]})})]})},Ba=Ta,Va=s(49677),Oa=s.n(Va),La=s(92485),za=s(85877),qe=s(39944),$a=s(71471),Ra=["key","name"],wt=$a.Z.Title,_t=te.Z.TextArea,Nt=te.Z.Search,Ga=function(i){var U=i.handleBack,t=i.Detaillist,S=i.setDetaillist,ne=i.Fourthly_select_list,h=i.setFourthly_config_id,k=i.Fourthly_config_id,T=i.Fourthlyref,G=i.Fourthly_abilities_list,Y=i.Operationbentate,ie=i.callwordlist,y=i.newagentid,f=(0,C.useIntl)(),K=(0,b.useState)(0),fe=x()(K,2),re=fe[0],ge=fe[1],u=(0,b.useState)(""),_=x()(u,2),W=_[0],ue=_[1],ce=(0,b.useState)(""),pe=x()(ce,2),z=pe[0],v=pe[1],I=(0,b.useState)(!1),V=x()(I,2),$=V[0],H=V[1],he=function(N){var M={user:{value:Se(N)}};ue(new qe.z(M))},Q=function(N){var M={user:{value:N.target.value}};ue(new qe.z(M))},le=function(N){ge(N)},Ne=function(N){var M=N.users.filter(function(F,P){return F.type=="number"&&!Number(F.value)&&!!F.value});if(!W.user)n.ZP.warning(f.formatMessage({id:"agent.message.warning.callword"}));else if(M.length>0)n.ZP.warning(f.formatMessage({id:"agent.message.warning.datatype"}));else{H(!0);var j=new je.Kr("input","","");N.users.forEach(function(F){var P=new je._w(F.name,F.type?F.type:"string",F.type=="string"?F.value:Number(F.value),F.content,F.status);j.addProperty(F.name,P)});var o={agent_id:y||t.agent.agent_id,ability_id:re,input_dict:j,prompt:W};Ie(o)}},Se=function E(N){return N.map(function(M){return M.type==="mention"?M.id:M.children?E(M.children):M.text}).join("")},Ie=function(N){(0,O.LH)(N).then(function(M){n.ZP.success(f.formatMessage({id:"agent.message.success.runpublish"})),v(M.data.outputs.text),H(!1)}).catch(function(M){H(!1)})},Me=function(){var E=B()(w()().mark(function N(){var M;return w()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,O.Dh)(y||t.agent.agent_id);case 2:M=o.sent,M.code==0?n.ZP.success(f.formatMessage({id:"agent.message.success.publish"})):n.ZP.error(f.formatMessage({id:"agent.message.fail.publish"}));case 4:case"end":return o.stop()}},N)}));return function(){return E.apply(this,arguments)}}(),Ze=function(){var E=B()(w()().mark(function N(){return w()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:C.history.push("/Agents?app_id=".concat(t.app.app_id,"&type=false")),location.reload();case 2:case"end":return j.stop()}},N)}));return function(){return E.apply(this,arguments)}}();return(0,b.useEffect)(function(){},[]),(0,e.jsxs)("div",{style:{height:"100%"},children:[(0,e.jsx)("div",{className:"text-base font-medium text-[#333333] my-[30px]",children:f.formatMessage({id:"agent.operationrun"})}),(0,e.jsxs)("div",{className:"mb-[30px]",children:[(0,e.jsx)("div",{className:"mb-[15px] text-[#555555] text-xs font-medium",children:f.formatMessage({id:"agent.selectivepower"})}),(0,e.jsx)(Ee.Z,{placeholder:f.formatMessage({id:"agent.pleaseselect"}),defaultValue:f.formatMessage({id:"agent.allability"}),style:{width:390,fontSize:"12px",color:"#BBBBBB",fontWeight:"400"},onChange:le,options:G})]}),(0,e.jsx)("div",{children:(0,e.jsxs)(g.Z,{name:"dynamic_form_nest_item",onFinish:Ne,style:{width:"100%"},autoComplete:"off",form:T,children:[(0,e.jsx)("div",{className:"mb-[15px] text-[#555555] text-xs font-medium",children:f.formatMessage({id:"agent.inputvariable"})}),(0,e.jsx)(g.Z.List,{name:"users",children:function(N,M){return Oa()(M),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"w-full flex justify-start items-center text-xs font-medium px-[10px] text-[#213044] h-12 bg-[#F7F7F7]  rounded-t-lg",children:[(0,e.jsx)("div",{className:"mr-5 ml-2.5",children:f.formatMessage({id:"agent.variable.name"})}),(0,e.jsx)("div",{className:"",children:f.formatMessage({id:"agent.variable.value"})})]}),(0,e.jsx)("div",{className:"mb-[30px]",children:N.map(function(j){var o=j.key,F=j.name,P=We()(j,Ra);return(0,e.jsxs)("div",{className:"w-full h-20 flex justify-start  px-2.5 border-b border-x pt-7 last:rounded-b-lg",children:[(0,e.jsx)(g.Z.Item,a()(a()({},P),{},{name:[F,"content"],children:(0,e.jsx)(te.Z,{className:"mr-5",style:{color:"#213044",fontWeight:"400",fontSize:"12px"},variant:"borderless",disabled:!0})})),(0,e.jsx)(g.Z.Item,a()(a()({},P),{},{name:[F,"value"],rules:[{required:!!(T.getFieldsValue()&&T.getFieldsValue().users[o].status==!0),message:f.formatMessage({id:"agent.rules.veriablevalue"})}],children:(0,e.jsx)(te.Z,{placeholder:T.getFieldsValue()&&T.getFieldsValue().users[o].status==!0?f.formatMessage({id:"agent.variable.required.value"}):f.formatMessage({id:"agent.variable.value"})})}))]})})})]})}}),(0,e.jsxs)(g.Z.Item,{rules:[{required:!0,message:f.formatMessage({id:"agent.rules.callwordvalue"})}],children:[(0,e.jsx)("div",{className:"mb-[15px] text-[#555555] text-xs font-medium",children:f.formatMessage({id:"agent.runpreview"})}),(0,e.jsx)(Je.Z,{spinning:$,children:(0,e.jsxs)("div",{className:"bg-[#F7F7F7] p-3.5 rounded-lg",children:[(0,e.jsx)("div",{className:"h-[345px] mb-[30px]",children:z?(0,e.jsx)(La.Z,{language:"python3",value:z&&JSON.stringify(z)}):null}),(0,e.jsxs)("div",{className:"agents-input p-2 bg-white border rounded-md my-2 flex items-center justify-between",style:{border:"1px solid #EEE"},children:[(0,e.jsx)("div",{className:"w-full",children:(0,e.jsx)(za.Z,{onChange:function(N){he(N)},options:ie})}),(0,e.jsx)("div",{className:"w-8 h-8 bg-[#e8effc] rounded-md",children:(0,e.jsx)(Fe.ZP,{className:"bg-[#e8effc]",icon:(0,e.jsx)("img",{src:"/icons/fs.svg"}),type:"link",htmlType:"submit",block:!0})})]})]})})]})]})}),(0,e.jsx)("div",{className:"w-28",children:(t==null?void 0:t.agent.publish_status)===1&&(t==null?void 0:t.is_creator)===1?(0,e.jsx)("div",{children:(0,e.jsx)(Fe.ZP,{type:"primary",htmlType:"submit",className:"w-full",onClick:Ze,children:f.formatMessage({id:"agent.amend"})})}):(0,e.jsx)("div",{children:(0,e.jsx)(Fe.ZP,{type:"primary",htmlType:"submit",className:"w-full",disabled:Y!="false",onClick:Me,children:f.formatMessage({id:"agent.publish"})})})}),(0,e.jsx)("div",{className:"h-[30px] w-1"})]})},Ua=Ga,Ka=["key","name"],Wa=te.Z.TextArea,Ha=function(i){var U=i.SecondValue,t=i.handleBack,S=i.Detaillist,ne=i.setDetaillist,h=i.Sformref,k=i.Operationbentate,T=i.pageKeyfun,G=i.secondjudgingcondition,Y=i.SkillMenuClick,ie=i.agentupdata,y=(0,C.useIntl)(),f=n.ZP.useMessage(),K=x()(f,2),fe=K[0],re=K[1],ge=(0,b.useState)({auto_match_ability:0,agent_abilities:[{agent_ability_id:0,name:"string",content:"string",status:0}]}),u=x()(ge,2),_=u[0],W=u[1];(0,b.useEffect)(function(){});var ue=function(v){if(v.users.length==1&&(!v.users[0].content&&v.users[0].name||v.users[0].content&&!v.users[0].name))return n.ZP.warning(y.formatMessage({id:"agent.message.warning.selectknowledgebase"}));var I=v.users.map(function($){return a()(a()({},$),{},{status:$.status?1:2,agent_ability_id:$.agent_ability_id?$.agent_ability_id:0})}),V={agent_id:S.agent.agent_id,data:{auto_match_ability:S.agent.auto_match_ability,agent_abilities:v.users.length==1&&!v.users[0].content&&!v.users[0].name?[]:I}};k=="false"&&ce(),U(a()({},_))},ce=function(){var z=B()(w()().mark(function v(){return w()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:G()||ie();case 1:case"end":return V.stop()}},v)}));return function(){return z.apply(this,arguments)}}(),pe=function(v){ne(a()(a()({},S),{},{agent:a()(a()({},S.agent),{},{auto_match_ability:v?1:0})}))};return(0,e.jsxs)("div",{style:{height:"100%"},className:"w-full flex-1",children:[(0,e.jsx)("div",{className:"text-base font-medium text-[#333333] my-[30px]",children:y.formatMessage({id:"agent.Applicationcapabilitysetting"})}),(0,e.jsxs)("div",{className:"mb-[30px]",children:[(0,e.jsx)("div",{className:"mb-[15px] text-[#555555] text-xs font-medium",children:(0,e.jsx)(we.Z,{name:y.formatMessage({id:"agent.automatch"}),title:y.formatMessage({id:"agent.explain.automatch"})})}),(0,e.jsx)(_e.Z,{size:"small",checked:!!(S&&S.agent.auto_match_ability==1),onChange:pe})]}),(0,e.jsx)("div",{className:"w-full",children:(0,e.jsxs)(g.Z,{name:"dynamic_form_nest_item",onFinish:ue,style:{width:"100%"},autoComplete:"off",form:h,children:[(0,e.jsx)(g.Z.List,{name:"users",children:function(v,I){var V=I.add,$=I.remove;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"w-full flex items-center justify-between mb-[11px]",children:(0,e.jsx)("div",{className:" text-[#555555] text-xs font-medium",children:y.formatMessage({id:"agent.capability"})})}),v.map(function(H){var he=H.key,Q=H.name,le=We()(H,Ka);return(0,e.jsxs)("div",{className:"bg-[#F7F7F7] p-[15px] rounded-lg mb-[20px]",children:[(0,e.jsx)(g.Z.Item,{className:"mb-0",children:(0,e.jsxs)("div",{className:"w-full flex justify-between items-center mb-[15px]",children:[(0,e.jsx)("div",{className:"text-[#555555] text-xs font-medium",children:y.formatMessage({id:"agent.capabilityname"})}),(0,e.jsxs)("div",{children:[" ",(0,e.jsx)(Ye.Z,{onClick:function(){return $(Q)}})]})]})}),(0,e.jsx)(g.Z.Item,a()(a()({className:"mb-[20px]"},le),{},{name:[Q,"name"],rules:[{required:v.length!==1,message:y.formatMessage({id:"agent.capabilityname"})}],children:(0,e.jsx)(te.Z,{placeholder:y.formatMessage({id:"agent.capabilityname"}),maxLength:50,className:"w-full"})})),(0,e.jsx)("div",{className:"mb-[15px]",children:(0,e.jsx)(we.Z,{className:"text-[#555555] text-xs font-medium",name:y.formatMessage({id:"agent.capabilitydescription"}),title:y.formatMessage({id:"agent.explain.capabilitydescription"})})}),(0,e.jsx)(g.Z.Item,a()(a()({className:"w-full mb-[20px]"},le),{},{name:[Q,"content"],rules:[{required:v.length!==1,message:y.formatMessage({id:"agent.capabilitydescription"})}],children:(0,e.jsx)(Wa,{placeholder:y.formatMessage({id:"agent.capabilitydescription"}),autoSize:{minRows:3,maxRows:10},className:"w-full"})})),(0,e.jsx)("div",{className:"text-[#555555] text-xs font-medium mb-[15px]",children:y.formatMessage({id:"agent.capabilitystatus"})}),(0,e.jsx)(g.Z.Item,a()(a()({className:"mb-[20px]"},le),{},{name:[Q,"status"],children:(0,e.jsxs)(R.ZP.Group,{optionType:"button",buttonStyle:"solid",defaultValue:!0,children:[(0,e.jsx)(R.ZP,{value:!0,children:y.formatMessage({id:"agent.capabilitystatus.enable"})}),(0,e.jsx)(R.ZP,{value:!1,children:y.formatMessage({id:"agent.capabilitystatus.disable"})})]})})),(0,e.jsx)("div",{className:"text-[#555555] text-xs font-medium mb-[11px]",children:y.formatMessage({id:"agent.enableall"})}),(0,e.jsx)(g.Z.Item,{className:"mb-0",name:[Q,"output_format"],children:(0,e.jsxs)(R.ZP.Group,{defaultValue:0,children:[(0,e.jsx)(R.ZP,{value:0,children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-normal",children:y.formatMessage({id:"agent.menu"})})}),(0,e.jsx)(R.ZP,{value:1,children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-normal",children:"text string"})}),(0,e.jsx)(R.ZP,{value:2,children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-normal",children:"format json"})}),(0,e.jsx)(R.ZP,{value:3,children:(0,e.jsx)("div",{className:"text-[#555555] text-xs font-normal",children:"code"})})]})})]})}),(0,e.jsxs)("div",{onClick:function(){return V()},className:"w-full p-6  flex items-center gap-1 justify-center border  border-transparent  hover:border-dashed  hover:border-[#1B64F3] hover:text-[#1B64F3] cursor-pointer bg-[#F7F7F7] rounded-lg mb-4",children:[(0,e.jsx)(Qe.Z,{})," ",y.formatMessage({id:"agent.addAbility"})]})]})}}),(0,e.jsx)("div",{className:"h-[30px] w-1"})]})})]})},Xa=Ha,Ja=s(13085),Ya=s(43822),Qa=function(){var i,U,t=(0,C.useIntl)(),S=(0,b.useRef)(null),ne=g.Z.useForm(),h=x()(ne,1),k=h[0],T=g.Z.useForm(),G=x()(T,1),Y=G[0],ie=g.Z.useForm(),y=x()(ie,1),f=y[0],K=g.Z.useForm(),fe=x()(K,1),re=fe[0],ge=(0,b.useState)(null),u=x()(ge,2),_=u[0],W=u[1],ue=(0,b.useState)(0),ce=x()(ue,2),pe=ce[0],z=ce[1],v=(0,b.useState)(null),I=x()(v,2),V=I[0],$=I[1],H=(0,b.useState)(null),he=x()(H,2),Q=he[0],le=he[1],Ne=(0,b.useState)(null),Se=x()(Ne,2),Ie=Se[0],Me=Se[1],Ze=(0,b.useState)(null),E=x()(Ze,2),N=E[0],M=E[1],j=(0,b.useState)(null),o=x()(j,2),F=o[0],P=o[1],X=(0,b.useState)(null),J=x()(X,2),q=J[0],ve=J[1],xe=(0,b.useState)(null),be=x()(xe,2),et=be[0],St=be[1],at=(0,b.useState)(null),ea=x()(at,2),aa=ea[0],tt=ea[1],st=(0,b.useState)(null),ta=x()(st,2),ye=ta[0],nt=ta[1],it=(0,b.useState)("1"),sa=x()(it,2),de=sa[0],Te=sa[1],rt=(0,b.useState)(null),na=x()(rt,2),lt=na[0],ia=na[1],dt=(0,b.useState)(null),ra=x()(dt,2),ot=ra[0],ut=ra[1],ct=(0,b.useState)(null),la=x()(ct,2),mt=la[0],da=la[1],ft=(0,b.useState)(null),oa=x()(ft,2),Ae=oa[0],ua=oa[1],gt=(0,b.useState)(!1),ca=x()(gt,2),pt=ca[0],ma=ca[1],ht=(0,b.useState)({first:!1,second:!1,fourthly:!1}),fa=x()(ht,2),Pe=fa[0],Be=fa[1],vt=[{key:"1",icon:(0,e.jsx)(Ge.Z,{}),label:t.formatMessage({id:"agent.menu.basicsetup"}),disabled:Pe.first,style:{padding:"15px",width:"100%",margin:"0px",marginBottom:"10px",fontSize:"16px",fontWeight:"500",lineHeight:"22px",color:de=="1"?"#1B64F3":"#213044"}},{key:"2",disabled:Pe.second,icon:(0,e.jsx)(Ue.Z,{}),label:t.formatMessage({id:"agent.menu.Capacityoutput"}),style:{padding:"15px",width:"100%",margin:"0px",marginBottom:"10px",fontSize:"16px",lineHeight:"22px",fontWeight:"500",color:de=="2"?"#1B64F3":"#213044"}},{key:"5",disabled:Pe.fourthly,icon:(0,e.jsx)(ae.Z,{}),label:t.formatMessage({id:"app.dashboard.run_log"}),style:{padding:"15px",width:"100%",margin:"0px",marginBottom:"10px",fontSize:"16px",lineHeight:"22px",fontWeight:"500",color:de=="5"?"#1B64F3":"#213044"}}];(0,b.useEffect)(function(){var A=new URLSearchParams(window.location.search);A.get("app_id")||Be(a()(a()({},Pe),{},{first:!1,second:!0,fourthly:!0})),Ve()},[]);var Ve=function(){var A=B()(w()().mark(function r(l){var d,m,p,c,wa,Xe,_a,Na;return w()().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(m=new URLSearchParams(window.location.search),m.get("from")&&ut(m.get("from")),p=null,!(m.get("app_id")||l)){oe.next=10;break}return oe.next=6,(0,O.ek)(l||m.get("app_id"),m.get("type"));case 6:p=oe.sent,ua(p.data.app.app_id),oe.next=13;break;case 10:return oe.next=12,(0,me.cI)();case 12:p=oe.sent;case 13:c=p.data,wa=(d=p.data)===null||d===void 0||(d=d.agent_dataset_relation_list)===null||d===void 0?void 0:d.map(function(D){return D.dataset_id}),$(wa),W(p.data),nt(p.data.agent.publish_status===0&&p.data.is_creator===1?"false":"true"),p.data.agent.publish_status===1&&n.ZP.warning(t.formatMessage({id:"agent.message.listwarning"}),5),k.setFieldsValue(ga(c.agent.input_variables)),Xe=p.data.agent_abilities_list.map(function(D){return D.status==1?a()(a()({},D),{},{status:!0}):a()(a()({},D),{},{status:!1})}),f.setFieldsValue({users:Xe[0]?Xe:[{agent_ability_id:0,name:"",content:"",status:!0,output_format:0}]}),Me(He(c.agent_abilities_list)),M(He(c.agent_abilities_list)),_a=c.agent_abilities_list.filter(function(D){return D.output_format!==0}),Y.setFieldsValue({users:_a.map(function(D){return{agent_ability_id:D.agent_ability_id,output_format:D.output_format}})}),re.setFieldsValue(ga(c.agent.input_variables)),P(c.m_configurations_list.map(function(D){return{value:D.m_config_id?D.m_config_id:D.model_config_id,label:D.m_name?D.m_name:D.model_name}})),c.agent.m_config_id||c.agent.model_config_id?ve(c.agent.m_config_id?c.agent.m_config_id:c.agent.model_config_id):ve(c.m_configurations_list[0].model_config_id),Na=c.agent_abilities_list.filter(function(D,Zt){return D.status===1}),tt(He(Na).concat([{value:0,label:t.formatMessage({id:"agent.allability"})}]));case 31:case"end":return oe.stop()}},r)}));return function(l){return A.apply(this,arguments)}}(),ga=function(r){var l={users:r&&r.properties?Object.values(r.properties).map(function(d){return{name:d.name,type:d.type,content:d.display_name,status:d.required}}):[{name:"",content:"",type:"string",agent_ability_id:0,output_format:0,status:0}]};return l},He=function(r){return r.map(function(l){return{value:l.agent_ability_id,label:l.name}})},xt=function(r){Fa(r,1),re.setFieldsValue(k.getFieldsValue())},bt=function(){Ve()},pa=function(r){z(r)},yt=function(){C.history.back()},ha=function(){var r=k.getFieldsValue().users.filter(function(l){return!l||!l.name||!l.content});if(k.getFieldsValue().users[0])if(q)if(_.agent.obligations){if(r.length!==0)return n.ZP.warning(t.formatMessage({id:"agent.message.warning.completevariable"})),!0;if(jt(k.getFieldsValue().users,"name"))return n.ZP.warning(t.formatMessage({id:"agent.message.warning.repetition"})),!0}else return n.ZP.warning(t.formatMessage({id:"agent.message.warning.functiondescribe"})),!0;else return n.ZP.warning(t.formatMessage({id:"agent.message.warning.LLM"})),!0;else return n.ZP.warning(t.formatMessage({id:"agent.message.warning.variable"})),!0;return!1},va=function(){var r=f.getFieldsValue().users.filter(function(d){return!!d}),l=r.filter(function(d){return!d.name||!d.content});return l.length!==0&&!(l.length==1&&l[0].name==""&&l[0].content=="")?(n.ZP.warning(t.formatMessage({id:"agent.message.warning.integritycapacity"})),!0):!1},xa=function(r){if((r==null?void 0:r.key)=="4"){var l=k.getFieldsValue().users.map(function(d){return{value:"<<".concat(De.qX,".inputs.").concat(d.name,">>"),label:d.name}});ia(l)}Te(r.key)},ba=function(){ma(!0);var r=0;return new Promise(function(l,d){Ae?(0,O.ek)(Ae,!1).then(function(m){r=m.data.agent.agent_id,ya(r),l(""),setTimeout(function(){ja(r),n.ZP.success(t.formatMessage({id:"skill.conserve.success"}))},500),setTimeout(function(){Ve(Ae)},1e3),da(r)}).catch(function(m){l("")}):(0,$e.uy)((0,me.Go)("GET")).then(function(m){ua(m.data.app_id),(0,O.ek)(Ae||m.data.app_id,!1).then(function(p){l(p),r=p.data.agent.agent_id,ya(r),m.data.app_id&&C.history.replace("/Agents?app_id=".concat(m.data.app_id,"&type=false")),setTimeout(function(){ja(r),n.ZP.success(t.formatMessage({id:"skill.conserve.success"}))},500),setTimeout(function(){Ve(m.data.app_id);var c=a()(a()({},(0,me.Go)("GET")),{},{app_id:m.data.app_id});(0,me.Go)("SET",c)},1e3),da(r)}).catch(function(p){l("")})}).catch(function(m){})})},ya=function(r,l){k.validateFields().then(function(d){var m={agent_id:r,data:{is_public:_.app.is_public,enable_api:_.app.enable_api,attrs_are_visible:_.app.attrs_are_visible,obligations:_.agent.obligations,input_variables:Ft(k.getFieldsValue()),dataset_ids:V,m_config_id:q,allow_upload_file:_.agent.allow_upload_file,default_output_format:_.agent.default_output_format}};ye=="false"&&Fa(m,1),re.setFieldsValue(k.getFieldsValue());var p=k.getFieldsValue().users.map(function(c){return{value:"<<".concat(De.qX,".inputs.").concat(c.name,">>"),label:c.name}});ia(p),l&&Te(l.key)}).catch(function(d){})},ja=function(r){var l=f.getFieldsValue().users.filter(function(p){return!!p}),d=l.map(function(p){return a()(a()({},p),{},{status:p.status==!1?2:1,agent_ability_id:p.agent_ability_id?p.agent_ability_id:0,output_format:p.output_format?p.output_format:0})}),m={agent_id:r,data:{auto_match_ability:_.agent.auto_match_ability,agent_abilities:d}};ye=="false"&&(d.length==1&&d[0].name==""&&d[0].content==""?Be({first:!1,second:!1,fourthly:!1}):(0,O.Iw)(m).then(function(p){p.code==0&&Be({first:!1,second:!1,fourthly:!1})}).catch(function(p){}))},Fa=function(){var A=B()(w()().mark(function r(l,d){var m;return w()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(ye!=="false"){c.next=19;break}if(d!==1){c.next=7;break}return c.next=4,(0,O.XB)(l);case 4:c.t0=c.sent,c.next=17;break;case 7:if(d!==2){c.next=13;break}return c.next=10,(0,O.Iw)(l);case 10:c.t1=c.sent,c.next=16;break;case 13:return c.next=15,(0,O.Ce)(l);case 15:c.t1=c.sent;case 16:c.t0=c.t1;case 17:m=c.t0,m&&m.code===0&&ma(!1);case 19:case"end":return c.stop()}},r)}));return function(l,d){return A.apply(this,arguments)}}(),jt=function(r,l){var d=new Set;return r.some(function(m){var p=m[l];return d.has(p)?d.add(p):d.add(p)&&!1})},Ft=function(r){var l=new je.Kr("input","","");return r.users.forEach(function(d){var m=new je._w(d.name,d.type?d.type:"string",d.value?d.value:"",d.content,d.status);l.addProperty(d.name,m)}),l};return(0,e.jsxs)("div",{className:" flex bg-white",style:{height:"calc(100vh - 56px)"},children:[(0,e.jsxs)("div",{className:"flex flex-col w-[300px]",style:{height:"calc(100vh - 56px)"},children:[(0,e.jsx)("div",{className:"flex w-full items-center bg-white px-[30px] pt-[30px] border-[#e5e7eb] border-solid border-r",children:(0,e.jsxs)(Fe.ZP,{type:"link",shape:"circle",size:"middle",className:"",onClick:yt,children:[(0,e.jsx)(L.Z,{}),(0,e.jsx)("span",{className:"text-sm font-medium text-[#213044]",children:ot=="chat_room"?t.formatMessage({id:"agent.back_meeting"}):t.formatMessage({id:"agent.back"})})]})}),(0,e.jsxs)("div",{className:"w-full flex-1 px-[30px] py-[30px] bg-white border-[#e5e7eb] border-solid border-r",children:[(0,e.jsx)(Ma.Z,{selectedKeys:[de],onClick:xa,style:{width:"100%",borderInlineEnd:"1px solid rgba(0,0,0,0)"},defaultSelectedKeys:[de],mode:"inline",items:vt}),_&&_.app.enable_api===1&&_.app.publish_status===1?(0,e.jsx)("div",{className:"w-full h-[40px] rounded-lg text-[#000] hover:bg-[#f0f0f0] p-[12px] pl-[16px] cursor-pointer",onClick:B()(w()().mark(function A(){var r,l;return w()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(r=new URLSearchParams(window.location.search),l=null,!r.get("app_id")){m.next=6;break}return m.next=5,(0,O.ek)(r.get("app_id"),r.get("type"));case 5:l=m.sent;case 6:l!=null&&l.data.app.enable_api===1&&l.data.app.publish_status===1?window.open(Re._n+_.app.api_url):n.ZP.warning(t.formatMessage({id:"agent.save.and.click"}),5);case 7:case"end":return m.stop()}},A)})),children:(0,e.jsxs)("div",{className:"mr-[20px] text-base font-medium text-[#213044] -mt-1",children:[(0,e.jsx)(Z.Z,{className:"mr-3"}),t.formatMessage({id:"agent.visit"})," API"]})}):null]})]}),(0,e.jsx)("div",{className:"flex-1 relative w-[calc(100%-300px)]",children:(0,e.jsxs)(Ke.Z,{style:{height:"100%",boxShadow:"0 0 10px rgba(0, 0, 0, 0.1)"},children:[(0,e.jsx)(Ke.Z.Panel,{defaultSize:"50%",min:"40%",max:"70%",children:(0,e.jsx)(Je.Z,{spinning:pt,size:"large",className:"mt-[112px] mr-4",children:(0,e.jsx)("div",{className:"flex flex-col",style:{height:"calc(100vh - 56px)",overflowY:"scroll",scrollbarWidth:"none"},children:(0,e.jsxs)("div",{className:"px-[30px] ",style:{overflowX:"auto",height:"100%"},children:[(0,e.jsx)("div",{className:"w-full flex justify-center  mt-[30px]",children:(0,e.jsxs)("div",{className:"flex items-center w-full ",children:[(0,e.jsx)("div",{className:"mr-[10px] w-[16px] h-[16px]",children:(0,e.jsx)("img",{src:"/icons/flag.svg",alt:"",className:"w-[16px] h-[16px]"})}),(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsxs)("div",{className:"mr-[6px] text-lg text-[#213044] font-medium",children:[(i=(0,me.Go)("GET"))!==null&&i!==void 0&&i.app_id?t.formatMessage({id:"agent.compile"}):t.formatMessage({id:"agent.created"}),t.formatMessage({id:"agent"})]}),(_==null||(U=_.app)===null||U===void 0?void 0:U.publish_status)===1?(0,e.jsx)("div",{className:"bg-[#1B64F3] px-[7px] text-[#fff] rounded font-normal text-xs flex items-center justify-center h-[18px]",children:t.formatMessage({id:"agent.havepublished"})}):(0,e.jsx)("div",{className:" bg-[#EEE] px-[7px]  text-[#999] rounded font-normal text-xs flex items-center justify-center h-[18px]",children:t.formatMessage({id:"agent.unpublish"})})]})]})}),(0,e.jsx)("div",{style:{display:de==="1"?"flex":"none",height:"calc(100vh - 146px)",justifyContent:"center"},children:(0,e.jsx)(Ba,{FirstValue:xt,Ffromref:k,Detaillist:_,setDetaillist:W,repository:V,setRepository:$,Newproperties:Q,setNewproperties:le,Operationbentate:ye,Fourthly_config_id:q,setFourthly_config_id:ve,Fourthly_select_list:F,pageKeyfun:Te,firstjudgingcondition:ha,agentmenudisabled:Pe,setAgentmunudisabled:Be})}),(0,e.jsx)("div",{style:{display:de==="2"?"flex":"none",height:"calc(100vh - 146px)",justifyContent:"center"},children:(0,e.jsx)(Xa,{SecondValue:bt,Detaillist:_,setDetaillist:W,Sformref:f,Operationbentate:ye,handleBack:pa,pageKeyfun:Te,SkillMenuClick:xa,secondjudgingcondition:va,agentupdata:ba})}),(0,e.jsx)("div",{style:{display:de==="4"?"flex":"none",height:"calc(100vh - 146px)",justifyContent:"center"},children:(0,e.jsx)(Ua,{handleBack:pa,Detaillist:_,setDetaillist:W,Fourthly_select_list:F,Fourthly_config_id:q,setFourthly_config_id:ve,Fourthlyref:re,Fourthly_abilities_list:aa,Operationbentate:ye,callwordlist:lt,newagentid:mt})})]})})})}),(0,e.jsx)(Ke.Z.Panel,{children:(0,e.jsx)("div",{children:(0,e.jsx)(Ja.Z,{saveInfo:{firstjudgingcondition:ha,secondjudgingcondition:va,agentupdata:ba},operationbentate:ye,data:{abilitiesList:aa,detailList:_}})})}),de=="5"&&(0,e.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-slate-50 w-full h-full z-10",children:(0,e.jsx)(Ya.ZP,{agent_id:_.agent.agent_id})})]})})]})},qa=Qa}}]);
